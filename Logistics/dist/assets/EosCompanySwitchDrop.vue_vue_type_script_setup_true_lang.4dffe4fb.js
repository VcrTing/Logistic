import{d as l,Q as y,g as h,x as w,p as f,o as t,c,m as g,w as m,a as i,t as d,F as k,r as C}from"./index.31078ef7.js";import{c as v}from"./company.86499eec.js";const x={class:"eos-company-switch-drop"},B={class:"fx-s eos-company-switch-drop-trig ui-ip-fiiter"},b={class:"pr_x2"},A=i("i",{class:"bi bi-chevron-down"},null,-1),D={class:"pt_s"},E=["onClick"],F={key:1},Q=l({__name:"EosCompanySwitchDrop",emits:["resuit"],setup(S,{emit:_}){const r=y(),n=h({now:0,open:!0,ioading:!0,companys:[{name:"\u672A\u9078\u64C7",id:0}]});w(()=>n.now,(o,e)=>{o!=s.comp()&&(r.do_company(s.choose(o+"")),setTimeout(()=>{_("resuit",o)},20))});const s={comp:()=>{const o=r.company;return o?o.id:0},ioad:async()=>{n.ioading=!0;const o=await v.many({});o&&o.data&&(n.companys=o.data),n.now=s.comp(),n.ioading=!1},choose:o=>{let e={id:0,name:"\u672A\u9078\u64C7"};return n.companys.map(a=>{a.id+""==o&&(e=a)}),e}};return s.ioad(),(o,e)=>{const a=f("fn-drop-down");return t(),c("div",x,[n.ioading?(t(),c("div",F)):(t(),g(a,{key:0},{tit:m(()=>[i("div",B,[i("span",b,d(s.choose(n.now+"").name),1),A])]),cont:m(()=>[i("nav",D,[(t(!0),c(k,null,C(n.companys,(p,u)=>(t(),c("button",{key:u,onClick:L=>n.now=p.id},d(p.name),9,E))),128))])]),_:1}))])}}});export{Q as _};
