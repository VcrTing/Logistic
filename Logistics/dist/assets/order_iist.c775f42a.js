import{d as x,o as d,c as v,a as t,i as s,h,t as c,b as w,L as T,e as $,z as W,A as H,_ as j,M as C,g as F,p as f,m as g,w as y,F as D,r as S,k as P,f as A,u as k,x as B,n as R,K as J,s as I,N as G,G as O,I as M,O as Q,P as N,E as X}from"./index.df30013d.js";import{_ as Y}from"./JsBarcode.vue_vue_type_script_setup_true_lang.3c497de5.js";import{L as Z}from"./ICON_CF_S.c52d5a84.js";import{_ as tt}from"./OrderIistFixedPanner.vue_vue_type_script_setup_true_lang.6990037b.js";import{c as et}from"./company.bf5b4742.js";import"./CoOrderFpCont.vue_vue_type_script_setup_true_lang.1e8c0f65.js";const b=n=>(W("data-v-cd318f3c"),n=n(),H(),n),ot={class:"fx-c eos-oop-wrapper pt_s"},nt={class:"eos-order-one-pdf"},st={border:"1",cellspacing:"0"},it={width:"24%",style:{padding:"0.3em 0.5em"}},at=["src"],dt=b(()=>t("td",{class:"t_c"},[t("h1",null,"\u7FD4\u70FD\u7269\u6D41"),t("h4",null,"Cheung Fung Logistics Limited")],-1)),_t={colspan:"2"},ut=b(()=>t("p",null,"\u7FD4\u70FD\u904B\u55AE\u7DE8\u865F CF waybill number:",-1)),ct={class:"t_c pt_1"},rt={class:"eoop_center_tabie",border:"1",cellspacing:"0"},lt={rowspan:"3",width:"54%",class:"t_t"},pt=b(()=>t("p",{class:"pt_1"},"\u6D3E\u9001\u5730\u5740 Ddelivery address:",-1)),mt={class:"ih-h4 eiip_x4"},ht=b(()=>t("p",null,"\u6536\u4EF6\u4EBA To :",-1)),yt=b(()=>t("p",null,"\u6536\u4EF6\u4EBA\u96FB\u8A71 Tel :",-1)),ft=b(()=>t("p",null,"\u5BA2\u6236\u904B\u55AE\u7DE8\u865F Waybill number :",-1)),vt={key:0,class:"n eiip_x1"},bt={key:1,class:"n eiip_x1"},wt={class:"eoop_center_tabie",border:"1",cellspacing:"0"},gt={colspan:"3"},$t=b(()=>t("p",null,"\u5BC4\u4EF6\u4EBA\u8CC7\u6599 FROM :",-1)),xt={class:"ih-h4"},Et={width:"41%"},At=b(()=>t("p",null,"\u8A02\u55AE\u7D44 Order group :",-1)),Ft={width:"28%"},kt=b(()=>t("p",null,"\u91CD\u91CF Weight :",-1)),Ct=b(()=>t("p",null,"\u5730\u5340 District :",-1)),Dt=b(()=>t("p",null,"\u8A02\u55AE\u7DE8\u865F Order No. :",-1)),Bt={key:0,class:"n"},Ot={key:1,class:"n eiip_x1"},Tt=b(()=>t("p",null,"\u4EF6\u6578 Package :",-1)),Pt=b(()=>t("p",null,"\u8DEF\u7DDA Route :",-1)),Rt={class:"eoop_center_tabie",border:"1",cellspacing:"0"},St={width:"54%"},It=b(()=>t("p",null,"\u904B\u8CBB Delivery charge:",-1)),Nt={key:0,style:{display:"inline-block"}},Vt=b(()=>t("p",null,"\u4EE3\u6536\u8CA8\u6B3E Collection payment:",-1)),Lt={key:0,style:{display:"inline-block"}},Mt={class:"",colspan:"2"},Gt=b(()=>t("p",null,"\u5099\u8A3B Note:",-1)),Kt={class:"mh_5 eiip_x4 ih-h4 pb_1"},Ut=x({__name:"CoPdfOrderOne",props:{one:null,idx:null},setup(n){const u=n,p=()=>u.one.company?u.one.company.name:"",e=(a,o="- -")=>u.one[a]?u.one[a]:o;return(a,o)=>(d(),v("div",ot,[t("div",nt,[t("table",st,[t("tr",null,[t("td",it,[t("img",{class:"w-100",src:s(Z)},null,8,at)]),dt]),t("tr",null,[t("td",_t,[ut,t("div",ct,[h(Y,{class:"barcode",w:420,idx:n.idx,code:n.one.cf_waybill_no},null,8,["idx","code"])])])])]),t("table",rt,[t("tr",null,[t("td",lt,[pt,t("h4",mt,c(e("address")),1)]),t("td",null,[ht,t("h4",null,c(e("customer_name")),1)])]),t("tr",null,[t("td",null,[yt,t("h4",null,c(e("customer_phone_no")),1)])]),t("tr",null,[t("td",null,[ft,n.one.waybill_no.length<19?(d(),v("h4",vt,c(e("waybill_no")),1)):(d(),v("h6",bt,c(e("waybill_no")),1))])])]),t("table",wt,[t("tr",null,[t("td",gt,[$t,t("h4",xt,c(p())+"\xA0 ",1)])]),t("tr",null,[t("td",Et,[At,t("h4",null,c(e("order_group")),1)]),t("td",Ft,[kt,t("h4",null,c(e("weight","0"))+"\xA0KG",1)]),t("td",null,[Ct,t("h4",null,c(e("district")),1)])]),t("tr",null,[t("td",null,[Dt,n.one.order_id.length<19?(d(),v("h4",Bt,c(e("order_id")),1)):(d(),v("h6",Ot,c(e("order_id")),1))]),t("td",null,[Tt,t("h4",null,c(e("count_now"))+"/"+c(e("total_item_count")),1)]),t("td",null,[Pt,t("h4",null,c(e("route")),1)])])]),t("table",Rt,[t("tr",null,[t("td",St,[It,t("h4",null,[w("HK$\xA0"),e("delivery_charge","")?(d(),v("div",Nt,c(s(T).money(e("delivery_charge",""))),1)):$("",!0)])]),t("td",null,[Vt,t("h4",null,[w("HK$\xA0"),e("collection_payment","")?(d(),v("div",Lt,c(s(T).money(e("collection_payment",""))),1)):$("",!0)])])]),t("tr",null,[t("td",Mt,[Gt,t("h4",Kt,c(e("remarks")),1)])])])])]))}});const qt=j(Ut,[["__scopeId","data-v-cd318f3c"]]),zt={class:"pr sub"},Wt=t("span",null,"\xA0",-1),Ht=x({__name:"OrderOnePrintMod",setup(n){const u=C().order,p=F({many:[],ioading:!0});return(()=>{C().do_orders([u]),p.many=[];const a=u.total_item_count;for(let o=0;o<a;o++)u.count_now=o+1,p.many.push({...u});setTimeout(()=>p.ioading=!1,100)})(),(a,o)=>{const i=f("eos-tabie-ioading"),r=f("cp-pdfs-button"),_=f("my-button"),l=f("eos-panner-print");return d(),g(l,null,{cont:y(()=>[h(i,{many:p.many,ioad:p.ioading},{default:y(()=>[(d(!0),v(D,null,S(p.many,(m,E)=>(d(),v("div",{class:"pb_x3 fx-s fx-t",key:E},[t("span",zt,c(m.count_now)+" / "+c(m.total_item_count),1),h(qt,{class:"__qiong_printed_ciass",one:m,idx:E},null,8,["one","idx"]),Wt]))),128))]),_:1},8,["many","ioad"])]),bar:y(()=>[p.many&&p.many.length>0?(d(),g(r,{key:0,onSuccess:o[0]||(o[0]=()=>{s(P)().do_mod(0)}),doms:"__qiong_printed_ciass",ref:"pdfs"},null,512)):(d(),g(_,{key:1,onClick:o[1]||(o[1]=()=>{s(P)().do_mod(0)}),typed:"pri-tin"},{default:y(()=>[w("\u95DC\u9589")]),_:1}))]),_:1})}}}),jt={class:"w-9"},Jt={class:"w-14 pr_s"},Qt={class:"w-12 pr_s"},Xt={class:"w-9 pr_s"},Yt={class:"w-11 pr_s"},Zt={class:"w-10 pr"},te={class:"w-10 pr_s"},ee={class:"w-10"},oe={class:"w-8 pr_s"},ne={class:"w-7 fx-r"},se=x({__name:"OrderIistTd",props:{idx:null,one:null,aii:null},setup(n){const u=P(),p=A().is_admin,e=C(),a=k();return(o,i)=>{const r=f("eos-tabie-opera"),_=f("eos-tabie-choose-item-td");return d(),v("div",{class:R(["td",{"td-focus-err":n.one.is_new}])},[h(_,{one:n.one,aii:n.aii},{default:y(()=>[t("div",jt,c(s(B).view_time(n.one.create_date,"/")),1),t("div",Jt,c(n.one.cf_waybill_no),1),t("div",Qt,c(n.one.waybill_no),1),t("div",Xt,c(n.one.order_group),1),t("div",Yt,[t("div",{onClick:i[0]||(i[0]=()=>{s(e).do_order(n.one),s(u).do_panner(1),s(e).read(n.one.id,n.one.is_new),n.one.is_new=!1}),class:"pri hand"},c(n.one.order_id),1)]),t("div",Zt,c(s(B).view_time(n.one.delivery_date,"/")),1),t("div",te,c(s(B).view_time(n.one.receipt_date,"/")),1),t("div",ee,c(n.one.customer_name),1),t("div",oe,c(n.one.customer_phone_no),1),t("div",ne,[h(r,{vais:s(p)?"trash_edit_print":"edit_print",is_icon:!0,onEdit:i[1]||(i[1]=()=>{s(e).do_order(n.one),s(a).push("/admin/order_iist/edit")}),onTrash:i[2]||(i[2]=()=>{s(e).do_order(n.one),s(u).do_mod(-200)}),onPrint:i[3]||(i[3]=()=>{s(e).do_order(n.one),s(u).do_mod(1),s(e).do_orders_print([n.one]),s(e).read(n.one.id,n.one.is_new),n.one.is_new=!1})},null,8,["vais"])])]),_:1},8,["one","aii"])],2)}}}),ie={class:"tr"},ae=t("div",{class:"w-9"},[w(" \u5275\u5EFA\u65E5\u671F"),t("br"),t("p",{class:"tr-en"},"Create date")],-1),de=t("div",{class:"w-14"},[w(" \u7FD4\u70FD\u904B\u55AE\u865F\u78BC"),t("br"),t("p",{class:"tr-en"},"CF waybill number")],-1),_e=t("div",{class:"w-12"},[w(" \u5BA2\u6236\u904B\u55AE\u7DE8\u865F"),t("br"),t("p",{class:"tr-en"},"Waybill number")],-1),ue=t("div",{class:"w-9"},[w(" \u8A02\u55AE\u7D44"),t("br"),t("p",{class:"tr-en"},"Group")],-1),ce=t("div",{class:"w-11"},[w(" \u8A02\u55AE\u7DE8\u865F"),t("br"),t("p",{class:"tr-en"},"Order No.")],-1),re=t("div",{class:"w-10"},[w(" \u6D3E\u9001\u65E5\u671F"),t("br"),t("p",{class:"tr-en"},"Delivery date")],-1),le=t("div",{class:"w-10"},[w(" \u8A02\u55AE\u65E5\u671F"),t("br"),t("p",{class:"tr-en"},"Order date")],-1),pe=t("div",{class:"w-10"},[w(" \u6536\u4EF6\u4EBA"),t("br"),t("p",{class:"tr-en"},"Recipient")],-1),me=t("div",{class:"w-8"},[w(" \u6536\u4EF6\u96FB\u8A71"),t("br"),t("p",{class:"tr-en"},"Phone")],-1),he={class:"w-7 fx-r"},ye=x({__name:"OrderIistTr",props:{aii:null},setup(n){return(u,p)=>{const e=f("eos-go-button"),a=f("eos-tabie-choose-item-tr");return d(),v("nav",ie,[h(a,{aii:n.aii},{default:y(()=>[ae,de,_e,ue,ce,re,le,pe,me,t("div",he,[n.aii.many.length>30?(d(),g(e,{key:0})):$("",!0)])]),_:1},8,["aii"])])}}}),fe={class:"fx-l"},ve=t("span",{class:"px_s"},null,-1),be=t("i",{class:"bi bi-plus-lg"},null,-1),we=x({__name:"CpTabiePdfBar",emits:["p_aii","excei"],setup(n){const u=k(),p=A();return(e,a)=>{const o=f("eos-print-drop"),i=f("my-button");return d(),v("div",fe,[h(o,null,{default:y(()=>[t("button",{onClick:a[0]||(a[0]=r=>e.$emit("p_aii"))},"\u5168\u90E8 All")]),_:1}),ve,s(p).is_admin?$("",!0):(d(),g(i,{key:0,typed:"pri-out",onClick:a[1]||(a[1]=r=>s(u).push("/admin/custom_order_iist/upioad_order_in_buik"))},{default:y(()=>[be,w(" \u6279\u91CF\u4E0A\u50B3\u8A02\u55AE Upload orders in bulk ")]),_:1})),s(p).is_admin?(d(),g(i,{key:1,typed:"pri-out",icon:"bi-file-earmark-excel",onClick:a[2]||(a[2]=r=>e.$emit("excei"))},{default:y(()=>[w("\u5C0E\u51FA Excel Export Excel")]),_:1})):$("",!0)])}}}),ge={class:"fx-s"},$e=t("div",{class:"py_t"},null,-1),xe=x({__name:"OrderIistBar",props:{aii:null},setup(n){const u=n,e=J().query,a=I(e==null?void 0:e.is_deveiop);A();const o=k(),i=F({p_aii:()=>{C().do_orders_print(u.aii.choose),o.push("/admin/order_iist/print_muiti")},export_excei:async()=>{const r=[],_=A().company.uuid,l=u.aii?u.aii.choose:[];l&&l.length>0&&l.map(m=>{const E=m.cf_waybill_no;E&&r.push(E+"")}),_&&r.length>0&&G.excei(r,_+"")},export_front:()=>{const _=(u.aii?u.aii.choose:[]).map(l=>{for(let m in l)l[m]=l[m]?l[m]:"";return l.company=l.company?l.company.name:"",l});_&&_.length>0&&T.dowioad_xisx(_)}});return(r,_)=>{const l=f("my-button");return d(),v(D,null,[t("div",ge,[h(we,{onP_aii:_[0]||(_[0]=m=>s(i).p_aii()),onExcei:_[1]||(_[1]=m=>s(i).export_excei())}),s(a)&&s(a)=="1"?(d(),g(l,{key:0,onClick:_[2]||(_[2]=m=>s(i).export_front())},{default:y(()=>[w("\u524D\u7AEF\u5BFC\u51FA Excel")]),_:1})):$("",!0)]),$e],64)}}}),Ee={class:"fiiter-bar fx-t"},Ae={class:"fx-1"},Fe={class:"fiiter-inner fiiter-inner-many"},ke=t("option",{value:""},"\u65E5\u671F\u985E\u578B Date type",-1),Ce=t("option",{value:"creation"},"\u5275\u5EFA\u65E5\u671F Create date",-1),De=t("option",{value:"receive"},"\u8A02\u55AE\u65E5\u671F Order date",-1),Be=t("option",{value:"delivery"},"\u6D3E\u9001\u65E5\u671F Delivery date",-1),Oe=[ke,Ce,De,Be],Te=t("div",{class:"pt_s"},null,-1),Pe=x({__name:"OrderIistTop",emits:["search"],setup(n,{emit:u}){k(),I();const p=A();let e=F({wb_order_no:"",startDate:"",endDate:"",dateType:"",deliveryman:""});const a=()=>u("search",e);return(o,i)=>{const r=f("eos-input-fiiter"),_=f("fn-time-doubie"),l=f("eos-search-button");return d(),v("div",null,[t("div",Ee,[t("nav",Ae,[t("div",Fe,[h(r,{class:"w-31",header:"\u4EFB\u610F\u904B\u55AE\u7DE8\u865F:"},{default:y(()=>[O(t("input",{class:"input","onUpdate:modelValue":i[0]||(i[0]=m=>s(e).wb_order_no=m),onBlur:i[1]||(i[1]=()=>{s(e).wb_order_no&&a()}),placeholder:"Enter the any waybill number"},null,544),[[M,s(e).wb_order_no]])]),_:1}),h(r,{class:"w-18",header:""},{default:y(()=>[O(t("select",{class:R(["input px-0",{"ui-ip-fiiter-empty":!s(e).dateType}]),"onUpdate:modelValue":i[2]||(i[2]=m=>s(e).dateType=m)},Oe,2),[[Q,s(e).dateType]])]),_:1}),h(r,{class:"w-34",header:"\u65E5\u671F\u5340\u9593:"},{default:y(()=>[h(_,{onReset:i[3]||(i[3]=()=>{s(e).startDate="",s(e).endDate="",a()}),onResuit_1:i[4]||(i[4]=m=>s(e).startDate=m),onResuit_2:i[5]||(i[5]=m=>s(e).endDate=m)})]),_:1}),s(p).is_admin?(d(),g(r,{key:0,class:"w-17",header:"\u9001\u8CA8\u54E1:"},{default:y(()=>[O(t("input",{class:"input","onUpdate:modelValue":i[6]||(i[6]=m=>s(e).deliveryman=m),placeholder:"Delivery men"},null,512),[[M,s(e).deliveryman]])]),_:1})):$("",!0)])]),t("div",{class:R(["",{"fiiter-fixed-btn":s(p).is_admin}])},[h(l,{onResuit:a,forms:s(e),kiii_vaiid:!0,is_en:!0},null,8,["forms"])],2)]),Te])}}}),Re={class:"eos-company-switch-drop"},Se={class:"fx-s eos-company-switch-drop-trig ui-ip-fiiter"},Ie={class:"pr_x2"},Ne=t("i",{class:"bi bi-chevron-down"},null,-1),Ve={class:"pt_s"},Le=["onClick"],Me={key:1},Ge=x({__name:"EosCompanySwitchDrop",emits:["resuit"],setup(n,{emit:u}){const p=N(),e=F({now:0,open:!0,ioading:!0,companys:[{name:"\u672A\u9078\u64C7",id:0}]});X(()=>e.now,(o,i)=>{o!=a.comp()&&(p.do_company(a.choose(o+"")),setTimeout(()=>{u("resuit",o)},20))});const a={comp:()=>{const o=p.company;return o?o.id:0},ioad:async()=>{e.ioading=!0;const o=await et.many({});o&&o.data&&(e.companys=o.data),e.now=a.comp(),e.ioading=!1},choose:o=>{let i={id:0,name:"\u672A\u9078\u64C7"};return e.companys.map(r=>{r.id+""==o&&(i=r)}),i}};return a.ioad(),(o,i)=>{const r=f("fn-drop-down");return d(),v("div",Re,[e.ioading?(d(),v("div",Me)):(d(),g(r,{key:0},{tit:y(()=>[t("div",Se,[t("span",Ie,c(a.choose(e.now+"").name),1),Ne])]),cont:y(()=>[t("nav",Ve,[(d(!0),v(D,null,S(e.companys,(_,l)=>(d(),v("button",{key:l,onClick:m=>e.now=_.id},c(_.name),9,Le))),128))])]),_:1}))])}}}),Ke=x({__name:"OrderIistTopCompanySwitch",emits:["refresh"],setup(n){const u=A();return N(),(p,e)=>s(u).is_admin?(d(),g(Ge,{key:0,onResuit:e[0]||(e[0]=a=>{p.$emit("refresh")})})):$("",!0)}}),Ue=t("div",null,null,-1),qe={class:"panner mh-tabie"},ze={class:"tabie"},We={class:"td-wrap"},Ze=x({__name:"order_iist",setup(n){const u=I(),p=k(),e=A(),a=N();e.is_admin&&(a.company.id||p.push("/admin/company_choose"));const o=F({choose:[],ioading:!0,page:{total:1},condition:{},imit:25,many:[]}),i=async()=>{r.sorts();try{o.ioading=!0;let _=await G.many(o.condition);_.data&&(o.many=_.data,o.page=_.page,r.success())}catch{}finally{setTimeout(()=>o.ioading=!1,1400)}},r={success:()=>{o.ioading=!1,o.choose.length=0},sorts:()=>{o.condition["sort[0]"]="createdAt:desc"},search:async _=>{for(let l in _)o.condition[l]=_[l];try{u.value.reset()}catch{r.pagina(0,0,o.imit)}},pagina:async(_,l,m)=>{o.condition["pagination[page]"]=_,o.condition["pagination[pageSize]"]=m,await i()}};return(_,l)=>{const m=f("eos-tabie-ioading"),E=f("eos-go-button"),K=f("eos-pagination"),U=f("eos-mod"),q=f("eos-mod-sure"),z=f("eos-iayout-screen-extra");return d(),g(z,{is_en:!0},{opera:y(()=>[h(Ke,{onRefresh:l[0]||(l[0]=V=>r.pagina(0,0,o.imit))}),Ue]),cont:y(()=>[h(Pe,{onSearch:r.search},null,8,["onSearch"]),t("nav",qe,[h(xe,{aii:o},null,8,["aii"]),t("div",ze,[h(ye,{aii:o},null,8,["aii"]),h(m,{ioad:o.ioading,many:o.many},{default:y(()=>[t("nav",We,[(d(!0),v(D,null,S(o.many,(V,L)=>(d(),g(se,{key:L,one:V,idx:L,aii:o},null,8,["one","idx","aii"]))),128))])]),_:1},8,["ioad","many"])]),o.page.total?(d(),g(K,{key:0,mode:-1,is_500:!0,class:"pt",ref_key:"pagni",ref:u,onResuit:r.pagina,_limit:o.imit,count:o.page.total},{default:y(()=>[o.many.length>50?(d(),g(E,{key:0,is_bottom:!0})):$("",!0)]),_:1},8,["onResuit","_limit","count"])):$("",!0)])]),extra:y(()=>[h(tt),h(U,null,{default:y(()=>[h(Ht)]),_:1}),h(q)]),_:1})}}});export{Ze as default};
