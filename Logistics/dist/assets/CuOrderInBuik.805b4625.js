import{d as A,s as D,k as P,g,p as h,i as w,o as u,c as m,a as e,h as a,w as _,G as x,I as C,e as B,b as $,v as W,_ as G,q as U,t as f,Q as H,E as V,m as k,F as T,r as I,L as F,x as Y,f as N,P as S,n as q,K as z,u as R,M as K,N as Q}from"./index.afa8f2c9.js";import{_ as j}from"./CoOrderFpCont.vue_vue_type_script_setup_true_lang.1eb569b3.js";import{_ as J}from"./EosCompanySwitchDrop.vue_vue_type_script_setup_true_lang.48c4285c.js";import"./company.07485b81.js";const X={key:0,class:"panner"},Z=e("h2",null,"\u4FEE\u6539\u5C0E\u5165\u524D\u7684\u8A02\u55AE\xA0Edit",-1),ee={key:0,class:"pb_x2 pt_x"},se={class:"f-row"},te=e("div",{class:"py_row"},null,-1),ne={class:"f-row"},oe=e("div",{class:"py_row"},null,-1),ie={class:"f-row"},ae=e("div",{class:"py_row"},null,-1),ue={class:"f-row"},re=e("div",{class:"py_row"},null,-1),ce={class:"fx-c upper"},le=A({__name:"CuOibTdForm",emits:["refresh"],setup(n,{emit:c}){const o=D(),l=P(),t=P().one,s=g({receipt_date:"",order_id:"",index:0,waybill_no:"",order_group:"",total_item_count:0,customer_name:"",customer_phone_no:"",address:""}),i=g({receipt_date:!1,order_id:!1,waybill_no:!1,order_group:!1,total_item_count:!1,customer_name:!1,customer_phone_no:!1,address:!1}),d=function(){let v=!0;if(s.order_id)i.order_id=!1;else return i.order_id=!0,!1;if(s.customer_phone_no)i.customer_phone_no=!1;else return i.customer_phone_no=!0,!1;return Object.values(i).map(r=>{r&&(v=!1)}),v},p=()=>{d()&&(c("refresh",s),l.do_mod(0))};return(v=>{if(v&&v.order_id){for(let r in s)s[r]=v[r];W(()=>{v.receipt_date&&o.value.ioc(v.receipt_date)})}else l.do_mod(0)})(t),(v,r)=>{const O=h("fn-time"),E=h("eos-input"),M=h("my-button");return w(t)?(u(),m("div",X,[Z,s.order_id?(u(),m("div",ee,[e("div",se,[a(E,{class:"w-50",header:"\u8A02\u55AE\u65E5\u671F Order time"},{default:_(()=>[a(O,{ref_key:"timed",ref:o,onResuit:r[0]||(r[0]=y=>s.receipt_date=y)},null,512)]),_:1}),a(E,{class:"w-50",is_err:i.order_id,header:"\u8A02\u55AE\u7DE8\u865F Order no."},{default:_(()=>[x(e("input",{class:"input","onUpdate:modelValue":r[1]||(r[1]=y=>s.order_id=y),placeholder:"\u8ACB\u8F38\u5165 Please Enter"},null,512),[[C,s.order_id]])]),_:1},8,["is_err","header"])]),te,e("div",ne,[a(E,{class:"w-50",is_err:i.waybill_no,header:"\u904B\u55AE\u7DE8\u865F Waybill number"},{default:_(()=>[x(e("input",{class:"input","onUpdate:modelValue":r[2]||(r[2]=y=>s.waybill_no=y),placeholder:"\u8ACB\u8F38\u5165 Please Enter"},null,512),[[C,s.waybill_no]])]),_:1},8,["is_err"]),a(E,{class:"w-50",is_err:i.order_group,header:"\u8A02\u55AE\u7D44 Order group"},{default:_(()=>[x(e("input",{class:"input","onUpdate:modelValue":r[3]||(r[3]=y=>s.order_group=y),placeholder:"\u8ACB\u8F38\u5165 Please Enter"},null,512),[[C,s.order_group]])]),_:1},8,["is_err"])]),oe,e("div",ie,[a(E,{class:"w-50",is_err:i.total_item_count,header:"\u4EF6\u6578 Package"},{default:_(()=>[x(e("input",{class:"input",type:"number","onUpdate:modelValue":r[4]||(r[4]=y=>s.total_item_count=y),placeholder:"\u8ACB\u8F38\u5165 Please Enter"},null,512),[[C,s.total_item_count]])]),_:1},8,["is_err"])]),ae,e("div",ue,[a(E,{class:"w-50",is_err:i.customer_name,header:"\u6536\u4EF6\u4EBA Recipient"},{default:_(()=>[x(e("input",{class:"input","onUpdate:modelValue":r[5]||(r[5]=y=>s.customer_name=y),placeholder:"\u8ACB\u8F38\u5165 Please Enter"},null,512),[[C,s.customer_name]])]),_:1},8,["is_err"]),a(E,{class:"w-50",is_err:i.customer_phone_no,header:"\u96FB\u8A71\u865F\u78BC Phone number"},{default:_(()=>[x(e("input",{class:"input","onUpdate:modelValue":r[6]||(r[6]=y=>s.customer_phone_no=y),placeholder:"\u8ACB\u8F38\u5165 Please Enter"},null,512),[[C,s.customer_phone_no]])]),_:1},8,["is_err"])]),re,a(E,{class:"w-100",header:"\u5730\u5740 Address"},{default:_(()=>[x(e("textarea",{class:"input","onUpdate:modelValue":r[7]||(r[7]=y=>s.address=y),placeholder:"\u8ACB\u8F38\u5165 Please Enter"},null,512),[[C,s.address]])]),_:1})])):B("",!0),e("div",ce,[a(M,{onClick:p},{default:_(()=>[$("\u5132\u5B58")]),_:1})])])):B("",!0)}}}),de={},_e={class:"tr"},me=U('<div class="w-11"> \u8A02\u55AE\u65E5\u671F<br><p class="tr-en">Order date</p></div><div class="w-14"> \u5BA2\u6236\u904B\u55AE\u7DE8\u865F<br><p class="tr-en">Waybill number</p></div><div class="w-8"> \u8A02\u55AE\u7D44<br><p class="tr-en">Group</p></div><div class="w-11"> \u8A02\u55AE\u7DE8\u865F<br><p class="tr-en">Order No.</p></div><div class="w-12"> \u6536\u4EF6\u4EBA<br><p class="tr-en">Recipient</p></div><div class="w-11"> \u96FB\u8A71<br><p class="tr-en">Phone</p></div><div class="w-8"> \u4EF6\u6578<br><p class="tr-en">Package</p></div><div class="w-22"> \u5730\u5740<br><p class="tr-en">Address/Locations</p></div><div class="w-4"></div>',9),pe=[me];function he(n,c){return u(),m("nav",_e,pe)}const fe=G(de,[["render",he]]),ve={class:"td"},ye={class:"w-11"},be={class:"w-14"},we={class:"w-8"},$e={class:"w-11"},ge={class:"w-12"},Ae={class:"w-11"},Ee={class:"w-8"},Be={class:"w-22"},xe={class:"w-4 t-r"},Ce=A({__name:"CuOibIistTd",props:{idx:null,one:null},setup(n){const c=n,o=P();return(l,t)=>{const s=h("eos-tabie-opera");return u(),m("div",ve,[e("div",ye,f(n.one.receipt_date),1),e("div",be,f(n.one.waybill_no),1),e("div",we,f(n.one.order_group),1),e("div",$e,[e("div",{onClick:t[0]||(t[0]=()=>{w(o).do_one(n.one),w(o).do_panner(1)}),class:"pri hand"},f(n.one.order_id),1)]),e("div",ge,f(n.one.customer_name),1),e("div",Ae,f(n.one.customer_phone_no),1),e("div",Ee,f(n.one.total_item_count),1),e("div",Be,f(n.one.address),1),e("div",xe,[a(s,{vais:"edit",is_icon:!0,onEdit:t[1]||(t[1]=()=>{w(o).do_one(c.one),w(o).do_mod(1)})})])])}}}),L=A({__name:"CuOibFixPanner",setup(n){const c=H(P()),o=D();return V(c.one,l=>o.value=l),(l,t)=>{const s=h("eos-fixed-panner"),i=h("eos-empty");return o.value&&o.value.order_id?(u(),k(s,{key:0},{default:_(()=>[a(j,{one:o.value},null,8,["one"])]),_:1})):(u(),k(s,{key:1},{default:_(()=>[a(i)]),_:1}))}}}),Fe={class:"tabie"},ke={class:"td-wrap"},Pe={key:0,class:"pt"},Oe=A({__name:"CuOibIist",props:{many:null},setup(n){const c=n;V(c.many,(s,i)=>{l.pagina(0,0,o.imit)});const o=g({items:[],imit:50,ioading:!1,start:0}),l=g({pagina:(s,i,d)=>{o.ioading=!0,o.start=i,o.imit=d,o.items=c.many.slice(i,i+d),o.ioading=!1}}),t=s=>{o.items.map((i,d)=>{i.index===s.index&&(o.items[d]=s)})};return(s,i)=>{const d=h("eos-tabie-ioading"),p=h("eos-pagination"),b=h("eos-mod");return u(),m("div",null,[e("div",Fe,[a(fe),a(d,{ioad:w(o).ioading,many:n.many},{default:_(()=>[e("nav",ke,[(u(!0),m(T,null,I(w(o).items,(v,r)=>(u(),m("div",{key:r},[a(Ce,{one:v,idx:r},null,8,["one","idx"])]))),128))])]),_:1},8,["ioad","many"])]),n.many&&n.many.length>0?(u(),m("div",Pe,[a(p,{mode:0,onResuit:w(l).pagina,count:n.many.length,_limit:w(o).imit},null,8,["onResuit","count","_limit"])])):B("",!0),a(b,null,{default:_(()=>[a(le,{onRefresh:t})]),_:1}),a(L)])}}}),De={class:""},Te=U('<div class="sun"><p>\u8ACB\u4E0B\u8F09\u6700\u65B0\u7248\u672C\u4F7F\u7528\u6279\u91CF\u4E0B\u55AE\uFF0C\u5426\u5247\u5C07\u4E0D\u80FD\u6210\u529F\u4E0B\u55AE</p><p>Please download the latesttemplate and use batch order,</p><p>otherwise you will not be able to place an order successfully.</p><div>\xA0</div><p>\u6279\u91CF\u4E0B\u55AE\u6559\u5B78\u5982\u4E0B: <span class="pri">HTTP://YOUTUBE.COM</span></p><p>Batch ordering teaching is as follows: <span class="pri">HTTP://YOUTUBE.COM</span></p></div><div class="pt"></div><div class="b"><p>\u6279\u91CF\u4E0B\u55AE\u8A66\u7B97\u7BC4\u672C: <span class="pri">\u4E0B\u8F09\u5831\u8868</span></p><p>Batch Trial Balance Template: <span class="pri">Download Report</span></p></div><div>\xA0</div>',4),Re={class:"fx-l upper"},Ue=e("div",{class:"b pl_x2 righter"},[e("p",null,"\u8A3B\u610F\uFF1A\u6BCF\u6B21\u5EFA\u8B70\u4E0A\u50B3\u4E0D\u591A\u65BC500\u884C\u8A18\u9304"),e("p",null,"Note: It is recommended to upload no more than 500 records each time.")],-1),Ve=A({__name:"CustomUpioadBase",emits:["resuit"],setup(n,{emit:c}){const o=g({header:["receipt_date","waybill_no","order_group","order_id","customer_name","customer_phone_no","address","route","district","product_content","weight","total_item_count","delivery_charge","collection_payment","remarks"]}),l=async s=>new Promise(i=>{let d=[];for(let p=0;p<s.length;p++)d.push(t.ser_one(s[p],p));i(d)}),t=g({ser_one:(s,i)=>(s.index=i,s.weight=F.parse_int(s.weight),s.delivery_charge=F.parse_int(s.delivery_charge),s.total_item_count=F.parse_int(s.total_item_count),s.total_item_count||(s.total_item_count=1),s.collection_payment=F.parse_int(s.collection_payment),s.receipt_date=s.receipt_date?Y.fmt_time(s.receipt_date):"",s),reciv:async s=>{c("resuit",[]);const i=await F.ioad_by_fiie(s,o.header);c("resuit",await l(i))}});return(s,i)=>{const d=h("eos-upioad-button");return u(),m("div",De,[Te,e("div",Re,[a(d,{onResuit:t.reciv},null,8,["onResuit"]),Ue])])}}}),Ie={class:"panner upper"},Ne=e("h4",null,[e("div",null,"\u78BA\u8A8D\u5132\u5B58"),e("div",null,"Confirm Save")],-1),Se=e("div",{class:"pt_x pb_x2 sun"},[e("p",null,"\u5982\u4F60\u78BA\u8A8D\u7121\u8AA4\uFF0C\u8ACB\u5132\u5B58\u81F3\u8A02\u55AE\u5217\u8868\u4E2D"),e("p",null,"If you confirm it correctly, please save it to order management.")],-1),Le={class:"fx-l"},Me={class:"pr"},We={key:0,class:"righter"},Ge={key:0},He={key:1},Ye={key:1,class:"pl_x2 fx-l"},qe=e("span",null,"\u4E0A\u50B3\u81F3:\xA0\xA0",-1),ze=A({__name:"CustomUpioadConfirm",props:{num:null,totai:null},emits:["save"],setup(n){D();const c=N(),o=S(),l=D(!1);return(t,s)=>{const i=h("my-button"),d=h("eos-aii-button");return u(),m("nav",Ie,[Ne,Se,e("div",Le,[e("div",Me,[a(i,{class:q({"btn-die":l.value}),typed:"pri-tin",onClick:s[0]||(s[0]=p=>l.value=!0)},{default:_(()=>[$("\u4E0B\u4E00\u6B65 Next")]),_:1},8,["class"])]),l.value?(u(),m("div",We,[n.totai?(u(),k(i,{key:0},{default:_(()=>[$(" \u4E0A\u50B3\u9032\u5EA6:\xA0\xA0 "),n.num?(u(),m("span",Ge,f(n.num<n.totai?n.num:n.totai),1)):(u(),m("span",He,"0")),$(" \xA0/\xA0"+f(n.totai),1)]),_:1})):(u(),k(d,{key:1,vais:"save",onSave:s[1]||(s[1]=p=>t.$emit("save")),is_en:!0}))])):B("",!0),w(c).is_admin?(u(),m("div",Ye,[qe,e("span",null,f(w(o).company.name),1)])):B("",!0)])])}}}),Ke={class:"tr"},Qe=e("div",{class:"w-11"},[$(" \u8A02\u55AE\u65E5\u671F"),e("br"),e("p",{class:"tr-en"},"Order date")],-1),je=e("div",{class:"w-14"},[$(" \u7FD4\u70FD\u904B\u55AE\u7DE8\u865F"),e("br"),e("p",{class:"tr-en"},"Waybill number")],-1),Je=e("div",{class:"w-14"},[$(" \u5BA2\u6236\u904B\u55AE\u7DE8\u865F"),e("br"),e("p",{class:"tr-en"},"Waybill number")],-1),Xe=e("div",{class:"w-8"},[$(" \u8A02\u55AE\u7D44"),e("br"),e("p",{class:"tr-en"},"Group")],-1),Ze=e("div",{class:"w-10"},[$(" \u8A02\u55AE\u7DE8\u865F"),e("br"),e("p",{class:"tr-en"},"Order No.")],-1),es=e("div",{class:"w-11"},[$(" \u6536\u4EF6\u4EBA"),e("br"),e("p",{class:"tr-en"},"Reciver")],-1),ss=e("div",{class:"w-10"},[$(" \u96FB\u8A71"),e("br"),e("p",{class:"tr-en"},"Phone")],-1),ts=e("div",{class:"w-19"},[$(" \u5730\u5740"),e("br"),e("p",{class:"tr-en"},"Address/Locations")],-1),ns=e("div",{class:"w-4"},null,-1),os=A({__name:"CuOibIistSavedTr",props:{aii:null},setup(n){return(c,o)=>{const l=h("eos-tabie-choose-item-tr");return u(),m("nav",Ke,[a(l,{aii:n.aii},{default:_(()=>[Qe,je,Je,Xe,Ze,es,ss,ts,ns]),_:1},8,["aii"])])}}}),is=e("div",{class:"py_t"},null,-1),as=A({__name:"CuOibIistSavedBar",props:{aii:null},setup(n){const c=n,o=z(),l=R(),t=g({p_aii:()=>{const s=c.aii.choose?c.aii.choose:[];if(s&&s.length>0){K().do_orders_print_2(s);const i=l.resolve({path:"/admin/order_iist/print_muiti"});setTimeout(()=>window.open(i.href+"?from="+o.path+"&source=2","_blank"),200)}}});return(s,i)=>{const d=h("my-button");return u(),m(T,null,[a(d,{onClick:w(t).p_aii,typed:"pri-tin",icon:"bi bi-file-earmark-pdf"},{default:_(()=>[$(" \u5217\u5370 Print ")]),_:1},8,["onClick"]),is],64)}}}),us={class:"td"},rs={class:"w-11"},cs={class:"w-14 pr_s"},ls={class:"w-14 pr_s"},ds={class:"w-8"},_s={class:"w-10 pr_s"},ms={class:"w-11"},ps={class:"w-10"},hs={class:"w-19 t-elip_x2"},fs=e("div",{class:"w-4 t-r"},null,-1),vs=A({__name:"CuOibIistSavedTd",props:{idx:null,one:null,aii:null},setup(n){const c=P();return R(),(o,l)=>{const t=h("eos-tabie-choose-item-td");return u(),m("div",us,[a(t,{one:n.one,aii:n.aii},{default:_(()=>[e("div",rs,f(n.one.receipt_date),1),e("div",cs,[e("span",{class:"pri hand",onClick:l[0]||(l[0]=()=>{w(c).do_one(n.one),w(c).do_panner(1)})},f(n.one.cf_waybill_no),1)]),e("div",ls,f(n.one.waybill_no),1),e("div",ds,f(n.one.order_group),1),e("div",_s,f(n.one.order_id),1),e("div",ms,f(n.one.customer_name),1),e("div",ps,f(n.one.customer_phone_no),1),e("div",hs,f(n.one.address),1),fs]),_:1},8,["one","aii"])])}}}),ys={class:"panner"},bs={class:"tabie"},ws={class:"td-wrap"},$s={key:0,class:"pt"},gs=A({__name:"CuOibSavedIist",props:{success:null},setup(n){const c=n,o=g({choose:[],start:0,imit:25,ioading:!0,page:{total:1},condition:{},many:[]});o.many=c.success,o.ioading=!1;const l=g({pagina:(t,s,i)=>{o.ioading=!0,o.start=s,o.imit=i,o.many=c.success.slice(s,s+i),o.ioading=!1}});return(t,s)=>{const i=h("eos-tabie-ioading"),d=h("eos-pagination");return u(),m("nav",ys,[a(as,{aii:o},null,8,["aii"]),e("div",bs,[a(os,{aii:o},null,8,["aii"]),a(i,{ioad:o.ioading,many:o.many},{default:_(()=>[e("nav",ws,[(u(!0),m(T,null,I(o.many,(p,b)=>(u(),m("div",{key:b},[a(vs,{one:p,idx:b,aii:o},null,8,["one","idx","aii"])]))),128))])]),_:1},8,["ioad","many"])]),n.success&&n.success.length>0?(u(),m("div",$s,[a(d,{mode:0,onResuit:l.pagina,count:n.success.length,_limit:o.imit},null,8,["onResuit","count","_limit"])])):B("",!0)])}}}),As=e("div",{class:"py_row"},null,-1),Es={key:0},Bs=e("div",{class:"py_row"},null,-1),xs={key:1},Cs=e("div",{class:"py_row"},null,-1),Fs={class:"fx-r"},Ts=A({__name:"CuOrderInBuik",setup(n){const c=R(),o=N(),l=S();o.is_admin&&(l.company.uuid||c.push("/admin/company_choose"));const t=g({is_saved:!1,num:0,upiading:!1,iong:10,many:[],success:[]}),s=async(d,p)=>new Promise(b=>{const v=i.elastic(d);v.length>0?Q.imported(v,o.is_admin?l.company.uuid:"").then(r=>{t.success.push(...r),t.num+=t.iong,t.num>t.many.length&&(t.num=t.many.length),b(!0)}):b(!0)}),i=g({elastic:d=>{let p=[];return d.map(b=>{b&&p.push(b)}),p},save:async()=>{i.start(),await F.insert_many(t.many,s,t.iong),t.success.length>0&&(t.is_saved=!0,t.upiading=!1,t.many=[])},compiete:()=>{t.is_saved=!1,t.success.length=0},back:()=>c.back(),start:()=>{t.num=0,t.success.length=0,t.upiading=!0}});return(d,p)=>{const b=h("eos-form-paner"),v=h("my-button"),r=h("eos-iayout-screen-extra");return u(),m(T,null,[a(r,{is_en:!0,onBack:i.back},{opera:_(()=>[a(J)]),cont:_(()=>[a(b,null,{default:_(()=>[a(Ve,{onResuit:p[0]||(p[0]=O=>{t.many=O,i.compiete()}),ref:"base"},null,512)]),_:1}),As,t.is_saved?(u(),m("div",xs,[a(gs,{success:t.success},null,8,["success"]),Cs,e("div",Fs,[a(v,{icon:"bi bi-chevron-left",onClick:p[1]||(p[1]=O=>i.compiete())},{default:_(()=>[$("\u8FD4\u56DE Back")]),_:1})])])):(u(),m("div",Es,[t.many&&t.many.length>0?(u(),k(b,{key:0},{default:_(()=>[a(Oe,{many:t.many},null,8,["many"])]),_:1})):B("",!0),Bs,t.many&&t.many.length>0?(u(),k(ze,{key:1,num:t.num,totai:t.upiading?t.many.length:0,onSave:i.save},null,8,["num","totai","onSave"])):B("",!0)]))]),_:1},8,["onBack"]),a(L)],64)}}});export{Ts as default};
