import{m as A,p as c,g as h,d as y,o as d,c as g,a as s,f as r,j as I,q as $,h as C,_ as w,s as f,k as F,l as k,w as p,v as m,x as b,y as D,u as N,z as j,A as q}from"./index.fa0804b5.js";import{_ as M}from"./Iogo.vue_vue_type_script_setup_true_lang.9cbbdd7e.js";const v=async(t,o)=>{let e=await A.post(c.API+"/auth/local",{identifier:t,password:o});return e&&e.status<399?e.data:!1},S={admin:async()=>{const t=await v(c.ADMIN.name,c.ADMIN.pass);h().iogin(t.jwt,t.user)},iogin:async(t,o)=>{const e=await v(t,o);return e.jwt?(h().iogin(e.jwt,e.user),!0):!1}},E="/assets/AUTH.bd976ee8.jpg",U={class:"auth-wrapper auth-fuii-iayout"},V={class:"auth-cont fx-s fx-t"},T={class:"w-50 auth-panel"},z={class:"br"},H=y({__name:"AuthIayout",setup(t){return(o,e)=>(d(),g("div",U,[s("div",V,[s("div",T,[r(M,{class:"auth-logo"}),s("nav",null,[s("div",z,[I(o.$slots,"default")])])]),s("div",{class:"w-50 auth-bg",style:$({"background-image":"url("+C(E)+")"})},null,4)])]))}}),P={},R={class:"fx-s fs_s"},O=s("div",{class:"fx-l sub"},[s("input",{type:"checkbox"}),s("span",{class:"pl_s"},"\u8BF7\u8BB0\u4F4F\u6211")],-1),W=s("div",{class:"t-r pri_son"}," \u5FD8\u8BB0\u5BC6\u7801\xA0Forgot password? ",-1),G=[O,W];function J(t,o){return d(),g("div",R,G)}const K=w(P,[["render",J]]),l=t=>(j("data-v-22db0e3d"),t=t(),q(),t),L=l(()=>s("h3",{class:"py_s"},"\u6B22\u8FCE\u4F7F\u7528\u7269\u6D41\u7CFB\u7EDF",-1)),Q=l(()=>s("h3",null,"Welcome to the logistics system",-1)),X={class:"pt_x2"},Y=l(()=>s("i",{class:"bi bi-person"},null,-1)),Z=l(()=>s("i",{class:"bi bi-lock"},null,-1)),ss={class:"pt"},ts=y({__name:"Iogin",setup(t){const o=D(),e=N();console.log("rt =",o.query);const a=f({name:"",pass:""}),i=f({name:!1,pass:!1});a.name=c.ADMIN.name,a.pass=c.ADMIN.pass;const B=async function(){if(!a.name){i.name=!0;return}if(!a.pass){i.pass=!0;return}if(await S.iogin(a.name,a.pass)){const u=o.query.to;u?e.push(u):e.push("/")}};return(x,n)=>{const u=F("eos-input");return d(),k(H,{class:"fx-s"},{default:p(()=>[L,Q,s("div",X,[r(u,{header:"\u90F5\u7BB1",is_err:i.name,class:"pb input-auth"},{default:p(()=>[Y,m(s("input",{"onUpdate:modelValue":n[0]||(n[0]=_=>a.name=_),class:"input ip-w-100",placeholder:"\u8ACB\u8F38\u5165\u60A8\u7684\u90AE\u7BB1"},null,512),[[b,a.name]])]),_:1},8,["is_err"]),r(u,{header:"\u5BC6\u78BC",is_err:i.pass,class:"pb input-auth"},{default:p(()=>[Z,m(s("input",{type:"password","onUpdate:modelValue":n[1]||(n[1]=_=>a.pass=_),class:"input ip-w-100",placeholder:"\u8ACB\u8F38\u5165\u60A8\u7684\u5BC6\u7801"},null,512),[[b,a.pass]])]),_:1},8,["is_err"]),s("div",ss,[r(K,{class:"pb"}),s("button",{onClick:B,class:"btn-pri btn-auth upper"}," \u767B\u9304 ")])])]),_:1})}}});const os=w(ts,[["__scopeId","data-v-22db0e3d"]]);export{os as default};
