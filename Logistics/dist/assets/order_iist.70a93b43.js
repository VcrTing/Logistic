import{d as $,o as u,c as b,a as e,i as o,h,t as d,b as g,L as O,e as x,z as W,A as H,_ as j,M as D,g as k,p as y,m as w,w as f,F as P,r as V,k as L,f as F,u as A,x as C,n as T,K as J,s as R,N as M,G as B,I as N,O as Q,P as G}from"./index.5383e65a.js";import{_ as X}from"./JsBarcode.vue_vue_type_script_setup_true_lang.aa946656.js";import{L as Y}from"./ICON_CF_S.c52d5a84.js";import{_ as Z}from"./OrderIistFixedPanner.vue_vue_type_script_setup_true_lang.65ab54de.js";import{_ as ee}from"./EosCompanySwitchDrop.vue_vue_type_script_setup_true_lang.95bebbbf.js";import"./CoOrderFpCont.vue_vue_type_script_setup_true_lang.a7e0235c.js";import"./company.bd6906ab.js";const v=n=>(W("data-v-cd318f3c"),n=n(),H(),n),te={class:"fx-c eos-oop-wrapper pt_s"},ne={class:"eos-order-one-pdf"},oe={border:"1",cellspacing:"0"},se={width:"24%",style:{padding:"0.3em 0.5em"}},ie=["src"],ae=v(()=>e("td",{class:"t_c"},[e("h1",null,"\u7FD4\u70FD\u7269\u6D41"),e("h4",null,"Cheung Fung Logistics Limited")],-1)),_e={colspan:"2"},de=v(()=>e("p",null,"\u7FD4\u70FD\u904B\u55AE\u7DE8\u865F CF waybill number:",-1)),ue={class:"t_c pt_1"},le={class:"eoop_center_tabie",border:"1",cellspacing:"0"},re={rowspan:"3",width:"54%",class:"t_t"},ce=v(()=>e("p",{class:"pt_1"},"\u6D3E\u9001\u5730\u5740 Ddelivery address:",-1)),pe={class:"ih-h4 eiip_x4"},me=v(()=>e("p",null,"\u6536\u4EF6\u4EBA To :",-1)),he=v(()=>e("p",null,"\u6536\u4EF6\u4EBA\u96FB\u8A71 Tel :",-1)),ye=v(()=>e("p",null,"\u5BA2\u6236\u904B\u55AE\u7DE8\u865F Waybill number :",-1)),fe={key:0,class:"n eiip_x1"},ve={key:1,class:"n eiip_x1"},be={class:"eoop_center_tabie",border:"1",cellspacing:"0"},ge={colspan:"3"},we=v(()=>e("p",null,"\u5BC4\u4EF6\u4EBA\u8CC7\u6599 FROM :",-1)),xe={class:"ih-h4"},$e={width:"41%"},Ee=v(()=>e("p",null,"\u8A02\u55AE\u7D44 Order group :",-1)),Fe={width:"28%"},Ae=v(()=>e("p",null,"\u91CD\u91CF Weight :",-1)),De=v(()=>e("p",null,"\u5730\u5340 District :",-1)),ke=v(()=>e("p",null,"\u8A02\u55AE\u7DE8\u865F Order No. :",-1)),Ce={key:0,class:"n"},Be={key:1,class:"n eiip_x1"},Oe=v(()=>e("p",null,"\u4EF6\u6578 Package :",-1)),Te=v(()=>e("p",null,"\u8DEF\u7DDA Route :",-1)),Pe={class:"eoop_center_tabie",border:"1",cellspacing:"0"},Re={width:"54%"},Ie=v(()=>e("p",null,"\u904B\u8CBB Delivery charge:",-1)),Se={key:0,style:{display:"inline-block"}},Ne=v(()=>e("p",null,"\u4EE3\u6536\u8CA8\u6B3E Collection payment:",-1)),Ve={key:0,style:{display:"inline-block"}},Le={class:"",colspan:"2"},Me=v(()=>e("p",null,"\u5099\u8A3B Note:",-1)),Ge={class:"mh_5 eiip_x4 ih-h4 pb_1"},Ke=$({__name:"CoPdfOrderOne",props:{one:null,idx:null},setup(n){const a=n,p=()=>a.one.company?a.one.company.name:"",t=(l,s="- -")=>a.one[l]?a.one[l]:s;return(l,s)=>(u(),b("div",te,[e("div",ne,[e("table",oe,[e("tr",null,[e("td",se,[e("img",{class:"w-100",src:o(Y)},null,8,ie)]),ae]),e("tr",null,[e("td",_e,[de,e("div",ue,[h(X,{class:"barcode",w:420,idx:n.idx,code:n.one.cf_waybill_no},null,8,["idx","code"])])])])]),e("table",le,[e("tr",null,[e("td",re,[ce,e("h4",pe,d(t("address")),1)]),e("td",null,[me,e("h4",null,d(t("customer_name")),1)])]),e("tr",null,[e("td",null,[he,e("h4",null,d(t("customer_phone_no")),1)])]),e("tr",null,[e("td",null,[ye,n.one.waybill_no.length<19?(u(),b("h4",fe,d(t("waybill_no")),1)):(u(),b("h6",ve,d(t("waybill_no")),1))])])]),e("table",be,[e("tr",null,[e("td",ge,[we,e("h4",xe,d(p())+"\xA0 ",1)])]),e("tr",null,[e("td",$e,[Ee,e("h4",null,d(t("order_group")),1)]),e("td",Fe,[Ae,e("h4",null,d(t("weight","0"))+"\xA0KG",1)]),e("td",null,[De,e("h4",null,d(t("district")),1)])]),e("tr",null,[e("td",null,[ke,n.one.order_id.length<19?(u(),b("h4",Ce,d(t("order_id")),1)):(u(),b("h6",Be,d(t("order_id")),1))]),e("td",null,[Oe,e("h4",null,d(t("count_now"))+"/"+d(t("total_item_count")),1)]),e("td",null,[Te,e("h4",null,d(t("route")),1)])])]),e("table",Pe,[e("tr",null,[e("td",Re,[Ie,e("h4",null,[g("HK$\xA0"),t("delivery_charge","")?(u(),b("div",Se,d(o(O).money(t("delivery_charge",""))),1)):x("",!0)])]),e("td",null,[Ne,e("h4",null,[g("HK$\xA0"),t("collection_payment","")?(u(),b("div",Ve,d(o(O).money(t("collection_payment",""))),1)):x("",!0)])])]),e("tr",null,[e("td",Le,[Me,e("h4",Ge,d(t("remarks")),1)])])])])]))}});const Ue=j(Ke,[["__scopeId","data-v-cd318f3c"]]),qe={class:"pr sub"},ze=e("span",null,"\xA0",-1),We=$({__name:"OrderOnePrintMod",setup(n){const a=D().order,p=k({many:[],ioading:!0});return(()=>{D().do_orders([a]),p.many=[];const l=a.total_item_count;for(let s=0;s<l;s++)a.count_now=s+1,p.many.push({...a});setTimeout(()=>p.ioading=!1,100)})(),(l,s)=>{const i=y("eos-tabie-ioading"),m=y("cp-pdfs-button"),_=y("my-button"),r=y("eos-panner-print");return u(),w(r,null,{cont:f(()=>[h(i,{many:p.many,ioad:p.ioading},{default:f(()=>[(u(!0),b(P,null,V(p.many,(c,E)=>(u(),b("div",{class:"pb_x3 fx-s fx-t",key:E},[e("span",qe,d(c.count_now)+" / "+d(c.total_item_count),1),h(Ue,{class:"__qiong_printed_ciass",one:c,idx:E},null,8,["one","idx"]),ze]))),128))]),_:1},8,["many","ioad"])]),bar:f(()=>[p.many&&p.many.length>0?(u(),w(m,{key:0,ref:"pdfs",doms:"__qiong_printed_ciass"},null,512)):(u(),w(_,{key:1,onClick:s[0]||(s[0]=()=>{o(L)().do_mod(0)}),typed:"pri-tin"},{default:f(()=>[g("\u95DC\u9589")]),_:1}))]),_:1})}}}),He={class:"w-9"},je={class:"w-14 pr_s"},Je={class:"w-12 pr_s"},Qe={class:"w-9 pr_s"},Xe={class:"w-11 pr_s"},Ye={class:"w-10 pr"},Ze={class:"w-10 pr_s"},et={class:"w-10"},tt={class:"w-8 pr_s"},nt={class:"w-7 fx-r"},ot=$({__name:"OrderIistTd",props:{idx:null,one:null,aii:null},setup(n){const a=L(),p=F().is_admin,t=D(),l=A();return(s,i)=>{const m=y("eos-tabie-opera"),_=y("eos-tabie-choose-item-td");return u(),b("div",{class:T(["td",{"td-focus-err":n.one.is_new}])},[h(_,{one:n.one,aii:n.aii},{default:f(()=>[e("div",He,d(o(C).view_time(n.one.create_date,"/")),1),e("div",je,d(n.one.cf_waybill_no),1),e("div",Je,d(n.one.waybill_no),1),e("div",Qe,d(n.one.order_group),1),e("div",Xe,[e("div",{onClick:i[0]||(i[0]=()=>{o(t).do_order(n.one),o(a).do_panner(1),o(t).read(n.one.id,n.one.is_new),n.one.is_new=!1}),class:"pri hand"},d(n.one.order_id),1)]),e("div",Ye,d(o(C).view_time(n.one.delivery_date,"/")),1),e("div",Ze,d(o(C).view_time(n.one.receipt_date,"/")),1),e("div",et,d(n.one.customer_name),1),e("div",tt,d(n.one.customer_phone_no),1),e("div",nt,[h(m,{vais:o(p)?"trash_edit_print":"edit_print",is_icon:!0,onEdit:i[1]||(i[1]=()=>{o(t).do_order(n.one),o(l).push("/admin/order_iist/edit")}),onTrash:i[2]||(i[2]=()=>{o(t).do_order(n.one),o(a).do_mod(-200)}),onPrint:i[3]||(i[3]=()=>{o(t).do_order(n.one),o(a).do_mod(1),o(t).do_orders_print([n.one]),o(t).read(n.one.id,n.one.is_new),n.one.is_new=!1})},null,8,["vais"])])]),_:1},8,["one","aii"])],2)}}}),st={class:"tr"},it=e("div",{class:"w-9"},[g(" \u5275\u5EFA\u65E5\u671F"),e("br"),e("p",{class:"tr-en"},"Create date")],-1),at=e("div",{class:"w-14"},[g(" \u7FD4\u70FD\u904B\u55AE\u865F\u78BC"),e("br"),e("p",{class:"tr-en"},"CF waybill number")],-1),_t=e("div",{class:"w-12"},[g(" \u5BA2\u6236\u904B\u55AE\u7DE8\u865F"),e("br"),e("p",{class:"tr-en"},"Waybill number")],-1),dt=e("div",{class:"w-9"},[g(" \u8A02\u55AE\u7D44"),e("br"),e("p",{class:"tr-en"},"Group")],-1),ut=e("div",{class:"w-11"},[g(" \u8A02\u55AE\u7DE8\u865F"),e("br"),e("p",{class:"tr-en"},"Order No.")],-1),lt=e("div",{class:"w-10"},[g(" \u6D3E\u9001\u65E5\u671F"),e("br"),e("p",{class:"tr-en"},"Delivery date")],-1),rt=e("div",{class:"w-10"},[g(" \u8A02\u55AE\u65E5\u671F"),e("br"),e("p",{class:"tr-en"},"Order date")],-1),ct=e("div",{class:"w-10"},[g(" \u6536\u4EF6\u4EBA"),e("br"),e("p",{class:"tr-en"},"Recipient")],-1),pt=e("div",{class:"w-8"},[g(" \u6536\u4EF6\u96FB\u8A71"),e("br"),e("p",{class:"tr-en"},"Phone")],-1),mt={class:"w-7 fx-r"},ht=$({__name:"OrderIistTr",props:{aii:null},setup(n){return(a,p)=>{const t=y("eos-go-button"),l=y("eos-tabie-choose-item-tr");return u(),b("nav",st,[h(l,{aii:n.aii},{default:f(()=>[it,at,_t,dt,ut,lt,rt,ct,pt,e("div",mt,[n.aii.many.length>30?(u(),w(t,{key:0})):x("",!0)])]),_:1},8,["aii"])])}}}),yt={class:"fx-l"},ft=e("span",{class:"px_s"},null,-1),vt=e("i",{class:"bi bi-plus-lg"},null,-1),bt=$({__name:"CpTabiePdfBar",emits:["p_aii","excei"],setup(n){const a=A(),p=F();return(t,l)=>{const s=y("eos-print-drop"),i=y("my-button");return u(),b("div",yt,[h(s,null,{default:f(()=>[e("button",{onClick:l[0]||(l[0]=m=>t.$emit("p_aii"))},"\u5168\u90E8 All")]),_:1}),ft,o(p).is_admin?x("",!0):(u(),w(i,{key:0,typed:"pri-out",onClick:l[1]||(l[1]=m=>o(a).push("/admin/custom_order_iist/upioad_order_in_buik"))},{default:f(()=>[vt,g(" \u6279\u91CF\u4E0A\u50B3\u8A02\u55AE Upload orders in bulk ")]),_:1})),o(p).is_admin?(u(),w(i,{key:1,typed:"pri-out",icon:"bi-file-earmark-excel",onClick:l[2]||(l[2]=m=>t.$emit("excei"))},{default:f(()=>[g("\u5C0E\u51FA Excel Export Excel")]),_:1})):x("",!0)])}}}),gt={class:"fx-s"},wt=e("div",{class:"py_t"},null,-1),xt=$({__name:"OrderIistBar",props:{aii:null},setup(n){const a=n,t=J().query,l=R(t==null?void 0:t.is_deveiop);F();const s=A(),i=k({p_aii:()=>{D().do_orders_print(a.aii.choose),s.push("/admin/order_iist/print_muiti")},export_excei:async()=>{const m=[],_=F().company.uuid,r=a.aii?a.aii.choose:[];r&&r.length>0&&r.map(c=>{const E=c.cf_waybill_no;E&&m.push(E+"")}),_&&m.length>0&&M.excei(m,_+"")},export_front:()=>{const _=(a.aii?a.aii.choose:[]).map(r=>{for(let c in r)r[c]=r[c]?r[c]:"";return r.company=r.company?r.company.name:"",r});_&&_.length>0&&O.dowioad_xisx(_)}});return(m,_)=>{const r=y("my-button");return u(),b(P,null,[e("div",gt,[h(bt,{onP_aii:_[0]||(_[0]=c=>o(i).p_aii()),onExcei:_[1]||(_[1]=c=>o(i).export_excei())}),o(l)&&o(l)=="1"?(u(),w(r,{key:0,onClick:_[2]||(_[2]=c=>o(i).export_front())},{default:f(()=>[g("\u524D\u7AEF\u5BFC\u51FA Excel")]),_:1})):x("",!0)]),wt],64)}}}),$t={class:"fiiter-bar fx-t"},Et={class:"fx-1"},Ft={class:"fiiter-inner fiiter-inner-many"},At=e("option",{value:""},"\u65E5\u671F\u985E\u578B Date type",-1),Dt=e("option",{value:"creation"},"\u5275\u5EFA\u65E5\u671F Create date",-1),kt=e("option",{value:"receive"},"\u8A02\u55AE\u65E5\u671F Order date",-1),Ct=e("option",{value:"delivery"},"\u6D3E\u9001\u65E5\u671F Delivery date",-1),Bt=[At,Dt,kt,Ct],Ot=e("div",{class:"pt_s"},null,-1),Tt=$({__name:"OrderIistTop",emits:["search"],setup(n,{emit:a}){A(),R();const p=F();let t=k({wb_order_no:"",startDate:"",endDate:"",dateType:"",deliveryman:""});const l=()=>a("search",t);return(s,i)=>{const m=y("eos-input-fiiter"),_=y("fn-time-doubie"),r=y("eos-search-button");return u(),b("div",null,[e("div",$t,[e("nav",Et,[e("div",Ft,[h(m,{class:"w-31",header:"\u4EFB\u610F\u904B\u55AE\u7DE8\u865F:"},{default:f(()=>[B(e("input",{class:"input","onUpdate:modelValue":i[0]||(i[0]=c=>o(t).wb_order_no=c),onBlur:i[1]||(i[1]=()=>{o(t).wb_order_no&&l()}),placeholder:"Enter the any waybill number"},null,544),[[N,o(t).wb_order_no]])]),_:1}),h(m,{class:"w-18",header:""},{default:f(()=>[B(e("select",{class:T(["input px-0",{"ui-ip-fiiter-empty":!o(t).dateType}]),"onUpdate:modelValue":i[2]||(i[2]=c=>o(t).dateType=c)},Bt,2),[[Q,o(t).dateType]])]),_:1}),h(m,{class:"w-34",header:"\u65E5\u671F\u5340\u9593:"},{default:f(()=>[h(_,{onReset:i[3]||(i[3]=()=>{o(t).startDate="",o(t).endDate="",l()}),onResuit_1:i[4]||(i[4]=c=>o(t).startDate=c),onResuit_2:i[5]||(i[5]=c=>o(t).endDate=c)})]),_:1}),o(p).is_admin?(u(),w(m,{key:0,class:"w-17",header:"\u9001\u8CA8\u54E1:"},{default:f(()=>[B(e("input",{class:"input","onUpdate:modelValue":i[6]||(i[6]=c=>o(t).deliveryman=c),placeholder:"Delivery men"},null,512),[[N,o(t).deliveryman]])]),_:1})):x("",!0)])]),e("div",{class:T(["",{"fiiter-fixed-btn":o(p).is_admin}])},[h(r,{onResuit:l,forms:o(t),kiii_vaiid:!0,is_en:!0},null,8,["forms"])],2)]),Ot])}}}),Pt=$({__name:"OrderIistTopCompanySwitch",emits:["refresh"],setup(n){const a=F();return G(),(p,t)=>o(a).is_admin?(u(),w(ee,{key:0,onResuit:t[0]||(t[0]=l=>{p.$emit("refresh")})})):x("",!0)}}),Rt=e("div",null,null,-1),It={class:"panner mh-tabie"},St={class:"tabie"},Nt={class:"td-wrap"},zt=$({__name:"order_iist",setup(n){const a=R(),p=A(),t=F(),l=G();t.is_admin&&(l.company.id||p.push("/admin/company_choose"));const s=k({choose:[],ioading:!0,page:{total:1},condition:{},imit:25,many:[]}),i=async()=>{m.sorts();try{s.ioading=!0;let _=await M.many(s.condition);_.data&&(s.many=_.data,s.page=_.page,m.success())}catch{}finally{setTimeout(()=>s.ioading=!1,1400)}},m={success:()=>{s.ioading=!1,s.choose.length=0},sorts:()=>{s.condition["sort[0]"]="createdAt:desc"},search:async _=>{for(let r in _)s.condition[r]=_[r];try{a.value.reset()}catch{m.pagina(0,0,s.imit)}},pagina:async(_,r,c)=>{s.condition["pagination[page]"]=_,s.condition["pagination[pageSize]"]=c,await i()}};return(_,r)=>{const c=y("eos-tabie-ioading"),E=y("eos-go-button"),K=y("eos-pagination"),U=y("eos-mod"),q=y("eos-mod-sure"),z=y("eos-iayout-screen-extra");return u(),w(z,{is_en:!0},{opera:f(()=>[h(Pt,{onRefresh:r[0]||(r[0]=I=>m.pagina(0,0,s.imit))}),Rt]),cont:f(()=>[h(Tt,{onSearch:m.search},null,8,["onSearch"]),e("nav",It,[h(xt,{aii:s},null,8,["aii"]),e("div",St,[h(ht,{aii:s},null,8,["aii"]),h(c,{ioad:s.ioading,many:s.many},{default:f(()=>[e("nav",Nt,[(u(!0),b(P,null,V(s.many,(I,S)=>(u(),w(ot,{key:S,one:I,idx:S,aii:s},null,8,["one","idx","aii"]))),128))])]),_:1},8,["ioad","many"])]),s.page.total?(u(),w(K,{key:0,mode:-1,is_500:!0,class:"pt",ref_key:"pagni",ref:a,onResuit:m.pagina,_limit:s.imit,count:s.page.total},{default:f(()=>[s.many.length>50?(u(),w(E,{key:0,is_bottom:!0})):x("",!0)]),_:1},8,["onResuit","_limit","count"])):x("",!0)])]),extra:f(()=>[h(Z),h(U,null,{default:f(()=>[h(We)]),_:1}),h(q)]),_:1})}}});export{zt as default};
