import{d as b,A as f,v as x,x as B,k as y,o as p,c as v,g as r,w as l,a as t,n as F,y as $,B as A,F as g,r as D,t as u,b as E,D as S,e as T,u as V,l as N}from"./index.6d8351f4.js";import{u as R}from"./user.c9c28118.js";import{_ as U,a as j}from"./CustomUserCreatPass.vue_vue_type_script_setup_true_lang.4449c336.js";import{c as q}from"./company.aeec43d8.js";const z={class:"dropdown"},I=t("i",{class:"i bi bi-search"},null,-1),L=[I],M=t("div",{class:"px"},null,-1),O=t("button",{class:"pri-hv"}," \u65B0\u589E\u516C\u53F8 ",-1),P=t("div",{class:"py_s"},null,-1),G={class:"w-18"},H={class:"w-15"},J={class:"w-20"},K={class:"fx-1 pr"},Q=["onClick"],W=b({__name:"CoSeiectCompany",props:{tit:null,is_err:{type:Boolean}},emits:["resuit"],setup(h,{expose:d,emit:_}){const n=f(""),e=x({one:{},open:!1,ioading:!0,condition:{},many:[]}),m=async()=>{a.sorts(),e.ioading=!0;let s=await q.many(e.condition);s.data?(e.many=s.data,e.ioading=!1):setTimeout(()=>e.ioading=!1,1400),setTimeout(()=>e.ioading=!1,1400)},a=x({pius:()=>{},choise:s=>{s&&(e.one=s,n.value=s.name,e.open=!1,_("resuit",e.one),console.log("\u8FD4\u56DE\u503C =",e.one))},sorts:()=>{e.condition["sort[0]"]="createdAt:desc"},search:async()=>{e.ioading=!0,e.open=!0,await m()}});return B(n,(s,o)=>{e.condition.name=s}),d({ioc:s=>{a.choise(s)}}),(s,o)=>{const c=y("eos-input"),C=y("eos-tabie-ioading"),k=y("my-button");return p(),v("div",z,[r(c,{header:h.tit},{default:l(()=>[t("div",{class:F(["fx-s input",{"_input-err":h.is_err}])},[$(t("input",{class:"fx-1","onUpdate:modelValue":o[0]||(o[0]=i=>n.value=i),placeholder:"\u8ACB\u8F38\u5165\u8981\u641C\u7D22\u7684\u516C\u53F8\u540D\u7A31 Please Enter"},null,512),[[A,n.value]]),t("button",{class:"btn-pri-tin px_x2",onClick:o[1]||(o[1]=(...i)=>a.search&&a.search(...i))},L),M,O],2)]),_:1},8,["header"]),t("div",{class:F(["drop-inner pb-0 w-100",{"drop-inner-active":e.open,"drop-inner-ciose":!e.open}])},[P,r(C,{ioad:e.ioading,many:e.many},{default:l(()=>[(p(!0),v(g,null,D(e.many,(i,w)=>(p(),v("div",{class:"drop-inner-item w-100 fx-s px_x2",key:w},[t("div",G,u(i.name),1),t("div",H,u(i.phone_no),1),t("div",J,u(i.email),1),t("div",K,u(i.address),1),t("span",{class:"err pl_x2 hand",onClick:ie=>a.choise(i)},"\u9078\u64C7",8,Q)]))),128))]),_:1},8,["ioad","many"]),r(k,{class:"drop-inner-ciose mt",onClick:o[2]||(o[2]=i=>e.open=!1),typed:"pri-tin",icon:"bi bi-x-lg"},{default:l(()=>[E(" \u95DC\u9589 ")]),_:1})],2)])}}}),X={class:"py"},Y={key:0,class:"pt_x2 pl"},Z={class:"pb_s"},ee={class:"pb_s"},se={class:"pb_s"},te={class:"pb_s"},ne=b({__name:"CustomUserCreatCompany",setup(h,{expose:d}){const _=f(),n=x({company_represent:"",vv:{}}),e=x({company_represent:!1}),m=function(){let s=!0;if(n.company_represent)e.company_represent=!1;else return e.company_represent=!0,!1;return Object.values(e).map(o=>{o&&(s=!1)}),s},a=s=>{n.vv=s,n.company_represent=s?s.id+"":void 0};return d({resuit:()=>m()?n:void 0,reset:s=>{S(()=>_.value.ioc(s.company_represent))}}),(s,o)=>(p(),v(g,null,[t("div",X,[r(W,{tit:"\u516C\u53F8 Search and select",ref_key:"seiect",ref:_,is_err:e.company_represent,onResuit:a},null,8,["is_err"])]),n.company_represent?(p(),v("div",Y,[t("p",Z,"\u516C\u53F8\u540D\u79F0\uFF1A\xA0"+u(n.vv.name),1),t("p",ee,"\u516C\u53F8\u7535\u8BDD\uFF1A\xA0"+u(n.vv.phone_no),1),t("p",se,"\u516C\u53F8\u90AE\u7BB1\uFF1A\xA0"+u(n.vv.email),1),t("p",te,"\u516C\u53F8\u5730\u5740\uFF1A\xA0"+u(n.vv.address),1)])):T("",!0)],64))}}),oe=t("div",{class:"py_row"},null,-1),ae=t("div",{class:"py_row"},null,-1),le=b({__name:"custom_user_creat",setup(h){const d=V(),_=f(),n=f(),e=f(),m=async function(){const s=_.value.resuit(),o=n.value.resuit(),c=e.value.resuit();console.log("res =",s,o,c),s&&o&&c&&await R.creat({...s,...o,...c})&&a()},a=()=>d.push("/admin/user_iist");return(s,o)=>{const c=y("eos-form-paner"),C=y("eos-iayout-screen-form");return p(),N(C,{is_en:!0,onSave:m,onBack:a},{default:l(()=>[r(c,{tit:"\u7528\u6236\u8CC7\u6599 Basic Infomation"},{default:l(()=>[r(U,{ref_key:"base",ref:_},null,512)]),_:1}),oe,r(c,{tit:"\u6240\u5C6C\u516C\u53F8 Company"},{default:l(()=>[r(ne,{ref_key:"company",ref:e},null,512)]),_:1}),ae,r(c,{tit:"\u7528\u6236\u5BC6\u78BC Security"},{default:l(()=>[r(j,{ref_key:"pass",ref:n},null,512)]),_:1})]),_:1})}}});export{le as default};
