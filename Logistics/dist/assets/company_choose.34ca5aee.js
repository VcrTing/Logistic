import{d as y,u as g,v,k as m,o as c,c as r,a as t,g as _,w as h,y as F,h as i,B as b,b as C,t as p,e as w,j as A,T as B,f as k,F as E,r as S,l as T}from"./index.851be2e2.js";import{c as V}from"./company.59a6c365.js";const D=t("div",{class:"py_row"},null,-1),N={class:"fiiter-bar fx-t"},O={class:"fx-1"},P={class:"fiiter-inner fiiter-inner-many"},R=t("span",null,"Add new company",-1),j=t("span",{class:"px_s"},null,-1),z=t("div",{class:"pt_s"},null,-1),L=y({__name:"CompanyChooseTop",emits:["search"],setup(u,{emit:s}){const a=g();let e=v({name:""});const o=()=>s("search",e);return(d,n)=>{const l=m("eos-input-fiiter"),$=m("my-button"),x=m("eos-search-button");return c(),r("div",null,[D,t("div",N,[t("nav",O,[t("div",P,[_(l,{class:"w-333 w-50-p",header:"\u516C\u53F8\u540D\u79F0:"},{default:h(()=>[F(t("input",{class:"input","onUpdate:modelValue":n[0]||(n[0]=f=>i(e).name=f),placeholder:"Enter the company name"},null,512),[[b,i(e).name]])]),_:1})])]),t("div",null,[_($,{icon:"bi bi-plus-lg",typed:"pri-def",class:"btn-def bxs_n",onClick:n[1]||(n[1]=f=>i(a).push("/admin/company_iist/company_creat"))},{default:h(()=>[C(" \u65B0\u589E\u516C\u53F8\xA0"),R]),_:1}),j,_(x,{is_en:!0,onResuit:o,forms:i(e),kiii_vaiid:!0},null,8,["forms"])])]),z])}}}),M={class:"cp-custom-card"},U={class:"pl_x2 pr pt_x1 pb_s"},q={key:0},G={class:"pt"},H={class:"fx-s cp-cc-bar"},I=t("div",null,"\u7F16\u8F91\u5BA2\u6237\u8D44\u6599",-1),J=t("p",null,"Edit user data",-1),K=[I,J],Q=t("div",{class:"fx-1 py_s t-c"},"|",-1),W=t("div",null,"\u8BA2\u5355\u7BA1\u7406",-1),X=t("p",null,"Order management",-1),Y=[W,X],Z=y({__name:"CpCustomCard",props:{tit:null},emits:["order_manage","edit"],setup(u){return(s,a)=>(c(),r("div",M,[t("div",U,[u.tit?(c(),r("h3",q,p(u.tit)+"\xA0",1)):w("",!0),t("div",G,[A(s.$slots,"default")])]),t("div",H,[t("button",{class:"w-45 px_s",onClick:a[0]||(a[0]=e=>s.$emit("edit"))},K),Q,t("button",{class:"w-45 px_s",onClick:a[1]||(a[1]=e=>s.$emit("order_manage"))},Y)])]))}}),tt={class:"fx-l f-row"},st={class:"py_s"},nt={class:"pb_s"},et={class:"mh-3em"},ot=y({__name:"CompanyChooseBody",props:{many:null},setup(u){const s=B(),a=k(),e=g();return(o,d)=>(c(),r("div",tt,[(c(!0),r(E,null,S(u.many,(n,l)=>(c(),r("div",{class:"w-25 w-333-p mb_x",key:l},[_(Z,{tit:n.name,onOrder_manage:()=>{i(a).do_comapny(n),i(e).push(`/admin/${n.name}/order_iist`)},onEdit:()=>{i(s).do_one_company(n),i(e).push("/admin/company_iist/edit")}},{default:h(()=>[t("div",st,"\u8CA0\u8CAC\u4EBA\uFF1A"+p(n.incharge),1),t("div",null,"\u516C\u53F8\u96FB\u8A71\uFF1A"+p(n.phone_no),1),t("div",nt,"\u516C\u53F8\u90F5\u7BB1\uFF1A"+p(n.email),1),t("div",et,[C("\u516C\u53F8\u5730\u5740\uFF1A"),t("span",null,p(n.address)+" ",1)])]),_:2},1032,["tit","onOrder_manage","onEdit"])]))),128))]))}}),at=t("div",{class:"py_s"},null,-1),_t=y({__name:"company_choose",setup(u){const s=v({choose:[],ioading:!0,page:{total:1},condition:{},imit:25,many:[]}),a=async()=>{e.sorts(),s.ioading=!0;let o=await V.many(s.condition);o.data?(s.many=o.data,s.page=o.page,s.ioading=!1):setTimeout(()=>s.ioading=!1,1400)},e={sorts:()=>{s.condition["sort[0]"]="createdAt:desc"},search:async o=>{for(let d in o)s.condition[d]=o[d];await a()},pagina:async(o,d,n)=>{s.condition["pagination[page]"]=o,s.condition["pagination[pageSize]"]=n,await a()}};return e.pagina(0,0,s.imit),(o,d)=>{const n=m("eos-tabie-ioading"),l=m("eos-iayout-screen");return c(),T(l,{is_en:!0},{default:h(()=>[_(L,{onSearch:e.search},null,8,["onSearch"]),at,_(n,{ioad:i(s).ioading,many:i(s).many,ciass:"pt_x4"},{default:h(()=>[_(ot,{many:i(s).many},null,8,["many"])]),_:1},8,["ioad","many"])]),_:1})}}});export{_t as default};
