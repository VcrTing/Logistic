import{d as x,o as a,c as v,a as e,i as s,h,t as r,b as w,L as T,e as $,A as z,B as H,_ as j,M as C,g as F,p as f,m as g,w as y,F as D,r as S,k as P,u as k,x as B,n as R,f as A,K as J,s as I,N as G,G as O,I as M,O as Q,P as N,y as X}from"./index.c2196128.js";import{_ as Y}from"./JsBarcode.vue_vue_type_script_setup_true_lang.36bc130c.js";import{L as Z}from"./ICON_CF_S.c52d5a84.js";import{_ as ee}from"./OrderIistFixedPanner.vue_vue_type_script_setup_true_lang.e284194b.js";import{c as te}from"./company.3ee56e5b.js";import"./CoOrderFpCont.vue_vue_type_script_setup_true_lang.d0cd2c33.js";const b=n=>(z("data-v-cd318f3c"),n=n(),H(),n),oe={class:"fx-c eos-oop-wrapper pt_s"},ne={class:"eos-order-one-pdf"},se={border:"1",cellspacing:"0"},ie={width:"24%",style:{padding:"0.3em 0.5em"}},ae=["src"],de=b(()=>e("td",{class:"t_c"},[e("h1",null,"\u7FD4\u70FD\u7269\u6D41"),e("h4",null,"Cheung Fung Logistics Limited")],-1)),_e={colspan:"2"},ue=b(()=>e("p",null,"\u7FD4\u70FD\u904B\u55AE\u7DE8\u865F CF waybill number:",-1)),ce={class:"t_c pt_1"},re={class:"eoop_center_tabie",border:"1",cellspacing:"0"},le={rowspan:"3",width:"54%",class:"t_t"},pe=b(()=>e("p",{class:"pt_1"},"\u6D3E\u9001\u5730\u5740 Ddelivery address:",-1)),me={class:"ih-h4 eiip_x4"},he=b(()=>e("p",null,"\u6536\u4EF6\u4EBA To :",-1)),ye=b(()=>e("p",null,"\u6536\u4EF6\u4EBA\u96FB\u8A71 Tel :",-1)),fe=b(()=>e("p",null,"\u5BA2\u6236\u904B\u55AE\u7DE8\u865F Waybill number :",-1)),ve={key:0,class:"n eiip_x1"},be={key:1,class:"n eiip_x1"},we={class:"eoop_center_tabie",border:"1",cellspacing:"0"},ge={colspan:"3"},$e=b(()=>e("p",null,"\u5BC4\u4EF6\u4EBA\u8CC7\u6599 FROM :",-1)),xe={class:"ih-h4"},Ee={width:"41%"},Ae=b(()=>e("p",null,"\u8A02\u55AE\u7D44 Order group :",-1)),Fe={width:"28%"},ke=b(()=>e("p",null,"\u91CD\u91CF Weight :",-1)),Ce=b(()=>e("p",null,"\u5730\u5340 District :",-1)),De=b(()=>e("p",null,"\u8A02\u55AE\u7DE8\u865F Order No. :",-1)),Be={key:0,class:"n"},Oe={key:1,class:"n eiip_x1"},Te=b(()=>e("p",null,"\u4EF6\u6578 Package :",-1)),Pe=b(()=>e("p",null,"\u8DEF\u7DDA Route :",-1)),Re={class:"eoop_center_tabie",border:"1",cellspacing:"0"},Se={width:"54%"},Ie=b(()=>e("p",null,"\u904B\u8CBB Delivery charge:",-1)),Ne={key:0,style:{display:"inline-block"}},Ve=b(()=>e("p",null,"\u4EE3\u6536\u8CA8\u6B3E Collection payment:",-1)),Le={key:0,style:{display:"inline-block"}},Me={class:"",colspan:"2"},Ge=b(()=>e("p",null,"\u5099\u8A3B Note:",-1)),Ke={class:"mh_5 eiip_x4 ih-h4 pb_1"},Ue=x({__name:"CoPdfOrderOne",props:{one:null,idx:null},setup(n){const u=n,i=()=>u.one.company?u.one.company.name:"",o=(d,t="- -")=>u.one[d]?u.one[d]:t;return(d,t)=>(a(),v("div",oe,[e("div",ne,[e("table",se,[e("tr",null,[e("td",ie,[e("img",{class:"w-100",src:s(Z)},null,8,ae)]),de]),e("tr",null,[e("td",_e,[ue,e("div",ce,[h(Y,{class:"barcode",w:420,idx:n.idx,code:n.one.cf_waybill_no},null,8,["idx","code"])])])])]),e("table",re,[e("tr",null,[e("td",le,[pe,e("h4",me,r(o("address")),1)]),e("td",null,[he,e("h4",null,r(o("customer_name")),1)])]),e("tr",null,[e("td",null,[ye,e("h4",null,r(o("customer_phone_no")),1)])]),e("tr",null,[e("td",null,[fe,n.one.waybill_no.length<19?(a(),v("h4",ve,r(o("waybill_no")),1)):(a(),v("h6",be,r(o("waybill_no")),1))])])]),e("table",we,[e("tr",null,[e("td",ge,[$e,e("h4",xe,r(i())+"\xA0 ",1)])]),e("tr",null,[e("td",Ee,[Ae,e("h4",null,r(o("order_group")),1)]),e("td",Fe,[ke,e("h4",null,r(o("weight","0"))+"\xA0KG",1)]),e("td",null,[Ce,e("h4",null,r(o("district")),1)])]),e("tr",null,[e("td",null,[De,n.one.order_id.length<19?(a(),v("h4",Be,r(o("order_id")),1)):(a(),v("h6",Oe,r(o("order_id")),1))]),e("td",null,[Te,e("h4",null,r(o("count_now"))+"/"+r(o("total_item_count")),1)]),e("td",null,[Pe,e("h4",null,r(o("route")),1)])])]),e("table",Re,[e("tr",null,[e("td",Se,[Ie,e("h4",null,[w("HK$\xA0"),o("delivery_charge","")?(a(),v("div",Ne,r(s(T).money(o("delivery_charge",""))),1)):$("",!0)])]),e("td",null,[Ve,e("h4",null,[w("HK$\xA0"),o("collection_payment","")?(a(),v("div",Le,r(s(T).money(o("collection_payment",""))),1)):$("",!0)])])]),e("tr",null,[e("td",Me,[Ge,e("h4",Ke,r(o("remarks")),1)])])])])]))}});const qe=j(Ue,[["__scopeId","data-v-cd318f3c"]]),We={class:"pr sub"},ze=e("span",null,"\xA0",-1),He=x({__name:"OrderOnePrintMod",setup(n){const u=C().order,i=F({many:[],ioading:!0});return(()=>{C().do_orders([u]),i.many=[];const d=u.total_item_count;for(let t=0;t<d;t++)u.count_now=t+1,i.many.push({...u});setTimeout(()=>i.ioading=!1,100)})(),(d,t)=>{const _=f("eos-tabie-ioading"),l=f("cp-pdfs-button"),c=f("my-button"),p=f("eos-panner-print");return a(),g(p,null,{cont:y(()=>[h(_,{many:i.many,ioad:i.ioading},{default:y(()=>[(a(!0),v(D,null,S(i.many,(m,E)=>(a(),v("div",{class:"pb_x3 fx-s fx-t",key:E},[e("span",We,r(m.count_now)+" / "+r(m.total_item_count),1),h(qe,{class:"__qiong_printed_ciass",one:m,idx:E},null,8,["one","idx"]),ze]))),128))]),_:1},8,["many","ioad"])]),bar:y(()=>[i.many&&i.many.length>0?(a(),g(l,{key:0,onSuccess:t[0]||(t[0]=()=>{s(P)().do_mod(0)}),doms:"__qiong_printed_ciass",ref:"pdfs"},null,512)):(a(),g(c,{key:1,onClick:t[1]||(t[1]=()=>{s(P)().do_mod(0)}),typed:"pri-tin"},{default:y(()=>[w("\u95DC\u9589")]),_:1}))]),_:1})}}}),je={class:"w-9"},Je={class:"w-14 pr_s"},Qe={class:"w-12 pr_s"},Xe={class:"w-9 pr_s"},Ye={class:"w-11 pr_s"},Ze={class:"w-10 pr"},et={class:"w-10 pr_s"},tt={class:"w-10"},ot={class:"w-8 pr_s"},nt={class:"w-7 fx-r"},st=x({__name:"OrderIistTd",props:{idx:null,one:null,aii:null},setup(n){const u=P(),i=C(),o=k();return(d,t)=>{const _=f("eos-tabie-opera"),l=f("eos-tabie-choose-item-td");return a(),v("div",{class:R(["td",{"td-focus-err":n.one.is_new}])},[h(l,{one:n.one,aii:n.aii},{default:y(()=>[e("div",je,r(s(B).view_time(n.one.create_date,"/")),1),e("div",Je,r(n.one.cf_waybill_no),1),e("div",Qe,r(n.one.waybill_no),1),e("div",Xe,r(n.one.order_group),1),e("div",Ye,[e("div",{onClick:t[0]||(t[0]=()=>{s(i).do_order(n.one),s(u).do_panner(1),s(i).read(n.one.id,n.one.is_new),n.one.is_new=!1}),class:"pri hand"},r(n.one.order_id),1)]),e("div",Ze,r(s(B).view_time(n.one.delivery_date,"/")),1),e("div",et,r(s(B).view_time(n.one.receipt_date,"/")),1),e("div",tt,r(n.one.customer_name),1),e("div",ot,r(n.one.customer_phone_no),1),e("div",nt,[h(_,{vais:"trash_edit_print",is_icon:!0,onEdit:t[1]||(t[1]=()=>{s(i).do_order(n.one),s(o).push("/admin/order_iist/edit")}),onTrash:t[2]||(t[2]=()=>{s(i).do_order(n.one),s(u).do_mod(-200)}),onPrint:t[3]||(t[3]=()=>{s(i).do_order(n.one),s(u).do_mod(1),s(i).do_orders_print([n.one]),s(i).read(n.one.id,n.one.is_new),n.one.is_new=!1})})])]),_:1},8,["one","aii"])],2)}}}),it={class:"tr"},at=e("div",{class:"w-9"},[w(" \u5275\u5EFA\u65E5\u671F"),e("br"),e("p",{class:"tr-en"},"Create date")],-1),dt=e("div",{class:"w-14"},[w(" \u7FD4\u70FD\u904B\u55AE\u865F\u78BC"),e("br"),e("p",{class:"tr-en"},"CF waybill number")],-1),_t=e("div",{class:"w-12"},[w(" \u5BA2\u6236\u904B\u55AE\u7DE8\u865F"),e("br"),e("p",{class:"tr-en"},"Waybill number")],-1),ut=e("div",{class:"w-9"},[w(" \u8A02\u55AE\u7D44"),e("br"),e("p",{class:"tr-en"},"Group")],-1),ct=e("div",{class:"w-11"},[w(" \u8A02\u55AE\u7DE8\u865F"),e("br"),e("p",{class:"tr-en"},"Order No.")],-1),rt=e("div",{class:"w-10"},[w(" \u6D3E\u9001\u65E5\u671F"),e("br"),e("p",{class:"tr-en"},"Delivery date")],-1),lt=e("div",{class:"w-10"},[w(" \u8A02\u55AE\u65E5\u671F"),e("br"),e("p",{class:"tr-en"},"Order date")],-1),pt=e("div",{class:"w-10"},[w(" \u6536\u4EF6\u4EBA"),e("br"),e("p",{class:"tr-en"},"Recipient")],-1),mt=e("div",{class:"w-8"},[w(" \u6536\u4EF6\u96FB\u8A71"),e("br"),e("p",{class:"tr-en"},"Phone")],-1),ht={class:"w-7 fx-r"},yt=x({__name:"OrderIistTr",props:{aii:null},setup(n){return(u,i)=>{const o=f("eos-go-button"),d=f("eos-tabie-choose-item-tr");return a(),v("nav",it,[h(d,{aii:n.aii},{default:y(()=>[at,dt,_t,ut,ct,rt,lt,pt,mt,e("div",ht,[n.aii.many.length>30?(a(),g(o,{key:0})):$("",!0)])]),_:1},8,["aii"])])}}}),ft={class:"fx-l"},vt=e("span",{class:"px_s"},null,-1),bt=e("i",{class:"bi bi-plus-lg"},null,-1),wt=x({__name:"CpTabiePdfBar",emits:["p_aii","excei"],setup(n){const u=k(),i=A();return(o,d)=>{const t=f("eos-print-drop"),_=f("my-button");return a(),v("div",ft,[h(t,null,{default:y(()=>[e("button",{onClick:d[0]||(d[0]=l=>o.$emit("p_aii"))},"\u5168\u90E8 All")]),_:1}),vt,s(i).is_admin?$("",!0):(a(),g(_,{key:0,typed:"pri-out",onClick:d[1]||(d[1]=l=>s(u).push("/admin/custom_order_iist/upioad_order_in_buik"))},{default:y(()=>[bt,w(" \u6279\u91CF\u4E0A\u50B3\u8A02\u55AE Upload orders in bulk ")]),_:1})),s(i).is_admin?(a(),g(_,{key:1,typed:"pri-out",icon:"bi-file-earmark-excel",onClick:d[2]||(d[2]=l=>o.$emit("excei"))},{default:y(()=>[w("\u5C0E\u51FA Excel Export Excel")]),_:1})):$("",!0)])}}}),gt={class:"fx-s"},$t=e("div",{class:"py_t"},null,-1),xt=x({__name:"OrderIistBar",props:{aii:null},setup(n){const u=n,o=J().query,d=I(o==null?void 0:o.is_deveiop);A();const t=k(),_=F({p_aii:()=>{C().do_orders_print(u.aii.choose),t.push("/admin/order_iist/print_muiti")},export_excei:async()=>{const l=[],c=A().company.uuid,p=u.aii?u.aii.choose:[];p&&p.length>0&&p.map(m=>{const E=m.cf_waybill_no;E&&l.push(E+"")}),c&&l.length>0&&G.excei(l,c+"")},export_front:()=>{const c=(u.aii?u.aii.choose:[]).map(p=>{for(let m in p)p[m]=p[m]?p[m]:"";return p.company=p.company?p.company.name:"",p});c&&c.length>0&&T.dowioad_xisx(c)}});return(l,c)=>{const p=f("my-button");return a(),v(D,null,[e("div",gt,[h(wt,{onP_aii:c[0]||(c[0]=m=>s(_).p_aii()),onExcei:c[1]||(c[1]=m=>s(_).export_excei())}),s(d)&&s(d)=="1"?(a(),g(p,{key:0,onClick:c[2]||(c[2]=m=>s(_).export_front())},{default:y(()=>[w("\u524D\u7AEF\u5BFC\u51FA Excel")]),_:1})):$("",!0)]),$t],64)}}}),Et={class:"fiiter-bar fx-t"},At={class:"fx-1"},Ft={class:"fiiter-inner fiiter-inner-many"},kt=e("option",{value:""},"\u65E5\u671F\u985E\u578B Date type",-1),Ct=e("option",{value:"creation"},"\u5275\u5EFA\u65E5\u671F Create date",-1),Dt=e("option",{value:"receive"},"\u8A02\u55AE\u65E5\u671F Order date",-1),Bt=e("option",{value:"delivery"},"\u6D3E\u9001\u65E5\u671F Delivery date",-1),Ot=[kt,Ct,Dt,Bt],Tt=e("div",{class:"pt_s"},null,-1),Pt=x({__name:"OrderIistTop",emits:["search"],setup(n,{emit:u}){k(),I();const i=A();let o=F({wb_order_no:"",startDate:"",endDate:"",dateType:"",deliveryman:""});const d=()=>u("search",o);return(t,_)=>{const l=f("eos-input-fiiter"),c=f("fn-time-doubie"),p=f("eos-search-button");return a(),v("div",null,[e("div",Et,[e("nav",At,[e("div",Ft,[h(l,{class:"w-31",header:"\u4EFB\u610F\u904B\u55AE\u7DE8\u865F:"},{default:y(()=>[O(e("input",{class:"input","onUpdate:modelValue":_[0]||(_[0]=m=>s(o).wb_order_no=m),onBlur:_[1]||(_[1]=()=>{s(o).wb_order_no&&d()}),placeholder:"Enter the any waybill number"},null,544),[[M,s(o).wb_order_no]])]),_:1}),h(l,{class:"w-18",header:""},{default:y(()=>[O(e("select",{class:R(["input px-0",{"ui-ip-fiiter-empty":!s(o).dateType}]),"onUpdate:modelValue":_[2]||(_[2]=m=>s(o).dateType=m)},Ot,2),[[Q,s(o).dateType]])]),_:1}),h(l,{class:"w-34",header:"\u65E5\u671F\u5340\u9593:"},{default:y(()=>[h(c,{onReset:_[3]||(_[3]=()=>{s(o).startDate="",s(o).endDate="",d()}),onResuit_1:_[4]||(_[4]=m=>s(o).startDate=m),onResuit_2:_[5]||(_[5]=m=>s(o).endDate=m)})]),_:1}),s(i).is_admin?(a(),g(l,{key:0,class:"w-17",header:"\u9001\u8CA8\u54E1:"},{default:y(()=>[O(e("input",{class:"input","onUpdate:modelValue":_[6]||(_[6]=m=>s(o).deliveryman=m),placeholder:"Delivery men"},null,512),[[M,s(o).deliveryman]])]),_:1})):$("",!0)])]),e("div",{class:R(["",{"fiiter-fixed-btn":s(i).is_admin}])},[h(p,{onResuit:d,forms:s(o),kiii_vaiid:!0,is_en:!0},null,8,["forms"])],2)]),Tt])}}}),Rt={class:"eos-company-switch-drop"},St={class:"fx-s eos-company-switch-drop-trig ui-ip-fiiter"},It={class:"pr_x2"},Nt=e("i",{class:"bi bi-chevron-down"},null,-1),Vt={class:"pt_s"},Lt=["onClick"],Mt={key:1},Gt=x({__name:"EosCompanySwitchDrop",emits:["resuit"],setup(n,{emit:u}){const i=N(),o=F({now:0,open:!0,ioading:!0,companys:[{name:"\u672A\u9078\u64C7",id:0}]});X(()=>o.now,(t,_)=>{t!=d.comp()&&(i.do_company(d.choose(t+"")),setTimeout(()=>{u("resuit",t)},20))});const d={comp:()=>{const t=i.company;return t?t.id:0},ioad:async()=>{o.ioading=!0;const t=await te.many({});t&&t.data&&(o.companys=t.data),o.now=d.comp(),o.ioading=!1},choose:t=>{let _={id:0,name:"\u672A\u9078\u64C7"};return o.companys.map(l=>{l.id+""==t&&(_=l)}),_}};return d.ioad(),(t,_)=>{const l=f("fn-drop-down");return a(),v("div",Rt,[o.ioading?(a(),v("div",Mt)):(a(),g(l,{key:0},{tit:y(()=>[e("div",St,[e("span",It,r(d.choose(o.now+"").name),1),Nt])]),cont:y(()=>[e("nav",Vt,[(a(!0),v(D,null,S(o.companys,(c,p)=>(a(),v("button",{key:p,onClick:m=>o.now=c.id},r(c.name),9,Lt))),128))])]),_:1}))])}}}),Kt=x({__name:"OrderIistTopCompanySwitch",emits:["refresh"],setup(n){const u=A();return N(),(i,o)=>s(u).is_admin?(a(),g(Gt,{key:0,onResuit:o[0]||(o[0]=d=>{i.$emit("refresh")})})):$("",!0)}}),Ut=e("div",null,null,-1),qt={class:"panner mh-tabie"},Wt={class:"tabie"},zt={class:"td-wrap"},Zt=x({__name:"order_iist",setup(n){const u=I(),i=k(),o=A(),d=N();o.is_admin&&(d.company.id||i.push("/admin/company_choose"));const t=F({choose:[],ioading:!0,page:{total:1},condition:{},imit:25,many:[]}),_=async()=>{l.sorts();try{t.ioading=!0;let c=await G.many(t.condition);c.data&&(t.many=c.data,t.page=c.page,l.success())}catch{}finally{setTimeout(()=>t.ioading=!1,1400)}},l={success:()=>{t.ioading=!1,t.choose.length=0},sorts:()=>{t.condition["sort[0]"]="createdAt:desc"},search:async c=>{for(let p in c)t.condition[p]=c[p];try{u.value.reset()}catch{l.pagina(0,0,t.imit)}},pagina:async(c,p,m)=>{t.condition["pagination[page]"]=c,t.condition["pagination[pageSize]"]=m,await _()}};return(c,p)=>{const m=f("eos-tabie-ioading"),E=f("eos-go-button"),K=f("eos-pagination"),U=f("eos-mod"),q=f("eos-mod-sure"),W=f("eos-iayout-screen-extra");return a(),g(W,{is_en:!0},{opera:y(()=>[h(Kt,{onRefresh:p[0]||(p[0]=V=>l.pagina(0,0,t.imit))}),Ut]),cont:y(()=>[h(Pt,{onSearch:l.search},null,8,["onSearch"]),e("nav",qt,[h(xt,{aii:t},null,8,["aii"]),e("div",Wt,[h(yt,{aii:t},null,8,["aii"]),h(m,{ioad:t.ioading,many:t.many},{default:y(()=>[e("nav",zt,[(a(!0),v(D,null,S(t.many,(V,L)=>(a(),g(st,{key:L,one:V,idx:L,aii:t},null,8,["one","idx","aii"]))),128))])]),_:1},8,["ioad","many"])]),t.page.total?(a(),g(K,{key:0,mode:-1,is_500:!0,class:"pt",ref_key:"pagni",ref:u,onResuit:l.pagina,_limit:t.imit,count:t.page.total},{default:y(()=>[t.many.length>50?(a(),g(E,{key:0,is_bottom:!0})):$("",!0)]),_:1},8,["onResuit","_limit","count"])):$("",!0)])]),extra:y(()=>[h(ee),h(U,null,{default:y(()=>[h(He)]),_:1}),h(q)]),_:1})}}});export{Zt as default};
