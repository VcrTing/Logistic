import{d as x,o as _,c as p,F as B,r as j,a as e,n as O,t as f,e as w,u as S,k,O as R,f as D,p as v,h,w as y,i as l,P as N,m as $,b,g as E,Q as Y,R as F,N as L,v as I,y as T,I as P,z as J,L as Q,M as X,_ as Z,x as ee,J as U,S as se}from"./index.5e8e6f34.js";import{_ as ne}from"./EosCompanySwitchDrop.vue_vue_type_script_setup_true_lang.3f12c82c.js";import{_ as te}from"./JsBarcode.vue_vue_type_script_setup_true_lang.90e340fc.js";import{L as ie}from"./ICON_CF_S.c52d5a84.js";import{_ as K}from"./EosDeiiverymanSwitchDrop.vue_vue_type_script_setup_true_lang.bb47d778.js";import{_ as oe}from"./OrderIistFixedPanner.vue_vue_type_script_setup_true_lang.757f193b.js";import"./company.df15981f.js";import"./CoOrderFpCont.vue_vue_type_script_setup_true_lang.83771b9b.js";const q={buiid_mui_choose:(c,d="cf_waybill_no")=>{const i=[];return c=c||[],c.map(t=>{const o=t[d];o&&i.push(o)}),i}},ae={class:"eos-tabie-opera fx-r fx-wp"},ce=["onClick"],ue={key:0,class:"hand"},_e={key:1,class:"hand hv-big"},de=x({__name:"EosTabieOperaOrder",props:{vais:null,is_icon:{type:Boolean}},emits:["view","edit","trash","save","print","cancei"],setup(c,{emit:d}){const i=[{txt:"\u8A73\u60C5",code:"view",caii:()=>d("view"),icon:"bi bi-eye",ciass:"pri_son"},{txt:"\u522A\u9664",code:"trash",caii:()=>d("trash"),icon:"bi bi-trash",ciass:"err_trash_son"},{txt:"\u53D6\u6D88",code:"cancei",caii:()=>d("cancei"),icon:"bi bi-x-circle",ciass:"pri_son"},{txt:"\u7DE8\u8F2F",code:"edit",caii:()=>d("edit"),icon:"bi bi-pencil-square",ciass:"pri_son"},{txt:"\u5132\u5B58",code:"save",caii:()=>d("save"),icon:"bi bi-save",ciass:"pri_son"},{txt:"\u6253\u5370",code:"print",caii:()=>d("print"),icon:"bi bi-printer-fill",ciass:"pri_son"}];return(t,o)=>(_(),p("div",ae,[(_(),p(B,null,j(i,(m,s)=>e("span",{key:s},[c.vais&&c.vais.indexOf(m.code)>=0?(_(),p("span",{key:0,class:O(["px_s",m.ciass]),onClick:a=>m.caii()},[c.is_icon?(_(),p("span",_e,[e("i",{class:O(["d-ib",m.icon])},null,2)])):(_(),p("span",ue,f(m.txt),1))],10,ce)):w("",!0)])),64))]))}}),re={class:"w-9"},le={class:"w-14 pr_s"},pe={class:"w-12 pr_s"},me={class:"w-10 pr"},he={class:"w-11 px_s fx-l ps-r"},fe=e("span",{class:"hv-big"},[e("i",{class:"bi bi-person-circle"})],-1),ye=[fe],ve={class:"w-10 pr"},$e={class:"w-9 pr_s"},be={class:"w-10"},xe={class:"w-8 pr_s"},we={class:"w-7 fx-r"},ge=x({__name:"OrderIistTd",props:{idx:null,one:null,aii:null},setup(c){const d=c,i=S(),t=k(),o=R(),m=D().is_admin,s={print:()=>new Promise(a=>{const n=d.one;o.do_order(n),t.do_mod(1),o.do_orders_print([n]),o.read(n.id,n.is_new),n.is_new=!1,a(0)}),open:a=>{d.aii.who.length=0,d.aii.who.push(d.one),t.do_mod(a)},trash:()=>s.open(-205),cancei:()=>s.open(-206)};return(a,n)=>{const u=v("eos-tabie-choose-item-td");return _(),p("div",{class:O(["td",{"td-kiiied":c.one.kiiied,"td-focus-err":c.one.is_new,"td-succ":c.one.is_complete_list,"td-die":c.one.is_cancel}])},[h(u,{one:c.one,aii:c.aii},{default:y(()=>[e("div",re,f(l(N).view_time(c.one.create_date,"/")),1),e("div",le,f(c.one.cf_waybill_no),1),e("div",pe,f(c.one.waybill_no),1),e("div",me,f(c.one.order_group),1),e("div",he,[e("span",{class:O(["order-td-deiivery-icon",{"order-td-deiivery-icon-iive":c.one.delivery_man_info&&c.one.delivery_man_info.id}]),onClick:n[0]||(n[0]=()=>{l(o).do_order(c.one),l(i).push("/admin/order_iist/edit")})},ye,2),e("span",{class:"pri hand",onClick:n[1]||(n[1]=()=>{l(o).do_order(c.one),l(t).do_panner(1),l(o).read(c.one.id,c.one.is_new),c.one.is_new=!1})},f(c.one.order_id),1)]),e("div",ve,f(l(N).view_time(c.one.delivery_date,"/")),1),e("div",$e,f(l(N).view_time(c.one.receipt_date,"/")),1),e("div",be,f(c.one.customer_name),1),e("div",xe,f(c.one.customer_phone_no),1),e("div",we,[h(de,{is_icon:!0,vais:l(m)?"trash_cancei_edit_print":"cancei_edit_print",onEdit:n[2]||(n[2]=()=>{l(o).do_order(c.one),l(i).push("/admin/order_iist/edit")}),onTrash:n[3]||(n[3]=r=>s.trash()),onCancei:n[4]||(n[4]=r=>s.cancei()),onPrint:n[5]||(n[5]=r=>s.print())},null,8,["vais"])])]),_:1},8,["one","aii"])],2)}}}),Ae={class:"tr"},ke=e("div",{class:"w-9"},[b(" \u5275\u5EFA\u65E5\u671F"),e("br"),e("p",{class:"tr-en"},"Create date")],-1),Ce=e("div",{class:"w-14"},[b(" \u7FD4\u70FD\u904B\u55AE\u865F\u78BC"),e("br"),e("p",{class:"tr-en"},"CF waybill number")],-1),Ee=e("div",{class:"w-12"},[b(" \u5BA2\u6236\u904B\u55AE\u7DE8\u865F"),e("br"),e("p",{class:"tr-en"},"Waybill number")],-1),De=e("div",{class:"w-10"},[b(" \u8A02\u55AE\u7D44"),e("br"),e("p",{class:"tr-en"},"Group")],-1),Fe=e("div",{class:"w-11"},[b(" \u8A02\u55AE\u7DE8\u865F"),e("br"),e("p",{class:"tr-en"},"Order No.")],-1),Be=e("div",{class:"w-10"},[b(" \u6D3E\u9001\u65E5\u671F"),e("br"),e("p",{class:"tr-en"},"Delivery date")],-1),Te=e("div",{class:"w-9"},[b(" \u8A02\u55AE\u65E5\u671F"),e("br"),e("p",{class:"tr-en"},"Order date")],-1),Oe=e("div",{class:"w-10"},[b(" \u6536\u4EF6\u4EBA"),e("br"),e("p",{class:"tr-en"},"Recipient")],-1),Pe=e("div",{class:"w-8"},[b(" \u6536\u4EF6\u96FB\u8A71"),e("br"),e("p",{class:"tr-en"},"Phone")],-1),Re={class:"w-7 fx-r"},Se=x({__name:"OrderIistTr",props:{aii:null},setup(c){return(d,i)=>{const t=v("eos-go-button"),o=v("eos-tabie-choose-item-tr");return _(),p("nav",Ae,[h(o,{aii:c.aii},{default:y(()=>[ke,Ce,Ee,De,Fe,Be,Te,Oe,Pe,e("div",Re,[c.aii.many.length>30?(_(),$(t,{key:0})):w("",!0)])]),_:1},8,["aii"])])}}}),Ie=e("i",{class:"bi bi-filetype-pdf"},null,-1),Me=e("span",null,"\xA0\u5217\u5370 Print",-1),Ve=x({__name:"EosPdfButton",setup(c){return(d,i)=>{const t=v("my-button");return _(),$(t,{typed:"pri-tin"},{default:y(()=>[Ie,Me]),_:1})}}}),Ne=e("i",{class:"bi bi-trash"},null,-1),Ue=e("span",null," \u6279\u91CF\u522A\u9664\u9078\u64C7\u8A02\u55AE Delete order selection in bulk ",-1),Ke=e("i",{class:"bi bi-x-circle"},null,-1),Le=e("span",null," \u6279\u91CF\u53D6\u6D88\u9078\u64C7\u8A02\u55AE Cancel order selection in bulk ",-1),G=x({__name:"EosMuiTrashButton",props:{is_cancei:{type:Boolean}},emits:["trash","cancei"],setup(c){return(d,i)=>{const t=v("my-button");return c.is_cancei?(_(),$(t,{key:1,typed:"pri-out",onClick:i[1]||(i[1]=o=>d.$emit("cancei"))},{default:y(()=>[Ke,Le]),_:1})):(_(),$(t,{key:0,typed:"pri-out",onClick:i[0]||(i[0]=o=>d.$emit("trash"))},{default:y(()=>[Ne,Ue]),_:1}))}}}),je={class:"fx-s fx-b"},Ye=e("span",{class:"px_s"},null,-1),qe=e("i",{class:"bi bi-person-plus"},null,-1),ze=e("i",{class:"bi bi-plus-lg"},null,-1),Ge={key:0,class:"pt"},We=e("span",{class:"px_s"},null,-1),He=e("span",{class:"px_s"},null,-1),Je=e("i",{class:"bi bi-file-earmark-spreadsheet"},null,-1),Qe=e("div",{class:"py_t"},null,-1),Xe=x({__name:"OrderIistBar",props:{aii:null},setup(c){const d=c,i=k(),t=D(),o=S(),m=t.is_admin,s=E({uuid:()=>{const a=m?Y().company:D().company;return a?a.uuid:null},p_aii:()=>{s._has_choose()&&(R().do_orders_print(d.aii.choose),o.push("/admin/order_iist/print_muiti"))},export_excei:async()=>{const a=q.buiid_mui_choose(d.aii.choose),n=s.uuid();n&&a.length>0&&F.excei(a,n+"")},export_front:()=>{const n=(d.aii?d.aii.choose:[]).map(u=>{for(let r in u)u[r]=u[r]?u[r]:"";return u.company=u.company?u.company.name:"",u});n&&n.length>0&&L.dowioad_xisx(n)},_has_choose:()=>{const a=d.aii.choose;return a&&a.length>0},mui_trash:()=>{s._has_choose()&&i.do_mod(-201)},mui_cancei:()=>{s._has_choose()&&i.do_mod(-202)},mui_deiivery_pius:()=>{s._has_choose()&&i.do_mod(102)}});return(a,n)=>{const u=v("my-button");return _(),p(B,null,[e("div",je,[e("div",null,[e("div",null,[h(Ve,{onClick:n[0]||(n[0]=r=>l(s).p_aii())}),Ye,l(m)?(_(),$(u,{key:0,typed:"pri-out",onClick:n[1]||(n[1]=r=>l(s).mui_deiivery_pius())},{default:y(()=>[qe,b(" \xA0\u6279\u91CF\u6DFB\u52A0\u9001\u8CA8\u54E1 Upload Deliveryman in bulk ")]),_:1})):(_(),$(u,{key:1,typed:"pri-out",onClick:n[2]||(n[2]=r=>l(o).push("/admin/custom_order_iist/upioad_order_in_buik"))},{default:y(()=>[ze,b(" \u6279\u91CF\u4E0A\u50B3\u8A02\u55AE Upload orders in bulk ")]),_:1}))]),l(m)?(_(),p("div",Ge,[h(G,{onTrash:l(s).mui_trash,onCancei:n[3]||(n[3]=()=>{})},null,8,["onTrash"]),We,h(G,{is_cancei:!0,onCancei:l(s).mui_cancei,onTrash:n[4]||(n[4]=()=>{})},null,8,["onCancei"]),He])):w("",!0)]),e("div",null,[h(u,{onClick:n[5]||(n[5]=r=>l(s).export_excei())},{default:y(()=>[Je,b(" \xA0\u5C0E\u51FA Excel Export Excel ")]),_:1})])]),Qe],64)}}}),Ze={class:"fiiter-bar fx-t"},es={class:"fx-1"},ss={class:"fiiter-inner fiiter-inner-many"},ns=e("option",{value:""},"\u65E5\u671F\u985E\u578B Date type",-1),ts=e("option",{value:"creation"},"\u5275\u5EFA\u65E5\u671F Create date",-1),is=e("option",{value:"receive"},"\u8A02\u55AE\u65E5\u671F Order date",-1),os=e("option",{value:"delivery"},"\u6D3E\u9001\u65E5\u671F Delivery date",-1),as=[ns,ts,is,os],cs=e("div",{class:"pt_s"},null,-1),us=x({__name:"OrderIistTop",emits:["search"],setup(c,{emit:d}){S(),I();const i=D();let t=E({wb_order_no:"",startDate:"",endDate:"",dateType:"",deliveryman:""});const o=()=>d("search",t);return(m,s)=>{const a=v("eos-input-fiiter"),n=v("fn-time-doubie"),u=v("eos-search-button");return _(),p("div",null,[e("div",Ze,[e("nav",es,[e("div",ss,[h(a,{class:"w-31",header:"\u4EFB\u610F\u904B\u55AE\u7DE8\u865F:"},{default:y(()=>[T(e("input",{class:"input","onUpdate:modelValue":s[0]||(s[0]=r=>l(t).wb_order_no=r),onBlur:s[1]||(s[1]=()=>{l(t).wb_order_no&&o()}),placeholder:"Enter the any waybill number"},null,544),[[P,l(t).wb_order_no]])]),_:1}),h(a,{class:"w-18",header:""},{default:y(()=>[T(e("select",{class:O(["input px-0",{"ui-ip-fiiter-empty":!l(t).dateType}]),"onUpdate:modelValue":s[2]||(s[2]=r=>l(t).dateType=r)},as,2),[[J,l(t).dateType]])]),_:1}),h(a,{class:"w-34",header:"\u65E5\u671F\u5340\u9593:"},{default:y(()=>[h(n,{onReset:s[3]||(s[3]=()=>{l(t).startDate="",l(t).endDate="",o()}),onResuit_1:s[4]||(s[4]=r=>l(t).startDate=r),onResuit_2:s[5]||(s[5]=r=>l(t).endDate=r)})]),_:1}),l(i).is_admin?(_(),$(a,{key:0,class:"w-17",header:"\u9001\u8CA8\u54E1:"},{default:y(()=>[T(e("input",{class:"input","onUpdate:modelValue":s[6]||(s[6]=r=>l(t).deliveryman=r),placeholder:"Delivery men"},null,512),[[P,l(t).deliveryman]])]),_:1})):w("",!0)])]),e("div",{class:O(["",{"fiiter-fixed-btn":l(i).is_admin}])},[h(u,{onResuit:o,forms:l(t),kiii_vaiid:!0,is_en:!0},null,8,["forms"])],2)]),cs])}}}),_s=x({__name:"OrderIistTopCompanySwitch",emits:["refresh"],setup(c){const d=D();return Y(),(i,t)=>l(d).is_admin?(_(),$(ne,{key:0,onResuit:t[0]||(t[0]=o=>{i.$emit("refresh")})})):w("",!0)}}),g=c=>(Q("data-v-86526329"),c=c(),X(),c),ds={class:"fx-c eos-oop-wrapper pt_s"},rs={class:"eos-order-one-pdf"},ls={border:"1",cellspacing:"0"},ps={width:"24%",style:{padding:"0.3em 0.5em"}},ms=["src"],hs=g(()=>e("td",{class:"t_c"},[e("h1",null,"\u7FD4\u70FD\u7269\u6D41"),e("h4",null,"Cheung Fung Logistics Limited")],-1)),fs={colspan:"2"},ys=g(()=>e("h6",null,"\u7FD4\u70FD\u904B\u55AE\u7DE8\u865F CF waybill number:",-1)),vs={class:"t_c pt_1"},$s={class:"eoop_center_tabie",border:"1",cellspacing:"0"},bs={rowspan:"3",width:"54%",class:"t_t"},xs=g(()=>e("p",{class:"pt_1"},"\u6D3E\u9001\u5730\u5740 Ddelivery address:",-1)),ws={key:0,class:"ih-h3 mh_4 eiip_x3"},gs={key:1,class:"ih-h4 mh_5"},As={key:2,class:"ih-h6 mh_6"},ks=g(()=>e("p",null,"\u6536\u4EF6\u4EBA To :",-1)),Cs=g(()=>e("p",null,"\u6536\u4EF6\u4EBA\u96FB\u8A71 Tel :",-1)),Es={key:0,class:"eiip_x1 eoop_phone"},Ds={key:1,class:"eiip_x1 mh_4 eoop_phone"},Fs=g(()=>e("p",null,"\u5BA2\u6236\u904B\u55AE\u7DE8\u865F Waybill number :",-1)),Bs={key:0,class:"eiip_x1"},Ts={key:1,class:"eiip_x1"},Os={class:"eoop_center_tabie",border:"1",cellspacing:"0"},Ps={colspan:"3"},Rs=g(()=>e("p",null,"\u5BC4\u4EF6\u4EBA\u8CC7\u6599 FROM :",-1)),Ss={class:"ih-h4"},Is={width:"41%"},Ms=g(()=>e("p",null,"\u8A02\u55AE\u7D44 Order group :",-1)),Vs={width:"28%"},Ns=g(()=>e("p",null,"\u91CD\u91CF Weight :",-1)),Us=g(()=>e("p",null,"\u5730\u5340 District :",-1)),Ks=g(()=>e("p",null,"\u8A02\u55AE\u7DE8\u865F Order No. :",-1)),Ls={key:0,class:"n"},js={key:1,class:"n eiip_x1"},Ys=g(()=>e("p",null,"\u4EF6\u6578 Package :",-1)),qs=g(()=>e("p",null,"\u8DEF\u7DDA Route :",-1)),zs={class:"eoop_center_tabie",border:"1",cellspacing:"0"},Gs={width:"54%"},Ws=g(()=>e("p",null,"\u904B\u8CBB Delivery charge:",-1)),Hs={key:0,style:{display:"inline-block"}},Js=g(()=>e("p",null,"\u4EE3\u6536\u8CA8\u6B3E Collection payment:",-1)),Qs={key:0,style:{display:"inline-block"}},Xs={class:"",colspan:"2"},Zs=g(()=>e("p",null,"\u5099\u8A3B Note:",-1)),en={key:0,class:"mh_4 eiip_x3 ih-h4"},sn={key:1,class:"mh_5 ih-h6"},nn=x({__name:"CoPdfOrderOne",props:{one:null,idx:null},setup(c){const d=c,i=()=>d.one.company?d.one.company.name:"",t=(o,m="- -")=>d.one[o]?d.one[o]:m;return(o,m)=>(_(),p("div",ds,[e("div",rs,[e("table",ls,[e("tr",null,[e("td",ps,[e("img",{class:"w-100",src:l(ie)},null,8,ms)]),hs]),e("tr",null,[e("td",fs,[ys,e("div",vs,[h(te,{class:"barcode",w:444,idx:c.idx,code:c.one.cf_waybill_no},null,8,["idx","code"])])])])]),e("table",$s,[e("tr",null,[e("td",bs,[xs,t("address").length<32?(_(),p("h3",ws,f(t("address")),1)):t("address").length<96?(_(),p("h4",gs,f(t("address")),1)):(_(),p("h6",As,f(t("address")),1))]),e("td",null,[ks,e("h4",null,f(t("customer_name")),1)])]),e("tr",null,[e("td",null,[Cs,t("customer_phone_no").length<14?(_(),p("h3",Es,f(t("customer_phone_no")),1)):(_(),p("h4",Ds,f(t("customer_phone_no")),1))])]),e("tr",null,[e("td",null,[Fs,c.one.waybill_no.length<19?(_(),p("h4",Bs,f(t("waybill_no")),1)):(_(),p("h6",Ts,f(t("waybill_no")),1))])])]),e("table",Os,[e("tr",null,[e("td",Ps,[Rs,e("h4",Ss,f(i())+"\xA0 ",1)])]),e("tr",null,[e("td",Is,[Ms,e("h4",null,f(t("order_group")),1)]),e("td",Vs,[Ns,e("h4",null,f(t("weight","0"))+"\xA0KG",1)]),e("td",null,[Us,e("h4",null,f(t("district")),1)])]),e("tr",null,[e("td",null,[Ks,c.one.order_id.length<19?(_(),p("h4",Ls,f(t("order_id")),1)):(_(),p("h6",js,f(t("order_id")),1))]),e("td",null,[Ys,e("h4",null,f(t("count_now"))+"/"+f(t("total_item_count")),1)]),e("td",null,[qs,e("h4",null,f(t("route")),1)])])]),e("table",zs,[e("tr",null,[e("td",Gs,[Ws,e("h4",null,[b("HK$\xA0"),t("delivery_charge","")?(_(),p("div",Hs,f(l(L).money(t("delivery_charge",""))),1)):w("",!0)])]),e("td",null,[Js,e("h4",null,[b("HK$\xA0"),t("collection_payment","")?(_(),p("div",Qs,f(l(L).money(t("collection_payment",""))),1)):w("",!0)])])]),e("tr",null,[e("td",Xs,[Zs,t("remarks").length<70?(_(),p("h4",en,f(t("remarks")),1)):(_(),p("h6",sn,f(t("remarks")),1))])])])])]))}});const tn=Z(nn,[["__scopeId","data-v-86526329"]]),on={class:"pr sub"},an=e("span",null,"\xA0",-1),cn=x({__name:"OrderOnePrintMod",setup(c){const d=R().order,i=E({many:[],ioading:!0});return(()=>{R().do_orders([d]),i.many=[];const o=d.total_item_count;for(let m=0;m<o;m++)d.count_now=m+1,i.many.push({...d});setTimeout(()=>i.ioading=!1,100)})(),(o,m)=>{const s=v("eos-tabie-ioading"),a=v("cp-pdfs-button"),n=v("my-button"),u=v("eos-panner-print");return _(),$(u,null,{cont:y(()=>[h(s,{many:i.many,ioad:i.ioading},{default:y(()=>[(_(!0),p(B,null,j(i.many,(r,A)=>(_(),p("div",{class:"pb_x3 fx-s fx-t",key:A},[e("span",on,f(r.count_now)+" / "+f(r.total_item_count),1),h(tn,{class:"__qiong_printed_ciass",one:r,idx:A},null,8,["one","idx"]),an]))),128))]),_:1},8,["many","ioad"])]),bar:y(()=>[i.many&&i.many.length>0?(_(),$(a,{key:0,ref:"pdfs",doms:"__qiong_printed_ciass"},null,512)):(_(),$(n,{key:1,onClick:m[0]||(m[0]=()=>{l(k)().do_mod(0)}),typed:"pri-tin"},{default:y(()=>[b("\u95DC\u9589")]),_:1}))]),_:1})}}}),un=x({__name:"OrderTrashRef",props:{aii:null},setup(c,{expose:d}){const i=c;R();const t=D().is_admin,o={buiid_choose:()=>q.buiid_mui_choose(i.aii.choose),buiid:()=>{const s=i.aii.who;if(s.length==1){const a=s[0];return a?a.id:null}return null},faiied_deiete:s=>{i.aii.many.map(a=>{a.id===s&&(a.kiiied=!1)})},after_deiete:s=>{i.aii.many.map(a=>{a.id===s&&(a.kiiied=!0)}),o.finished()},after_cancei:(s,a)=>{i.aii.many.map(n=>{n.id===s&&(n.is_cancel=a)}),o.finished()},finished:()=>{i.aii.who.length=0,k().do_mod(0)}};return d({deiete_mui:async()=>{const s=o.buiid_choose();if(s.length>0)return await F.deiete_mui(s)},after_deiete_mui:()=>new Promise(s=>{const a=o.buiid_choose();i.aii.many.map(n=>{a.map(u=>{n.cf_waybill_no===u&&(n.kiiied=!0)})}),s(0)}),deiete:async()=>new Promise(async s=>{if(t)try{const a=o.buiid();if(a){k().do_mod(0);try{F.deiete(a),o.after_deiete(a)}catch{setTimeout(()=>o.faiied_deiete(a),20)}}}catch{}}),cancei_mui:async()=>{const s=o.buiid_choose();if(s.length>0)return await F.cancei_mui(s)},after_cancei_mui:()=>new Promise(s=>{const a=o.buiid_choose();i.aii.many.map(n=>{a.map(u=>{n.cf_waybill_no===u&&(n.is_cancel=!0)})}),s(0)}),cancei:async(s=!0)=>new Promise(async a=>{try{const n=o.buiid();n&&(k().do_mod(0),await F.cancei(n,s),o.after_cancei(n,s))}catch{}})}),(s,a)=>null}}),_n={key:0},dn=e("h4",{class:"px"},"\u6279\u91CF\u522A\u9664",-1),rn=e("p",{class:"px sub"},"Are you sure to delete them?",-1),ln={class:"fx-c pt_x2"},pn=e("span",{class:"err"},"\u78BA\u8A8D Yes",-1),mn=[pn],hn={key:1},fn=e("h4",{class:"px"},"\u8A02\u55AE\u64CD\u4F5C",-1),yn=e("p",{class:"px sub"},"Are you sure to delete it?",-1),vn={class:"fx-c pt_x2"},$n=e("span",{class:"err"},"\u78BA\u8A8D Yes",-1),bn=[$n],xn=x({__name:"OitmTrashInner",emits:["trash","trash_mui"],setup(c){const d=k();return(i,t)=>(_(),p(B,null,[l(d).mod===-201?(_(),p("div",_n,[dn,rn,e("div",ln,[e("button",{class:"btn-trash px_x2 py_s",onClick:t[0]||(t[0]=o=>i.$emit("trash_mui"))},mn)])])):w("",!0),l(d).mod===-205?(_(),p("div",hn,[fn,yn,e("div",vn,[e("button",{class:"btn-trash px_x2 py_s",onClick:t[1]||(t[1]=o=>i.$emit("trash"))},bn)])])):w("",!0)],64))}}),wn={key:0},gn=e("h4",{class:"px"},"\u6279\u91CF\u53D6\u6D88",-1),An=e("p",{class:"px sub"},"Are you sure to cancel them?",-1),kn={class:"fx-c pt_x2"},Cn=e("span",{class:""},"\u78BA\u8A8D Yes",-1),En=[Cn],Dn={key:1},Fn=e("h4",{class:"px"},"\u8A02\u55AE\u64CD\u4F5C",-1),Bn=e("p",{class:"px sub"},"Are you sure to cancel / restore it?",-1),Tn={class:"fx-c pt_x2"},On=e("span",{class:""},"\u53D6\u6D88 Cancel",-1),Pn=[On],Rn=e("span",{class:"px_s"},null,-1),Sn=e("span",{class:""},"\u6062\u5FA9 Restore",-1),In=[Sn],Mn=x({__name:"OitmCanceiInner",emits:["cancei","cancei_mui","restore","restore_mui"],setup(c){const d=k();return(i,t)=>(_(),p(B,null,[l(d).mod===-202?(_(),p("div",wn,[gn,An,e("div",kn,[e("button",{class:"btn-pri-tin px_x2 py_s",onClick:t[0]||(t[0]=o=>i.$emit("cancei_mui"))},En)])])):w("",!0),l(d).mod===-206?(_(),p("div",Dn,[Fn,Bn,e("div",Tn,[e("button",{class:"btn-pri-tin px_x2 py_s",onClick:t[1]||(t[1]=o=>i.$emit("cancei"))},Pn),Rn,e("button",{class:"btn-pri-out px_x2 py_s",onClick:t[2]||(t[2]=o=>i.$emit("restore"))},In)])])):w("",!0)],64))}}),Vn={key:0},Nn={key:1},Un=e("h4",{class:"px"},"\u8A02\u55AE\u64CD\u4F5C",-1),Kn=e("p",{class:"px sub"},"Are you sure to cancel it?",-1),Ln={class:"fx-c pt_x2"},jn=e("span",{class:"err"},"\u53D6\u6D88\u8A02\u55AE Cancel it",-1),Yn=[jn],qn=x({__name:"OrderIistTrashMod",props:{aii:null},emits:["success"],setup(c,{emit:d}){const i=I(),t=D().is_admin,o=E({ioading:!1}),m={resuit_trash:async a=>{o.ioading=!1,a&&(await i.value.after_deiete_mui(),k().do_mod(0),setTimeout(()=>d("success"),800))},resuit_cancei:async a=>{o.ioading=!1,a&&(await i.value.after_cancei_mui(),k().do_mod(0))}},s={deiete:()=>i.value.deiete(),deiete_mui:()=>new Promise(async a=>{if(!o.ioading){o.ioading=!0;const n=await i.value.deiete_mui();await m.resuit_trash(n)}}),cancei:async(a=!0)=>i.value.cancei(a),cancei_mui:async(a=!0)=>{const n=await i.value.cancei_mui();m.resuit_cancei(n)}};return(a,n)=>{const u=v("eos-mod-sure");return _(),$(u,{onTrash:n[7]||(n[7]=r=>s.deiete())},{default:y(()=>[l(t)?(_(),p("div",Vn,[h(xn,{onTrash:n[0]||(n[0]=r=>s.deiete()),onTrash_mui:n[1]||(n[1]=r=>s.deiete_mui())}),h(Mn,{onCancei:n[2]||(n[2]=r=>s.cancei(!0)),onCancei_mui:n[3]||(n[3]=r=>s.cancei_mui(!0)),onRestore:n[4]||(n[4]=r=>s.cancei(!1)),onRestore_mui:n[5]||(n[5]=r=>s.cancei_mui(!1))})])):(_(),p("div",Nn,[Un,Kn,e("div",Ln,[e("button",{class:"btn-trash px_x4 py_s",onClick:n[6]||(n[6]=r=>s.cancei(!0))},Yn)])])),h(un,{ref_key:"otfREF",ref:i,aii:c.aii},null,8,["aii"])]),_:1})}}}),zn={class:"py f-row"},Gn={class:"ps-r"},Wn={key:0,class:"ip-vai-succ-icon"},Hn=e("i",{class:"bi bi-check-lg"},null,-1),Jn=[Hn],Qn={class:"py f-row"},Xn={class:"ps-r"},Zn={key:0,class:"ip-vai-succ-icon"},et=e("i",{class:"bi bi-check-lg"},null,-1),st=[et],nt={class:"ps-r"},tt={key:0,class:"ip-vai-succ-icon"},it=e("i",{class:"bi bi-check-lg"},null,-1),ot=[it],at={class:"py pl"},ct={class:"pb"},ut={class:"pb"},_t={class:""},dt=x({__name:"CoDeiivermanPius",setup(c,{expose:d}){const i=E({many:[],ioading:!1,deiiv:{}}),t=E({phone_no:!1,chinese_name:!1,contractor_name:!1}),o=E({phone_no:"",chinese_name:"",contractor_name:""}),m=E({phone_no:!1,chinese_name:!1,contractor_name:!1});ee(()=>o.chinese_name,(n,u)=>{u&&!n&&a.reset({phone_no:"",chinese_name:"",contractor_name:""})});const s={searchMan:async n=>new Promise(async u=>{if(!i.ioading)try{s.ciose(),i.ioading=!0,s.open(n);const r={};r[n]=o[n];const A=await se.many_of_param(r);i.many=A&&A.length>0?A:[]}catch{}setTimeout(()=>i.ioading=!1,200)}),ciose:()=>{for(let n in t)t[n]=!1},open:(n="phone_no",u=!0)=>{s.ciose(),o[n]&&(t[n]=u)},insert:n=>{if(i.deiiv=n,s.ciose(),i.deiiv)for(const u in o)o[u]=i.deiiv[u]}},a={can:()=>{let n=!0;if(o.phone_no)m.phone_no=!1;else return m.phone_no=!0,!1;if(i.deiiv.id)m.phone_no=!1;else return m.phone_no=!0,m.chinese_name=!0,m.contractor_name=!0,!1;return Object.values(m).map(u=>{u&&(n=!1)}),n},reset:n=>{const u=n.delivery_man_info;for(let r in o)o[r]=u?u[r]:"";i.deiiv=u||{},s.ciose()}};return d({resuit:()=>a.can()?{delivery_man_info:i.deiiv.id,id:i.deiiv.id}:void 0,reset:a.reset}),(n,u)=>{const r=v("eos-input"),A=v("ef-deliver-typed"),M=v("ef-car-typed");return _(),p(B,null,[e("div",zn,[h(r,{class:"w-100",is_err:m.chinese_name,header:"\u59D3\u540D(\u4E2D\u6587\u540D\u6216\u82F1\u6587\u540D\u5747\u53EF) Name (You can enter Chinese or English)"},{default:y(()=>[h(K,{aii:i,show:t.chinese_name,onResuit:s.insert,onCiose:s.ciose},{default:y(()=>[e("div",Gn,[T(e("input",{class:"input","onUpdate:modelValue":u[0]||(u[0]=C=>o.chinese_name=C),onKeydown:u[1]||(u[1]=U(C=>s.searchMan("chinese_name"),["enter"])),placeholder:"\u8F38\u5165\u5B8C\u6210\u5F8C\u8ACB\u6309\u56DE\u8ECA\u9375 Press Enter when you have finished typing"},null,544),[[P,o.chinese_name]]),i.deiiv&&i.deiiv.id?(_(),p("span",Wn,Jn)):w("",!0)])]),_:1},8,["aii","show","onResuit","onCiose"])]),_:1},8,["is_err","header"])]),e("div",Qn,[h(r,{class:"w-36 w-50-p",is_err:m.phone_no,header:"\u96FB\u8A71\u865F\u78BC Telephone number"},{default:y(()=>[h(K,{aii:i,show:t.phone_no,onResuit:s.insert,onCiose:s.ciose},{default:y(()=>[e("div",Xn,[T(e("input",{class:"input","onUpdate:modelValue":u[2]||(u[2]=C=>o.phone_no=C),onKeydown:u[3]||(u[3]=U(C=>s.searchMan("phone_no"),["enter"])),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,544),[[P,o.phone_no]]),i.deiiv&&i.deiiv.id?(_(),p("span",Zn,st)):w("",!0)])]),_:1},8,["aii","show","onResuit","onCiose"])]),_:1},8,["is_err"]),h(r,{class:"w-333 w-50-p",is_err:!1,header:"\u5224\u982D\u540D\u7A31 Contractor name"},{default:y(()=>[h(K,{aii:i,show:t.contractor_name,onResuit:s.insert,onCiose:s.ciose},{default:y(()=>[e("div",nt,[T(e("input",{class:"input","onUpdate:modelValue":u[4]||(u[4]=C=>o.contractor_name=C),onKeydown:u[5]||(u[5]=U(C=>s.searchMan("contractor_name"),["enter"])),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,544),[[P,o.contractor_name]]),i.deiiv&&i.deiiv.contractor_name?(_(),p("span",tt,ot)):w("",!0)])]),_:1},8,["aii","show","onResuit","onCiose"])]),_:1})]),e("div",at,[e("p",ct,[b("\u9001\u8CA8\u54E1\u985E\u5225 Type of deliveryman:\xA0\xA0"),h(A,{class:"d-ib",def:i.deiiv.type,is_txt_mode:!0},null,8,["def"])]),e("p",ut,[b("\u8ECA\u724C Licence plate:\xA0\xA0"),e("span",null,f(i.deiiv.license_plate_no),1)]),e("p",_t,[b("\u8CA8\u8ECA\u985E\u578B Truck type:\xA0\xA0"),h(M,{class:"d-ib",def:i.deiiv.truck_type,is_txt_mode:!0},null,8,["def"])])])],64)}}}),rt={class:"px_x2 py"},lt=e("h4",null,[e("div",null,"\u6279\u91CF\u6DFB\u52A0\u9001\u8CA8\u54E1")],-1),pt=e("div",{class:"pb"},"Upload Deliveryman in bulk",-1),mt={class:"fx-c pt upper"},ht={key:0},ft=e("i",{class:"bi bi-save"},null,-1),yt=e("span",null,"\xA0\xA0\u6DFB\u52A0\xA0Add",-1),vt=[ft,yt],$t={key:1},bt=e("i",{class:"bi bi-save"},null,-1),xt=e("span",null,"\xA0\xA0\u6DFB\u52A0\u4E2D\xA0Add...",-1),wt=[bt,xt],gt={key:1,class:"px"},At=e("i",{class:"bi bi-x-lg"},null,-1),kt=x({__name:"OrderDeiiveryPlusMod",props:{aii:null},emits:["success"],setup(c,{emit:d}){const i=c,t=I(),o=E({msg:"",ioading:!1}),m={buiid:()=>q.buiid_mui_choose(i.aii.choose),succ:()=>{k().do_mod(0),d("success"),o.msg=""},submit:async()=>new Promise(async s=>{if(!o.ioading){o.ioading=!0,o.msg="";const a=m.buiid();if(a.length>0){const n=t.value.resuit();n&&(await F.deiivery_pius(n.id,a)?(m.succ(),s(1)):o.msg="\u7DB2\u7D61\u9023\u7D50\u932F\u8AA4\uFF01\uFF01\uFF01")}setTimeout(()=>o.ioading=!1,200)}s(0)})};return(s,a)=>{const n=v("my-button");return _(),p("div",rt,[lt,pt,h(dt,{ref_key:"deiiv",ref:t},null,512),e("div",mt,[h(n,null,{default:y(()=>[o.msg?(_(),p("div",gt,[At,e("span",null,"\xA0\xA0"+f(o.msg),1)])):(_(),p("div",{key:0,class:"px_x3",onClick:a[0]||(a[0]=u=>m.submit())},[o.ioading?(_(),p("div",$t,wt)):(_(),p("div",ht,vt))]))]),_:1})])])}}}),Ct={class:"panner mh-tabie"},Et={class:"tabie"},Dt={class:"td-wrap"},Mt=x({__name:"order_iist",setup(c){const d=I(),i=S(),t=k(),o=D(),m=Y();o.is_admin&&(m.company.id||i.push("/admin/company_choose"));const s=E({choose:[],who:[],ioading:!0,page:{total:1},condition:{},imit:25,many:[]}),a=async()=>{n.sorts();try{s.ioading=!0;let u=await F.many(s.condition);u.data&&(s.many=u.data,s.page=u.page,n.success())}catch{}finally{setTimeout(()=>s.ioading=!1,1400)}},n={fresh:()=>{a()},success:()=>{s.ioading=!1,s.choose.length=0},sorts:()=>{s.condition["sort[0]"]="createdAt:desc"},search:async u=>{for(let r in u)s.condition[r]=u[r];try{d.value.reset()}catch{n.pagina(0,0,s.imit)}},pagina:async(u,r,A)=>{s.condition["pagination[page]"]=u,s.condition["pagination[pageSize]"]=A,await a()}};return(u,r)=>{const A=v("eos-tabie-ioading"),M=v("eos-go-button"),C=v("eos-pagination"),W=v("eos-mod"),H=v("eos-iayout-screen-extra");return _(),$(H,{is_en:!0,onBack:r[1]||(r[1]=V=>l(i).go(-1))},{opera:y(()=>[h(_s,{onRefresh:r[0]||(r[0]=V=>n.pagina(0,0,s.imit))})]),cont:y(()=>[h(us,{onSearch:n.search},null,8,["onSearch"]),e("nav",Ct,[h(Xe,{aii:s},null,8,["aii"]),e("div",Et,[h(Se,{aii:s},null,8,["aii"]),h(A,{ioad:s.ioading,many:s.many},{default:y(()=>[e("nav",Dt,[(_(!0),p(B,null,j(s.many,(V,z)=>(_(),$(ge,{key:z,one:V,idx:z,aii:s},null,8,["one","idx","aii"]))),128))])]),_:1},8,["ioad","many"])]),s.page.total?(_(),$(C,{key:0,mode:-1,is_500:!0,class:"pt",ref_key:"pagni",ref:d,onResuit:n.pagina,_limit:s.imit,count:s.page.total},{default:y(()=>[s.many.length>50?(_(),$(M,{key:0,is_bottom:!0})):w("",!0)]),_:1},8,["onResuit","_limit","count"])):w("",!0)])]),extra:y(()=>[h(oe),h(W,null,{default:y(()=>[l(t).mod===102?(_(),$(kt,{key:0,aii:s,onSuccess:n.fresh},null,8,["aii","onSuccess"])):(_(),$(cn,{key:1}))]),_:1}),h(qn,{aii:s,onSuccess:n.fresh},null,8,["aii","onSuccess"])]),_:1})}}});export{Mt as default};
