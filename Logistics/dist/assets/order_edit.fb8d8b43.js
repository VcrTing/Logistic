import{d as $,v as g,g as w,p as x,o as m,c as A,a as s,h as a,w as l,b as v,t as N,y as c,I as p,F as P,x as E,m as D,i as j,V as S,A as Y,e as b,J as M,T as W,u as G,f as I,Q as J,B as L,P as K,R as Q}from"./index.a1a6f076.js";import{_ as V,a as O}from"./EosDeiiverymanSwitchDrop.vue_vue_type_script_setup_true_lang.2c0d1505.js";const q={class:"py f-row"},z={class:"py f-row"},H={class:"py f-row"},X={class:"py f-row"},Z=s("span",{class:"ip-unit"},"kg",-1),ee={class:"py f-row"},se={class:"py f-row"},te=$({__name:"OrderEditBase",setup(C,{expose:h}){const e=g(),i=w({create_date:"",cf_waybill_no:"",waybill_no:"",order_id:"",order_group:"",receipt_date:"",product_content:"",remarks:"",weight:"",total_item_count:""}),u=w({create_date:!1,waybill_no:!1,order_id:!1,order_group:!1,product_content:!1,total_item_count:!1}),r=function(){let t=!0;if(i.total_item_count)u.total_item_count=!1;else return u.total_item_count=!0,!1;return Object.values(u).map(n=>{n&&(t=!1)}),t};return h({resuit:()=>r()?i:void 0,reset:t=>{for(let n in i)i[n]=t[n];e.value.ioc(t.receipt_date)}}),(t,n)=>{const o=x("eos-input"),_=x("fn-time");return m(),A(P,null,[s("div",q,[a(o,{class:"w-50 w-50-p",is_err:!1,header:"\u5275\u5EFA\u65E5\u671F Order date",is_txt_mode:!0},{default:l(()=>[v(N(i.create_date),1)]),_:1}),a(o,{class:"w-50 w-50-p",is_err:!1,header:"\u7FD4\u70FD\u904B\u55AE\u7DE8\u865F CF waybill number",is_txt_mode:!0},{default:l(()=>[v(N(i.cf_waybill_no),1)]),_:1})]),s("div",z,[a(o,{class:"w-50 w-50-p",is_err:u.waybill_no,header:"\u5BA2\u6236\u904B\u55AE\u7DE8\u865F Waybill number"},{default:l(()=>[c(s("input",{class:"input","onUpdate:modelValue":n[0]||(n[0]=d=>i.waybill_no=d),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[p,i.waybill_no]])]),_:1},8,["is_err"]),a(o,{class:"w-50 w-50-p",is_err:u.order_id,header:"\u8A02\u55AE\u7DE8\u865F Order No."},{default:l(()=>[c(s("input",{class:"input","onUpdate:modelValue":n[1]||(n[1]=d=>i.order_id=d),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[p,i.order_id]])]),_:1},8,["is_err","header"])]),s("div",H,[a(o,{class:"w-50 w-50-p",is_err:u.order_group,header:"\u8A02\u55AE\u7D44 Group"},{default:l(()=>[c(s("input",{class:"input","onUpdate:modelValue":n[2]||(n[2]=d=>i.order_group=d),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[p,i.order_group]])]),_:1},8,["is_err"]),a(o,{class:"w-50 w-50-p",is_err:!1,header:"\u8A02\u55AE\u65E5\u671F Order date"},{default:l(()=>[a(_,{timed:i.receipt_date,ref_key:"dateRef",ref:e,onResuit:n[3]||(n[3]=d=>i.receipt_date=d)},null,8,["timed"])]),_:1})]),s("div",X,[a(o,{class:"w-50 w-50-p",is_err:u.total_item_count,header:"\u4EF6\u6578 Package"},{default:l(()=>[c(s("input",{class:"input",type:"number","onUpdate:modelValue":n[4]||(n[4]=d=>i.total_item_count=d),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[p,i.total_item_count]])]),_:1},8,["is_err"]),a(o,{class:"w-50 w-50-p ip-weight",is_err:!1,header:"\u91CD\u91CF Weight"},{default:l(()=>[c(s("input",{class:"input",type:"number","onUpdate:modelValue":n[5]||(n[5]=d=>i.weight=d),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[p,i.weight]]),Z]),_:1})]),s("div",ee,[a(o,{class:"w-100 w-100-p",is_err:u.product_content,header:"\u8CA8\u54C1\u5167\u5BB9 Product detail"},{default:l(()=>[c(s("input",{class:"input","onUpdate:modelValue":n[6]||(n[6]=d=>i.product_content=d),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[p,i.product_content]])]),_:1},8,["is_err"])]),s("div",se,[a(o,{class:"w-100",is_err:!1,header:"\u5099\u8A3B Remark"},{default:l(()=>[c(s("input",{class:"input","onUpdate:modelValue":n[7]||(n[7]=d=>i.remarks=d),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[p,i.remarks]])]),_:1})])],64)}}}),ie=$({__name:"FnTimeNuii",props:{form:null,pk:null,pchd:null},emits:["resuit"],setup(C,{expose:h,emit:e}){const i=C,u=w({t:""}),r={ciear:()=>u.t="",v:()=>i.form[i.pk],vai:t=>Y(t).format("YYYY-MM-DD"),setv:t=>{i.form&&(i.form[i.pk]=t)}};return E(()=>u.t,t=>{if(t){const n=r.vai(t);n!=u.t&&(u.t=n,r.setv(n),e("resuit"))}t==""&&(r.setv(""),e("resuit"))}),E(r.v,t=>{if(t){const n=r.vai(t);n!=u.t&&(u.t=n)}}),h(r),(t,n)=>(m(),D(j(S),{class:"ip-time","minimum-view":"day","maximum-view":"month",format:"yyyy.MM.dd",placeholder:C.pchd?C.pchd:"\u8ACB\u9078\u64C7",modelValue:u.t,"onUpdate:modelValue":n[0]||(n[0]=o=>u.t=o)},null,8,["format","placeholder","modelValue"]))}}),oe={class:"py f-row"},ne={class:"py f-row"},re={class:"py f-row"},ae={class:"py f-row"},ue=$({__name:"OrderEditDetaii",setup(C,{expose:h}){const e=w({car_park:0,tunnel_fee:0,misc_fee:0,floor_count:0,collection_payment:0,delivery_date:"",delivery_charge:0}),i=w({car_park:!1,tunnel_fee:!1,misc_fee:!1,floor_count:!1,collection_payment:!1,delivery_charge:!1}),u=function(){let r=!0;return Object.values(i).map(t=>{t&&(r=!1)}),r};return h({resuit:()=>u()?e:void 0,reset:r=>{for(let t in e)e[t]=r[t]}}),(r,t)=>{const n=x("eos-input");return m(),A(P,null,[s("div",oe,[a(n,{class:"w-50 w-50-p",is_err:!1,header:"\u9001\u8CA8\u65E5\u671F Delivery date"},{default:l(()=>[a(ie,{pchd:"\u8ACB\u9078\u64C7\u9001\u8CA8\u65E5\u671F",form:e,pk:"delivery_date"},null,8,["form"])]),_:1}),b("",!0)]),s("div",ne,[a(n,{class:"w-50 w-50-p",is_err:i.car_park,header:"\u505C\u8ECA\u5834 Parking"},{default:l(()=>[c(s("input",{class:"input",type:"number","onUpdate:modelValue":t[1]||(t[1]=o=>e.car_park=o),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[p,e.car_park]])]),_:1},8,["is_err"]),a(n,{class:"w-50 w-50-p",is_err:i.tunnel_fee,header:"\u96A7\u9053\u8CBB Tunnel fee"},{default:l(()=>[c(s("input",{class:"input",type:"number","onUpdate:modelValue":t[2]||(t[2]=o=>e.tunnel_fee=o),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[p,e.tunnel_fee]])]),_:1},8,["is_err"])]),s("div",re,[a(n,{class:"w-50 w-50-p",is_err:i.misc_fee,header:"\u96DC\u8CBB Other charges"},{default:l(()=>[c(s("input",{class:"input",type:"number","onUpdate:modelValue":t[3]||(t[3]=o=>e.misc_fee=o),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[p,e.misc_fee]])]),_:1},8,["is_err"]),a(n,{class:"w-50 w-50-p",is_err:i.floor_count,header:"\u6A13\u68AF\u5C64\u6578 Stairs floor"},{default:l(()=>[c(s("input",{class:"input",type:"number","onUpdate:modelValue":t[4]||(t[4]=o=>e.floor_count=o),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[p,e.floor_count]])]),_:1},8,["is_err"])]),s("div",ae,[a(n,{class:"w-50 w-50-p",is_err:i.delivery_charge,header:"\u904B\u8CBB Delivery charges"},{default:l(()=>[c(s("input",{class:"input",type:"number","onUpdate:modelValue":t[5]||(t[5]=o=>e.delivery_charge=o),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[p,e.delivery_charge]])]),_:1},8,["is_err"]),a(n,{class:"w-50 w-50-p",is_err:i.collection_payment,header:"\u4EE3\u6536\u8CA8\u6B3E Collection Payment"},{default:l(()=>[c(s("input",{class:"input",type:"number","onUpdate:modelValue":t[6]||(t[6]=o=>e.collection_payment=o),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[p,e.collection_payment]])]),_:1},8,["is_err"])])],64)}}}),le={class:"py f-row"},_e={class:"py f-row"},de={class:"py f-row"},ce={class:"py f-row"},pe=$({__name:"OrderEditReciver",setup(C,{expose:h}){const e=w({customer_name:"",customer_phone_no:"",district:"",area:"",address:"",route:""}),i=w({customer_name:!1,customer_phone_no:!1,district:!1,area:!1,address:!1,route:!1}),u=function(){let r=!0;if(e.customer_name)i.customer_name=!1;else return i.customer_name=!0,!1;if(e.address)i.address=!1;else return i.address=!0,!1;return Object.values(i).map(t=>{t&&(r=!1)}),r};return h({resuit:()=>u()?e:void 0,reset:r=>{for(let t in e)e[t]=r[t]}}),(r,t)=>{const n=x("eos-input");return m(),A(P,null,[s("div",le,[a(n,{class:"w-50 w-50-p",is_err:i.customer_name,header:"\u6536\u4EF6\u4EBA\u540D\u7A31 Recipient name"},{default:l(()=>[c(s("input",{class:"input","onUpdate:modelValue":t[0]||(t[0]=o=>e.customer_name=o),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[p,e.customer_name]])]),_:1},8,["is_err"]),a(n,{class:"w-50 w-50-p",is_err:i.customer_phone_no,header:"\u6536\u4EF6\u4EBA\u96FB\u8A71\u865F\u78BC Tel."},{default:l(()=>[c(s("input",{class:"input","onUpdate:modelValue":t[1]||(t[1]=o=>e.customer_phone_no=o),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[p,e.customer_phone_no]])]),_:1},8,["is_err","header"])]),s("div",_e,[a(n,{class:"w-50 w-50-p",is_err:i.district,header:"\u5730\u5340 District"},{default:l(()=>[c(s("input",{class:"input","onUpdate:modelValue":t[2]||(t[2]=o=>e.district=o),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[p,e.district]])]),_:1},8,["is_err"]),a(n,{class:"w-50 w-50-p",is_err:i.area,header:"\u5340\u57DF Area"},{default:l(()=>[c(s("input",{class:"input","onUpdate:modelValue":t[3]||(t[3]=o=>e.area=o),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[p,e.area]])]),_:1},8,["is_err"])]),s("div",de,[a(n,{class:"w-100 w-100-p",is_err:i.address,header:"\u5730\u5740\u8A73\u60C5 Address"},{default:l(()=>[c(s("textarea",{class:"input","onUpdate:modelValue":t[4]||(t[4]=o=>e.address=o),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[p,e.address]])]),_:1},8,["is_err"])]),s("div",ce,[a(n,{class:"w-50 w-50-p",is_err:i.route,header:"\u8DEF\u7DDA Route"},{default:l(()=>[c(s("input",{class:"input","onUpdate:modelValue":t[5]||(t[5]=o=>e.route=o),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[p,e.route]])]),_:1},8,["is_err"])])],64)}}}),fe={class:"panner mb"},me={class:"fx-s"},he=s("h4",null,"\u8CA8\u54C1\u5DF2\u5230\u8CA8\u5009\xA0\xA0The goods have arrived at the warehouse",-1),ve={class:"fx-1 fx-r"},we={class:"pl pr_x3 fx-r fx-1"},ye=s("span",{class:"txt-pri"},"\u66F4\u65B0\u6642\u9593:\xA0",-1),Ae={key:1},xe={class:"fx-r"},Ce={class:"panner mb"},Fe={class:"fx-s"},Be=s("h4",null,"\u8A02\u55AE\u5DF2\u5B8C\u6210\u9001\u8CA8\xA0\xA0The order has been delivered",-1),ke={class:"fx-r fx-1"},Ee={class:"pl pr_x3 fx-r fx-1"},be=s("span",{class:"txt-pri"},"\u66F4\u65B0\u6642\u9593:\xA0",-1),$e={class:"fx-r"},ge={class:"panner mb"},De={class:"fx-s"},Pe=s("h4",null,"\u8CA8\u54C1\u5DF2\u96E2\u958B\u8CA8\u5009\u904B\u9001\u5BA2\u4EBA\u4E2D\xA0\xA0The goods have left the warehouse",-1),Ve={class:"fx-r fx-1"},Ue={class:"pl pr_x3 fx-r fx-1"},Re=s("span",{class:"txt-pri"},"\u66F4\u65B0\u6642\u9593:\xA0",-1),Te={class:"fx-r"},Me={class:"panner mb"},Oe={class:"fx-s"},Ne=s("h4",null,"\u8CA8\u54C1\u672A\u80FD\u6210\u529F\u9001\u5230\u5BA2\u4EBA\xA0\xA0The goods were not delivered to the customer",-1),je={class:"fx-r fx-1"},Ye={class:"pl pr_x3 fx-r fx-1"},Ke=s("span",{class:"txt-pri"},"\u66F4\u65B0\u6642\u9593:\xA0",-1),Se={class:"fx-r"},We=$({__name:"OrderEditFinished",setup(C,{expose:h}){const e=w({is_in_warehouse:!1,is_leave_warehouse:!1,is_fail_deliver:!1,is_complete_list:!1,is_fail_deliver_date:"",is_in_warehouse_date:"",is_complete_list_date:"",is_leave_warehouse_date:""});w({is_complete_list:!1});const i=(r="")=>{r&&(e[r]||(e[r+"_date"]=Y().format("yyyy-MM-DD")))},u=(r="")=>{r&&e[r]&&(e[r+"_date"]||(e[r+"_date"]=Y().format("yyyy-MM-DD")))};return E(()=>e.is_in_warehouse,r=>i("is_in_warehouse")),E(()=>e.is_leave_warehouse,r=>i("is_leave_warehouse")),E(()=>e.is_fail_deliver,r=>i("is_fail_deliver")),E(()=>e.is_complete_list,r=>i("is_complete_list")),h({resuit:()=>(u("is_in_warehouse"),u("is_fail_deliver"),u("is_complete_list"),u("is_leave_warehouse"),e),reset:r=>{for(let t in r)e[t]=r[t]}}),(r,t)=>{const n=x("eos-switch-ref");return m(),A(P,null,[s("nav",fe,[s("div",me,[he,s("div",ve,[s("div",we,[ye,e.is_in_warehouse?(m(),D(V,{key:0,class:"ip-time-singie ip-time-pri ip_time_r",form:e,pk:"is_in_warehouse_date"},null,8,["form"])):(m(),A("div",Ae))]),s("div",xe,[v(" \u5426\xA0\xA0\xA0"),a(n,{pchd:"",form:e,pk:"is_in_warehouse"},null,8,["form"]),v("\xA0\xA0\u662F ")])])])]),s("nav",Ce,[s("div",Fe,[Be,s("div",ke,[s("div",Ee,[be,e.is_complete_list?(m(),D(V,{key:0,class:"ip-time-singie ip-time-pri ip_time_r",form:e,pk:"is_complete_list_date"},null,8,["form"])):b("",!0)]),s("div",$e,[v(" \u5426\xA0\xA0\xA0"),a(n,{pchd:"",form:e,pk:"is_complete_list"},null,8,["form"]),v("\xA0\xA0\u662F ")])])])]),s("nav",ge,[s("div",De,[Pe,s("div",Ve,[s("div",Ue,[Re,e.is_leave_warehouse?(m(),D(V,{key:0,class:"ip-time-singie ip-time-pri ip_time_r",form:e,pk:"is_leave_warehouse_date"},null,8,["form"])):b("",!0)]),s("div",Te,[v(" \u5426\xA0\xA0\xA0"),a(n,{pchd:"",form:e,pk:"is_leave_warehouse"},null,8,["form"]),v("\xA0\xA0\u662F ")])])])]),s("nav",Me,[s("div",Oe,[Ne,s("div",je,[s("div",Ye,[Ke,e.is_fail_deliver?(m(),D(V,{key:0,class:"ip-time-singie ip-time-pri ip_time_r",form:e,pk:"is_fail_deliver_date"},null,8,["form"])):b("",!0)]),s("div",Se,[v(" \u5426\xA0\xA0\xA0"),a(n,{pchd:"",form:e,pk:"is_fail_deliver"},null,8,["form"]),v("\xA0\xA0\u662F ")])])])])],64)}}}),Ge={class:"py f-row"},Ie={class:"ps-r"},Je={key:0,class:"ip-vai-succ-icon"},Le=s("i",{class:"bi bi-check-lg"},null,-1),Qe=[Le],qe={class:"py f-row"},ze={class:"ps-r"},He={key:0,class:"ip-vai-succ-icon"},Xe=s("i",{class:"bi bi-check-lg"},null,-1),Ze=[Xe],es={class:"ps-r"},ss={key:0,class:"ip-vai-succ-icon"},ts=s("i",{class:"bi bi-check-lg"},null,-1),is=[ts],os={class:"py pl"},ns={class:"pb"},rs={class:"pb"},as={class:""},us=$({__name:"OrderEditDeiiverMan",setup(C,{expose:h}){const e=w({many:[],ioading:!1,deiiv:{}}),i=w({phone_no:!1,chinese_name:!1,contractor_name:!1}),u=w({phone_no:"",chinese_name:"",contractor_name:""}),r=w({phone_no:!1,chinese_name:!1,contractor_name:!1});E(()=>u.chinese_name,(o,_)=>{_&&!o&&n.reset({phone_no:"",chinese_name:"",contractor_name:""})});const t={searchMan:async o=>new Promise(async _=>{if(!e.ioading)try{t.ciose(),e.ioading=!0,t.open(o);const d={};d[o]=u[o];const k=await W.many_of_param(d);e.many=k&&k.length>0?k:[]}catch{}setTimeout(()=>e.ioading=!1,200)}),ciose:()=>{for(let o in i)i[o]=!1},open:(o="phone_no",_=!0)=>{t.ciose(),u[o]&&(i[o]=_)},insert:o=>{if(e.deiiv=o,t.ciose(),e.deiiv)for(const _ in u)u[_]=e.deiiv[_]}},n={can:()=>{let o=!0;if(u.phone_no)r.phone_no=!1;else return r.phone_no=!0,!1;if(e.deiiv.id)r.phone_no=!1;else return r.phone_no=!0,r.chinese_name=!0,r.contractor_name=!0,!1;return Object.values(r).map(_=>{_&&(o=!1)}),o},reset:o=>{const _=o.delivery_man_info;for(let d in u)u[d]=_?_[d]:"";e.deiiv=_||{},t.ciose()}};return h({resuit:()=>n.can()?{delivery_man_info:e.deiiv.id}:void 0,reset:n.reset}),(o,_)=>{const d=x("eos-input"),k=x("ef-deliver-typed"),U=x("ef-car-typed");return m(),A(P,null,[s("div",Ge,[a(d,{class:"w-100",is_err:!1,header:"\u59D3\u540D(\u4E2D\u6587\u540D\u6216\u82F1\u6587\u540D\u5747\u53EF) Name (You can enter Chinese or English)"},{default:l(()=>[a(O,{aii:e,show:i.chinese_name,onResuit:t.insert,onCiose:t.ciose},{default:l(()=>[s("div",Ie,[c(s("input",{class:"input","onUpdate:modelValue":_[0]||(_[0]=y=>u.chinese_name=y),onKeydown:_[1]||(_[1]=M(y=>t.searchMan("chinese_name"),["enter"])),placeholder:"\u8F38\u5165\u5B8C\u6210\u5F8C\u8ACB\u6309\u56DE\u8ECA\u9375 Press Enter when you have finished typing"},null,544),[[p,u.chinese_name]]),e.deiiv&&e.deiiv.id?(m(),A("span",Je,Qe)):b("",!0)])]),_:1},8,["aii","show","onResuit","onCiose"])]),_:1},8,["header"])]),s("div",qe,[a(d,{class:"w-36 w-50-p",is_err:!1,header:"\u96FB\u8A71\u865F\u78BC Telephone number"},{default:l(()=>[a(O,{aii:e,show:i.phone_no,onResuit:t.insert,onCiose:t.ciose},{default:l(()=>[s("div",ze,[c(s("input",{class:"input","onUpdate:modelValue":_[2]||(_[2]=y=>u.phone_no=y),onKeydown:_[3]||(_[3]=M(y=>t.searchMan("phone_no"),["enter"])),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,544),[[p,u.phone_no]]),e.deiiv&&e.deiiv.id?(m(),A("span",He,Ze)):b("",!0)])]),_:1},8,["aii","show","onResuit","onCiose"])]),_:1}),a(d,{class:"w-333 w-50-p",is_err:!1,header:"\u5224\u982D\u540D\u7A31 Contractor name"},{default:l(()=>[a(O,{aii:e,show:i.contractor_name,onResuit:t.insert,onCiose:t.ciose},{default:l(()=>[s("div",es,[c(s("input",{class:"input","onUpdate:modelValue":_[4]||(_[4]=y=>u.contractor_name=y),onKeydown:_[5]||(_[5]=M(y=>t.searchMan("contractor_name"),["enter"])),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,544),[[p,u.contractor_name]]),e.deiiv&&e.deiiv.contractor_name?(m(),A("span",ss,is)):b("",!0)])]),_:1},8,["aii","show","onResuit","onCiose"])]),_:1})]),s("div",os,[s("p",ns,[v("\u9001\u8CA8\u54E1\u985E\u5225 Type of deliveryman:\xA0\xA0"),a(k,{class:"d-ib",def:e.deiiv.type,is_txt_mode:!0},null,8,["def"])]),s("p",rs,[v("\u8ECA\u724C Licence plate:\xA0\xA0"),s("span",null,N(e.deiiv.license_plate_no),1)]),s("p",as,[v("\u8CA8\u8ECA\u985E\u578B Truck type:\xA0\xA0"),a(U,{class:"d-ib",def:e.deiiv.truck_type,is_txt_mode:!0},null,8,["def"])])])],64)}}}),ls=s("div",{class:"py_row"},null,-1),_s=s("div",{class:"py_row"},null,-1),ds={key:0},cs=s("div",{class:"py_row"},null,-1),ps=s("div",{class:"py_row"},null,-1),fs={key:1},ms=s("div",{class:"py_x3"},[s("br"),s("br"),s("br"),s("br"),s("br"),s("br")],-1),ys=$({__name:"order_edit",setup(C){const h=G(),e=g(),i=g(),u=g(),r=g(),t=g(),n=I(),o=n.is_admin,_=J().order,d=async()=>{_.id||y();const f=await K.one(_.id);f.receipt_date=f.receipt_date?f.receipt_date:Q.now(),console.log("\u806F\u7DB2\u4E0B\u8F09\u7684\u4E00\u500B\u8A02\u55AE =",f),setTimeout(()=>{try{e.value.reset(f),i.value.reset(f),u.value.reset(f),o&&r.value.reset(f),o&&t.value.reset(f)}catch{}},2)},k=()=>{const f=e.value.resuit(),F=i.value.resuit(),B=u.value.resuit(),R=o?r.value.resuit():{},T=o?t.value.resuit():{};return f&&F&&B?o?{...f,...F,...B,...R,...T}:{...f,...F,...B}:null},U=async function(){const f=k();console.log(f),f&&await K.edit(f,_.id)&&y()};L(async()=>{await d()});const y=()=>h.push("/admin/order_iist");return(f,F)=>{const B=x("eos-form-paner"),R=x("eos-iayout-form"),T=x("eos-iayout-screen");return m(),D(T,{is_en:!0,onBack:F[0]||(F[0]=hs=>j(h).back())},{default:l(()=>[a(R,{is_en:!0,onSubmit:U,onBack:y},{default:l(()=>[a(B,{tit:"\u57FA\u672C\u4FE1\u606F Basic information"},{default:l(()=>[a(te,{ref_key:"base",ref:e},null,512)]),_:1}),ls,a(B,{tit:"\u8A02\u55AE\u8A73\u60C5 Order details"},{default:l(()=>[a(ue,{ref_key:"detaii",ref:u},null,512)]),_:1}),_s,a(B,{tit:"\u6536\u4EF6\u4EBA\u4FE1\u606F Recipient information"},{default:l(()=>[a(pe,{ref_key:"reciv",ref:i},null,512)]),_:1}),j(n).is_admin?(m(),A("div",ds,[cs,a(B,{tit:"\u9001\u8CA8\u54E1\u4FE1\u606F Deliveryman information"},{default:l(()=>[a(us,{ref_key:"deiiver",ref:r},null,512)]),_:1}),ps,a(We,{ref_key:"finished",ref:t},null,512)])):(m(),A("div",fs,[s("div",{ref_key:"deiiver",ref:r},null,512),s("div",{ref_key:"finished",ref:t},null,512)]))]),_:1}),ms]),_:1})}}});export{ys as default};
