import{q as s,f as o,M as g,N as l}from"./index.1d5a22a8.js";const _=t=>{let n={data:[],page:{total:0}};return t.map(a=>{n.data.push(...a.data),n.page.total=a.page.total}),n},f=(t,n)=>{const a=[];for(let e=1;e<=t;e++){const i=e+t*(n-1);a.push(i)}return a},w={pagin_more:async(t,n,a=5,e=100)=>new Promise(async i=>{t["pagination[page]"]=1;let c=[];t["pagination[pageSize]"]=e;const p=f(a,t["pagination[page]"]);for(let r=0;r<p.length;r++)if(t["pagination[page]"]=p[r],n){const u=await n(t);u&&c.push(u)}i(_(c))})},d=async function(t){const n=o().comapny.uuid,a=o().is_admin,e=await s.get("order",o().jwt,l(t),a?n:"");return e?g.ser_aii(e,[]):{}},y=async function(t){return t["pagination[pageSize]"]===500?await w.pagin_more(t,d,5,100):await d(t)},m=async function(t){let n=await s.get("order_one",o().jwt,{},t);return n?g.data(n):{}},x=async function(t,n){let a=await s.put("order",o().jwt,t,{},n+"");return a||null},h=async function(t,n){let a=await s.pos("order_import",o().jwt,{importData:t},{},n);return a&&a.status?a.status<399?a.data:[]:[]},j=(t,n,a)=>{console.log("Buffer =",t),new Blob([t],a||{type:"application/vnd.ms-excel"})},B=async t=>{try{let n=await s.pos("order_excei",o().jwt,l(t));const a=n&&n.data?n.data:"";j(a,"excei.xls")}catch(n){console.log(n)}},z={one:m,many:y,edit:x,excei:B,imported:h};export{z as o};
