import{d as $,B as P,i as D,D as T,s as A,E as R,k as p,h as w,o as l,c as m,a as e,f as i,w as _,v as B,x as C,e as F,b,J as L,_ as M,L as U,t as v,l as k,F as O,r as V,R as x,K as G,n as H,u as I}from"./index.5c753b6d.js";import{_ as W}from"./CoOrderFpCont.vue_vue_type_script_setup_true_lang.15deb66d.js";import{o as Y}from"./order.1ca42df3.js";const J={key:0,class:"panner"},K=e("h2",null,"\u8A02\u55AE\u4FEE\u6539",-1),j={key:0,class:"pb_x2 pt"},q={class:"f-row"},Q=e("div",{class:"py_row"},null,-1),X={class:"f-row"},Z=e("div",{class:"py_row"},null,-1),ee={class:"f-row"},se=e("div",{class:"py_row"},null,-1),ne=e("div",{class:"py_row"},null,-1),te={class:"fx-c"},oe=$({__name:"CuOibTdForm",emits:["refresh"],setup(a,{emit:n}){const t=P(),u=D(),r=T(u),s=A({date:"",order_id:"",index:0,cf_waybill_number:"",waybill_no:"",customer_name_zh:"",customer_name_en:"",customer_phone_no:"",address:""}),o=A({date:!1,order_id:!1,cf_waybill_number:!1,waybill_no:!1,customer_name_zh:!1,customer_name_en:!1,customer_phone_no:!1,address:!1}),c=function(){let h=!0;if(s.order_id)o.order_id=!1;else return o.order_id=!0,!1;if(s.waybill_no)o.waybill_no=!1;else return o.waybill_no=!0,!1;if(s.customer_phone_no)o.customer_phone_no=!1;else return o.customer_phone_no=!0,!1;return Object.values(o).map(d=>{d&&(h=!1)}),h},f=()=>{c()&&(n("refresh",s),u.do_mod(0))},E=h=>{if(console.log("\u91CD\u7F6E v =",h),h&&h.order_id){for(let d in s)s[d]=h[d];L(()=>{h.date&&t.value.ioc(h.date)})}else u.do_mod(0)};return R(r.one,h=>E(h)),(h,d)=>{const N=p("fn-time"),g=p("eos-input"),z=p("my-button");return w(r).one?(l(),m("div",J,[K,s.order_id?(l(),m("div",j,[e("div",q,[i(g,{class:"w-50",header:"\u8A02\u55AE\u65E5\u671F"},{default:_(()=>[i(N,{ref_key:"timed",ref:t,onResuit:d[0]||(d[0]=y=>s.date=y)},null,512)]),_:1}),i(g,{class:"w-50",is_err:o.order_id,header:"\u8A02\u55AE\u7DE8\u865F"},{default:_(()=>[B(e("input",{class:"input","onUpdate:modelValue":d[1]||(d[1]=y=>s.order_id=y),placeholder:"\u8ACB\u8F38\u5165 Please Enter"},null,512),[[C,s.order_id]])]),_:1},8,["is_err"])]),Q,e("div",X,[i(g,{class:"w-50",header:"\u5BA2\u6236\u904B\u55AE\u7DE8\u865F"},{default:_(()=>[B(e("input",{class:"input","onUpdate:modelValue":d[2]||(d[2]=y=>s.cf_waybill_number=y),placeholder:"\u8ACB\u8F38\u5165 Please Enter"},null,512),[[C,s.cf_waybill_number]])]),_:1}),i(g,{class:"w-50",is_err:o.waybill_no,header:"\u904B\u55AE\u7DE8\u865F"},{default:_(()=>[B(e("input",{class:"input","onUpdate:modelValue":d[3]||(d[3]=y=>s.waybill_no=y),placeholder:"\u8ACB\u8F38\u5165 Please Enter"},null,512),[[C,s.waybill_no]])]),_:1},8,["is_err"])]),Z,e("div",ee,[i(g,{class:"w-50",header:"\u6536\u4EF6\u4EBA\u4E2D\u6587\u540D"},{default:_(()=>[B(e("input",{class:"input","onUpdate:modelValue":d[4]||(d[4]=y=>s.customer_name_zh=y),placeholder:"\u8ACB\u8F38\u5165 Please Enter"},null,512),[[C,s.customer_name_zh]])]),_:1}),i(g,{class:"w-50",header:"\u6536\u4EF6\u4EBA\u82F1\u6587\u540D"},{default:_(()=>[B(e("input",{class:"input","onUpdate:modelValue":d[5]||(d[5]=y=>s.customer_name_en=y),placeholder:"\u8ACB\u8F38\u5165 Please Enter"},null,512),[[C,s.customer_name_en]])]),_:1})]),se,i(g,{class:"w-100",is_err:o.customer_phone_no,header:"\u96FB\u8A71\u865F\u78BC"},{default:_(()=>[B(e("input",{class:"input","onUpdate:modelValue":d[6]||(d[6]=y=>s.customer_phone_no=y),placeholder:"\u8ACB\u8F38\u5165 Please Enter"},null,512),[[C,s.customer_phone_no]])]),_:1},8,["is_err"]),ne,i(g,{class:"w-100",header:"\u5730\u5740"},{default:_(()=>[B(e("input",{class:"input","onUpdate:modelValue":d[7]||(d[7]=y=>s.address=y),placeholder:"\u8ACB\u8F38\u5165 Please Enter"},null,512),[[C,s.address]])]),_:1})])):F("",!0),e("div",te,[i(z,{onClick:f},{default:_(()=>[b("\u5132\u5B58")]),_:1})])])):F("",!0)}}}),ae={},ie={class:"tr"},ue=U('<div class="w-11"> \u8A02\u55AE\u65E5\u671F<br><p class="tr-en">Order date</p></div><div class="w-14"> \u5BA2\u6236\u904B\u55AE\u7DE8\u865F<br><p class="tr-en">Waybill number</p></div><div class="w-8"> \u8A02\u55AE\u7D44<br><p class="tr-en">Group</p></div><div class="w-11"> \u8A02\u55AE\u7DE8\u865F<br><p class="tr-en">Order No.</p></div><div class="w-12"> \u6536\u4EF6\u4EBA<br><p class="tr-en">Reciver</p></div><div class="w-11"> \u96FB\u8A71<br><p class="tr-en">Phone</p></div><div class="w-30"> \u5730\u5740<br><p class="tr-en">Address/Locations</p></div><div class="w-4"></div>',8),le=[ue];function ce(a,n){return l(),m("nav",ie,le)}const re=M(ae,[["render",ce]]),de={class:"td"},_e={class:"w-11"},me={class:"w-14"},pe={class:"w-8"},he={class:"w-11"},fe={class:"w-12"},ve={class:"w-11"},ye={class:"w-30"},be={class:"w-4 t-r"},we=$({__name:"CuOibIistTd",props:{idx:null,one:null},setup(a){const n=a,t=D();return(u,r)=>{const s=p("eos-tabie-opera");return l(),m("div",de,[e("div",_e,v(a.one.create_date),1),e("div",me,v(a.one.waybill_no),1),e("div",pe,v(a.one.order_group),1),e("div",he,[e("div",{onClick:r[0]||(r[0]=()=>{w(t).do_one(a.one),w(t).do_panner(1)}),class:"pri hand"},v(a.one.order_id),1)]),e("div",fe,v(a.one.customer_name),1),e("div",ve,v(a.one.customer_phone_no),1),e("div",ye,v(a.one.address),1),e("div",be,[i(s,{vais:"edit",is_icon:!0,onEdit:r[1]||(r[1]=()=>{w(t).do_one(n.one),w(t).do_mod(1)})})])])}}}),S=$({__name:"CuOibFixPanner",setup(a){const n=T(D()),t=P();return R(n.one,u=>t.value=u),(u,r)=>{const s=p("eos-fixed-panner"),o=p("eos-empty");return t.value&&t.value.order_id?(l(),k(s,{key:0},{default:_(()=>[i(W,{one:t.value},null,8,["one"])]),_:1})):(l(),k(s,{key:1},{default:_(()=>[i(o)]),_:1}))}}}),$e={class:"tabie"},Ee={class:"td-wrap"},Ae={key:0,class:"pt"},ge=$({__name:"CuOibIist",props:{many:null},setup(a){const n=a;R(n.many,(s,o)=>{u.pagina(0,0,t.imit)});const t=A({items:[],imit:25,ioading:!1,start:0}),u=A({pagina:(s,o,c)=>{t.ioading=!0,t.start=o,t.imit=c,t.items=n.many.slice(o,o+c),t.ioading=!1}}),r=s=>{t.items.map((o,c)=>{o.index===s.index&&(t.items[c]=s)})};return(s,o)=>{const c=p("eos-tabie-ioading"),f=p("eos-pagination"),E=p("eos-mod");return l(),m("div",null,[e("div",$e,[i(re),i(c,{ioad:w(t).ioading,many:a.many},{default:_(()=>[e("nav",Ee,[(l(!0),m(O,null,V(w(t).items,(h,d)=>(l(),m("div",{key:d},[i(we,{one:h,idx:d},null,8,["one","idx"])]))),128))])]),_:1},8,["ioad","many"])]),a.many&&a.many.length>0?(l(),m("div",Ae,[i(f,{onResuit:w(u).pagina,count:a.many.length,_limit:w(t).imit},null,8,["onResuit","count","_limit"])])):F("",!0),i(E,null,{default:_(()=>[i(oe,{onRefresh:r})]),_:1}),i(S)])}}}),Be=U('<div class="sun"><p>\u8ACB\u4E0B\u8F09\u6700\u65B0\u7248\u672C\u4F7F\u7528\u6279\u91CF\u4E0B\u55AE\uFF0C\u5426\u5247\u5C07\u4E0D\u80FD\u6210\u529F\u4E0B\u55AE</p><p>Please download the latesttemplate and use batch order,</p><p>otherwise you will not be able to place an order successfully.</p><div>\xA0</div><p>\u6279\u91CF\u4E0B\u55AE\u6559\u5B78\u5982\u4E0B: <span class="pri">HTTP://YOUTUBE.COM</span></p><p>Batch ordering teaching is as follows: <span class="pri">HTTP://YOUTUBE.COM</span></p></div><div class="pt"></div><div class="b"><p>\u6279\u91CF\u4E0B\u55AE\u8A66\u7B97\u7BC4\u672C: <span class="pri">\u4E0B\u8F09\u5831\u8868</span></p><p>Batch Trial Balance Template: <span class="pri">Download Report</span></p></div><div>\xA0</div>',4),Ce={class:"fx-l"},Fe=e("div",{class:"b pl_x2"},[e("p",null,"\u8A3B\u610F\uFF1A\u6BCF\u6B21\u5EFA\u8B70\u4E0A\u50B3\u4E0D\u591A\u65BC500\u884C\u8A18\u9304"),e("p",null,"Note: It is recommended to upload no more than 500 records each time.")],-1),xe=$({__name:"CustomUpioadBase",emits:["resuit"],setup(a,{emit:n}){const t=A({header:["create_date","waybill_no","order_group","order_id","customer_name","customer_phone_no","address","route","district","product_content","weight","total_item_count","delivery_charge","collection_payment","remarks"]}),u=async s=>new Promise(o=>{let c=[];for(let f=0;f<s.length;f++)c.push(r.ser_one(s[f],f));o(c)}),r=A({ser_one:(s,o)=>(s.index=o,s.weight=x.parse_int(s.weight),s.delivery_charge=x.parse_int(s.delivery_charge),s.total_item_count=x.parse_int(s.total_item_count),s.collection_payment=x.parse_int(s.collection_payment),s.create_date=s.create_date?G.fmt_time(s.create_date):"",s),reciv:async s=>{n("resuit",[]);const o=await x.ioad_by_fiie(s,t.header);n("resuit",await u(o))}});return(s,o)=>{const c=p("eos-upioad-button");return l(),m("div",null,[Be,e("div",Ce,[i(c,{onResuit:r.reciv},null,8,["onResuit"]),Fe])])}}}),ke={class:"panner"},De=e("h4",null,[e("div",null,"\u78BA\u8A8D\u5132\u5B58"),e("div",null,"Confirm Save")],-1),Oe=e("div",{class:"pt_x pb_x2 sun"},[e("p",null,"\u5982\u4F60\u78BA\u8A8D\u7121\u8AA4\uFF0C\u8ACB\u5132\u5B58\u81F3\u8A02\u55AE\u5217\u8868\u4E2D"),e("p",null,"If you confirm it correctly, please save it to order management.")],-1),Pe={class:"fx-l"},Re={class:"pr"},Te={key:0,class:"righter"},Ue=$({__name:"CustomUpioadConfirm",props:{num:null,totai:null},emits:["save"],setup(a){const n=P(!1);return(t,u)=>{const r=p("my-button"),s=p("eos-aii-button");return l(),m("nav",ke,[De,Oe,e("div",Pe,[e("div",Re,[i(r,{class:H({"btn-die":n.value}),typed:"pri-tin",onClick:u[0]||(u[0]=o=>n.value=!0)},{default:_(()=>[b("\u4E0B\u4E00\u6B65 Next")]),_:1},8,["class"])]),n.value?(l(),m("div",Te,[a.totai?(l(),k(r,{key:0},{default:_(()=>[b(" \u4E0A\u50B3\u9032\u5EA6:\xA0\xA0"+v(a.num)+"\xA0/\xA0"+v(a.totai),1)]),_:1})):(l(),k(s,{key:1,vais:"save",onSave:u[1]||(u[1]=o=>t.$emit("save")),is_en:!0}))])):F("",!0)])])}}}),Ve={class:"tr"},Ie=e("div",{class:"w-11"},[b(" \u8A02\u55AE\u65E5\u671F"),e("br"),e("p",{class:"tr-en"},"Order date")],-1),Se=e("div",{class:"w-14"},[b(" \u5BA2\u6236\u904B\u55AE\u7DE8\u865F"),e("br"),e("p",{class:"tr-en"},"Waybill number")],-1),Ne=e("div",{class:"w-8"},[b(" \u8A02\u55AE\u7D44"),e("br"),e("p",{class:"tr-en"},"Group")],-1),ze=e("div",{class:"w-10"},[b(" \u8A02\u55AE\u7DE8\u865F"),e("br"),e("p",{class:"tr-en"},"Order No.")],-1),Le=e("div",{class:"w-11"},[b(" \u6536\u4EF6\u4EBA"),e("br"),e("p",{class:"tr-en"},"Reciver")],-1),Me=e("div",{class:"w-11"},[b(" \u96FB\u8A71"),e("br"),e("p",{class:"tr-en"},"Phone")],-1),Ge=e("div",{class:"w-32"},[b(" \u5730\u5740"),e("br"),e("p",{class:"tr-en"},"Address/Locations")],-1),He=e("div",{class:"w-4"},null,-1),We=$({__name:"CuOibIistSavedTr",props:{aii:null},setup(a){return(n,t)=>{const u=p("eos-tabie-choose-item-tr");return l(),m("nav",Ve,[i(u,{many:a.aii.many,choose:a.aii.choose},{default:_(()=>[Ie,Se,Ne,ze,Le,Me,Ge,He]),_:1},8,["many","choose"])])}}}),Ye=e("div",{class:"py_t"},null,-1),Je=$({__name:"CuOibIistSavedBar",setup(a){const n=()=>{console.log("\u6253\u5370")};return(t,u)=>{const r=p("my-button");return l(),m(O,null,[i(r,{onClick:n,typed:"pri-tin",icon:"bi bi-file-earmark-pdf"},{default:_(()=>[b(" \u5217\u5370 Print ")]),_:1}),Ye],64)}}}),Ke={class:"td"},je={class:"w-11"},qe={class:"w-14"},Qe={class:"w-8"},Xe={class:"w-10"},Ze={class:"w-11"},es={class:"w-11"},ss={class:"w-32"},ns={class:"w-4 t-r"},ts=$({__name:"CuOibIistSavedTd",props:{idx:null,one:null,choose:null},setup(a){const n=D();return I(),(t,u)=>{const r=p("eos-tabie-opera"),s=p("eos-tabie-choose-item-td");return l(),m("div",Ke,[i(s,{one:a.one,choose:a.choose},{default:_(()=>[e("div",je,v(a.one.create_date),1),e("div",qe,v(a.one.waybill_no),1),e("div",Qe,v(a.one.order_group),1),e("div",Xe,[e("span",{class:"pri hand",onClick:u[0]||(u[0]=()=>{w(n).do_one(a.one),w(n).do_panner(1)})},v(a.one.order_id),1)]),e("div",Ze,v(a.one.customer_name),1),e("div",es,v(a.one.customer_phone_no),1),e("div",ss,v(a.one.address),1),e("div",ns,[i(r,{vais:"edit",is_icon:!0})])]),_:1},8,["one","choose"])])}}}),os={class:"panner"},as={class:"tabie"},is={class:"td-wrap"},us={key:0,class:"pt"},ls=$({__name:"CuOibSavedIist",props:{success:null},setup(a){const n=a;console.log("success =",n.success);const t=A({choose:[],start:0,imit:25,ioading:!0,page:{total:1},condition:{},many:[]});t.many=n.success,t.ioading=!1;const u=A({pagina:(r,s,o)=>{t.ioading=!0,t.start=s,t.imit=o,t.many=n.success.slice(s,s+o),t.ioading=!1}});return(r,s)=>{const o=p("eos-tabie-ioading"),c=p("eos-pagination");return l(),m("nav",os,[i(Je),e("div",as,[i(We,{aii:t},null,8,["aii"]),i(o,{ioad:t.ioading,many:t.many},{default:_(()=>[e("nav",is,[(l(!0),m(O,null,V(t.many,(f,E)=>(l(),m("div",{key:E},[i(ts,{one:f,idx:E,choose:t.choose},null,8,["one","idx","choose"])]))),128))])]),_:1},8,["ioad","many"])]),a.success&&a.success.length>0?(l(),m("div",us,[i(c,{onResuit:u.pagina,count:a.success.length,_limit:t.imit},null,8,["onResuit","count","_limit"])])):F("",!0)])}}}),cs=e("div",{class:"py_row"},null,-1),rs={key:0},ds=e("div",{class:"py_row"},null,-1),_s={key:1},ms=e("div",{class:"py_row"},null,-1),ps={class:"fx-r"},hs=e("span",{class:"px_s"},null,-1),bs=$({__name:"CuOrderInBuik",setup(a){I();const n=A({is_saved:!1,num:0,upiading:!1,iong:10,many:[],success:[]}),t=s=>{let o=[];return s.map(c=>{c&&c.waybill_no&&o.push(c)}),o},u=async(s,o)=>new Promise(c=>{const f=t(s);f.length>0?Y.imported(f,"").then(E=>{n.success.push(...E),n.num+=n.iong,n.num>n.many.length&&(n.num=n.many.length),c(!0)}):c(!0)}),r=A({save:async()=>{n.upiading=!0,await x.insert_many(n.many,u,n.iong),n.success.length>0&&(n.is_saved=!0,n.upiading=!1,n.many=[])}});return(s,o)=>{const c=p("eos-form-paner"),f=p("my-button"),E=p("eos-iayout-screen-siot");return l(),m(O,null,[i(E,{is_en:!0},{cont:_(()=>[i(c,null,{default:_(()=>[i(xe,{onResuit:o[0]||(o[0]=h=>{n.many=h}),ref:"base"},null,512)]),_:1}),cs,n.is_saved?(l(),m("div",_s,[i(ls,{success:n.success},null,8,["success"]),ms,e("div",ps,[i(f,{onClick:o[1]||(o[1]=h=>n.is_saved=!1),typed:"pri-tin"},{default:_(()=>[b("\u8FD4\u56DE Back")]),_:1}),hs,i(f,{onClick:o[2]||(o[2]=h=>n.is_saved=!1)},{default:_(()=>[b("\u5B8C\u6210\u4E0A\u4F20 Complete")]),_:1})])])):(l(),m("div",rs,[n.many&&n.many.length>0?(l(),k(c,{key:0},{default:_(()=>[i(ge,{many:n.many},null,8,["many"])]),_:1})):F("",!0),ds,n.many&&n.many.length>0?(l(),k(Ue,{key:1,num:n.num,totai:n.upiading?n.many.length:0,onSave:r.save},null,8,["num","totai","onSave"])):F("",!0)]))]),_:1}),i(S)],64)}}});export{bs as default};
