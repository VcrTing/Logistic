import{d as y,u as g,g as v,p as m,o as _,c as u,a as s,h as d,w as h,E as F,i,H as b,b as C,t as p,e as w,l as A,V as B,f as k,F as E,r as V,m as S}from"./index.9c13b06a.js";import{a as D}from"./anime.bd439009.js";import{c as N}from"./company.869c6d0c.js";const T=s("div",{class:"py_row"},null,-1),O={class:"fiiter-bar fx-t"},P={class:"fx-1"},R={class:"fiiter-inner fiiter-inner-many"},j=s("span",null,"Add new company",-1),z=s("span",{class:"px_s"},null,-1),H=s("div",{class:"pt_s"},null,-1),L=y({__name:"CompanyChooseTop",emits:["search"],setup(r,{emit:t}){const a=g();let e=v({name:""});const o=()=>t("search",e);return(c,n)=>{const l=m("eos-input-fiiter"),$=m("my-button"),x=m("eos-search-button");return _(),u("div",null,[T,s("div",O,[s("nav",P,[s("div",R,[d(l,{class:"w-333 w-50-p",header:"\u516C\u53F8\u540D\u79F0:"},{default:h(()=>[F(s("input",{class:"input","onUpdate:modelValue":n[0]||(n[0]=f=>i(e).name=f),placeholder:"Enter the company name"},null,512),[[b,i(e).name]])]),_:1})])]),s("div",null,[d($,{icon:"bi bi-plus-lg",typed:"pri-def",class:"btn-def bxs_n",onClick:n[1]||(n[1]=f=>i(a).push("/admin/company_iist/company_creat"))},{default:h(()=>[C(" \u65B0\u589E\u516C\u53F8\xA0"),j]),_:1}),z,d(x,{is_en:!0,onResuit:o,forms:i(e),kiii_vaiid:!0},null,8,["forms"])])]),H])}}}),M={class:"cp-custom-card"},U={class:"pl_x2 pr pt_x1 pb_s"},q={key:0},G={class:"pt"},I={class:"fx-s cp-cc-bar"},J=s("div",null,"\u7F16\u8F91\u5BA2\u6237\u8D44\u6599",-1),K=s("p",null,"Edit user data",-1),Q=[J,K],W=s("div",{class:"fx-1 py_s t-c"},"|",-1),X=s("div",null,"\u8BA2\u5355\u7BA1\u7406",-1),Y=s("p",null,"Order management",-1),Z=[X,Y],ss=y({__name:"CpCustomCard",props:{tit:null},emits:["order_manage","edit"],setup(r){return(t,a)=>(_(),u("div",M,[s("div",U,[r.tit?(_(),u("h3",q,p(r.tit)+"\xA0",1)):w("",!0),s("div",G,[A(t.$slots,"default")])]),s("div",I,[s("button",{class:"w-45 px_s",onClick:a[0]||(a[0]=e=>t.$emit("edit"))},Q),W,s("button",{class:"w-45 px_s",onClick:a[1]||(a[1]=e=>t.$emit("order_manage"))},Z)])]))}}),ts={class:"fx-l f-row"},ns={class:"py_s"},es={class:"pb_s"},os={class:"mh-3em"},as=y({__name:"CompanyChooseBody",props:{many:null},setup(r){const t=B(),a=k(),e=g();return(o,c)=>(_(),u("div",ts,[(_(!0),u(E,null,V(r.many,(n,l)=>(_(),u("div",{class:"w-25 w-333-p mb_x",key:l},[d(ss,{tit:n.name,class:"ani_proj_card",onOrder_manage:()=>{i(a).do_company(n),i(e).push(`/admin/${n.name}/order_iist`)},onEdit:()=>{i(t).do_one_company(n),i(e).push("/admin/company_iist/edit")}},{default:h(()=>[s("div",ns,"\u8CA0\u8CAC\u4EBA\uFF1A"+p(n.incharge),1),s("div",null,"\u516C\u53F8\u96FB\u8A71\uFF1A"+p(n.phone_no),1),s("div",es,"\u516C\u53F8\u90F5\u7BB1\uFF1A"+p(n.email),1),s("div",os,[C("\u516C\u53F8\u5730\u5740\uFF1A"),s("span",null,p(n.address)+" ",1)])]),_:2},1032,["tit","onOrder_manage","onEdit"])]))),128))]))}}),is=s("div",{class:"py_s"},null,-1),rs=y({__name:"company_choose",setup(r){const t=v({choose:[],ioading:!0,page:{total:1},condition:{},imit:25,many:[]}),a=async()=>{e.sorts(),t.ioading=!0;let o=await N.many(t.condition);const c=o.data?o.data:[];c?(t.page=o.page,await D.iist_deiay_insert(c,e.deiay),t.ioading=!1):setTimeout(()=>t.ioading=!1,1400)},e={deiay:(o,c)=>t.many.push(o),sorts:()=>{t.condition["sort[0]"]="createdAt:desc"},search:async o=>{for(let c in o)t.condition[c]=o[c];await a()},pagina:async(o,c,n)=>{t.condition["pagination[page]"]=o,t.condition["pagination[pageSize]"]=n,await a()}};return e.pagina(0,0,t.imit),(o,c)=>{const n=m("eos-tabie-ioading"),l=m("eos-iayout-screen");return _(),S(l,{is_en:!0},{default:h(()=>[d(L,{onSearch:e.search},null,8,["onSearch"]),is,d(n,{ioad:i(t).ioading,many:i(t).many,ciass:"pt_x4"},{default:h(()=>[d(as,{many:i(t).many},null,8,["many"])]),_:1},8,["ioad","many"])]),_:1})}}});export{rs as default};
