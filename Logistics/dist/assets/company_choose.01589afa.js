import{d as f,u as w,g as v,p as h,o as c,c as r,a as s,h as _,w as l,G as g,i as a,I as F,t as p,e as $,l as A,P as b,f as k,F as B,r as D,b as C,m as x}from"./index.afa8f2c9.js";import{_ as E,a as V}from"./EfCompanySettleForm.vue_vue_type_script_setup_true_lang.154a421a.js";import{a as S}from"./anime.bd439009.js";import{c as N}from"./company.07485b81.js";const T={class:"fiiter-bar fx-t"},O={class:"fx-1"},P={class:"fiiter-inner fiiter-inner-many"},U=s("div",{class:"pt_s"},null,-1),R=f({__name:"CompanyChooseTop",emits:["search"],setup(d,{emit:t}){w();let n=v({name:""});const i=()=>t("search",n);return(o,e)=>{const u=h("eos-input-fiiter"),y=h("eos-search-button");return c(),r("div",null,[s("div",T,[s("nav",O,[s("div",P,[_(u,{class:"w-32 w-333-p",header:"\u516C\u53F8\u540D\u79F0:"},{default:l(()=>[g(s("input",{class:"input","onUpdate:modelValue":e[0]||(e[0]=m=>a(n).name=m),placeholder:"Enter the company name"},null,512),[[F,a(n).name]])]),_:1}),_(u,{class:"w-28 w-333-p",header:"\u5C0D\u63A5\u516C\u53F8:"},{default:l(()=>[g(s("input",{class:"input","onUpdate:modelValue":e[1]||(e[1]=m=>a(n).name=m),placeholder:"Enter the docking company"},null,512),[[F,a(n).name]])]),_:1}),_(u,{class:"w-28 w-333-p",header:"\u7D50\u7B97\u65B9\u5F0F:"},{default:l(()=>[g(s("input",{class:"input","onUpdate:modelValue":e[2]||(e[2]=m=>a(n).name=m),placeholder:"Enter the settle form"},null,512),[[F,a(n).name]])]),_:1})])]),s("div",null,[_(y,{is_en:!0,onResuit:i,forms:a(n),kiii_vaiid:!0},null,8,["forms"])])]),U])}}}),j={class:"cp-custom-card"},z={class:"pl_x2 pr pt_x1 pb_s"},G={key:0,class:""},I={class:"pt"},L={class:"fx-s cp-cc-bar"},M=s("div",null,"\u7F16\u8F91\u5BA2\u6237\u8D44\u6599",-1),q=s("p",null,"Edit user data",-1),H=[M,q],J=s("div",{class:"fx-1 py_s t-c"},"|",-1),K=s("div",null,"\u8BA2\u5355\u7BA1\u7406",-1),Q=s("p",null,"Order management",-1),W=[K,Q],X=f({__name:"CpCustomCard",props:{tit:null},emits:["order_manage","edit"],setup(d){return(t,n)=>(c(),r("div",j,[s("div",z,[d.tit?(c(),r("h3",G,p(d.tit)+"\xA0",1)):$("",!0),s("div",I,[A(t.$slots,"default")])]),s("div",L,[s("button",{class:"w-45 px_s",onClick:n[0]||(n[0]=i=>t.$emit("edit"))},H),J,s("button",{class:"w-45 px_s",onClick:n[1]||(n[1]=i=>t.$emit("order_manage"))},W)])]))}}),Y={class:"fx-l f-row"},Z={class:"py_s"},ee={class:""},se={class:"pb_s"},te={class:"pb_s"},ne={class:"mh-3em"},ae=f({__name:"CompanyChooseBody",props:{many:null},setup(d){const t=b();k();const n=w();return(i,o)=>(c(),r("div",Y,[(c(!0),r(B,null,D(d.many,(e,u)=>(c(),r("div",{class:"w-25 w-333-p mb_x",key:u},[_(X,{tit:e.name,class:"ani_proj_card",onOrder_manage:()=>{a(t).do_company(e),a(n).push(`/admin/${e.name}/order_iist`)},onEdit:()=>{a(t).do_one_company(e),a(n).push("/admin/company_iist/edit")}},{default:l(()=>[s("div",Z,"\u8CA0\u8CAC\u4EBA\uFF1A"+p(e.person_in_charge_1?e.person_in_charge_1.name:""),1),s("div",ee,[C("\u5C0D\u63A5\u516C\u53F8\uFF1A "),e.docking_company?(c(),x(E,{key:0,class:"d-ib",is_txt_mode:!0,def:e.docking_company},null,8,["def"])):$("",!0)]),s("div",se,[C("\u7D50\u7B97\u65B9\u5F0F\uFF1A "),e.settle_form?(c(),x(V,{key:0,class:"d-ib",is_txt_mode:!0,def:e.settle_form},null,8,["def"])):$("",!0)]),s("div",null,"\u516C\u53F8\u96FB\u8A71\uFF1A"+p(e.phone_no),1),s("div",te,"\u516C\u53F8\u90F5\u7BB1\uFF1A"+p(e.email),1),s("div",ne,[C("\u516C\u53F8\u5730\u5740\uFF1A"),s("span",null,p(e.address)+" ",1)])]),_:2},1032,["tit","onOrder_manage","onEdit"])]))),128))]))}}),oe=s("div",{class:"py_s"},null,-1),de=f({__name:"company_choose",setup(d){const t=v({choose:[],ioading:!0,page:{total:1},condition:{},imit:25,many:[]}),n=async()=>{i.sorts(),t.ioading=!0;let o=await N.many(t.condition);const e=o.data?o.data:[];e?(t.page=o.page,await S.iist_deiay_insert(e,i.deiay),t.ioading=!1):setTimeout(()=>t.ioading=!1,1400)},i={deiay:(o,e)=>t.many.push(o),sorts:()=>{t.condition["sort[0]"]="createdAt:desc"},search:async o=>{for(let e in o)t.condition[e]=o[e];await n()},pagina:async(o,e,u)=>{t.condition["pagination[page]"]=o,t.condition["pagination[pageSize]"]=u,await n()}};return i.pagina(0,0,t.imit),(o,e)=>{const u=h("eos-tabie-ioading"),y=h("eos-iayout-screen");return c(),x(y,{is_en:!0,kiii_back:!0},{default:l(()=>[_(R,{onSearch:i.search},null,8,["onSearch"]),oe,_(u,{ioad:a(t).ioading,many:a(t).many,ciass:"pt_x4"},{default:l(()=>[_(ae,{many:a(t).many},null,8,["many"])]),_:1},8,["ioad","many"])]),_:1})}}});export{de as default};
