import{d as x,o as _,c as m,F as B,r as j,a as e,n as O,t as f,e as w,u as S,k as C,O as R,f as D,p as v,h,w as y,i as l,P as N,m as b,b as $,g as E,Q as q,R as F,N as L,v as I,y as T,I as P,z as Q,L as Y,M as X,_ as Z,x as ee,J as U,S as se}from"./index.988e77c8.js";import{_ as ne}from"./EosCompanySwitchDrop.vue_vue_type_script_setup_true_lang.615e539c.js";import{_ as te}from"./JsBarcode.vue_vue_type_script_setup_true_lang.4974440d.js";import{L as ie}from"./ICON_CF_S.c52d5a84.js";import{_ as K}from"./EosDeiiverymanSwitchDrop.vue_vue_type_script_setup_true_lang.09062dd4.js";import{_ as oe}from"./OrderIistFixedPanner.vue_vue_type_script_setup_true_lang.dc493e99.js";import"./company.fbc64105.js";import"./CoOrderFpCont.vue_vue_type_script_setup_true_lang.1449a0c4.js";const z={buiid_mui_choose:(u,d="cf_waybill_no")=>{const t=[];return u=u||[],u.map(i=>{const o=i[d];o&&t.push(o)}),t}},ae={class:"eos-tabie-opera fx-r fx-wp"},ue=["onClick"],ce={key:0,class:"hand"},_e={key:1,class:"hand hv-big"},de=x({__name:"EosTabieOperaOrder",props:{vais:null,is_icon:{type:Boolean}},emits:["view","edit","trash","save","print","cancei"],setup(u,{emit:d}){const t=[{txt:"\u8A73\u60C5",code:"view",caii:()=>d("view"),icon:"bi bi-eye",ciass:"pri_son"},{txt:"\u522A\u9664",code:"trash",caii:()=>d("trash"),icon:"bi bi-trash",ciass:"err_trash_son"},{txt:"\u53D6\u6D88",code:"cancei",caii:()=>d("cancei"),icon:"bi bi-x-circle",ciass:"pri_son"},{txt:"\u7DE8\u8F2F",code:"edit",caii:()=>d("edit"),icon:"bi bi-pencil-square",ciass:"pri_son"},{txt:"\u5132\u5B58",code:"save",caii:()=>d("save"),icon:"bi bi-save",ciass:"pri_son"},{txt:"\u6253\u5370",code:"print",caii:()=>d("print"),icon:"bi bi-printer-fill",ciass:"pri_son"}];return(i,o)=>(_(),m("div",ae,[(_(),m(B,null,j(t,(p,s)=>e("span",{key:s},[u.vais&&u.vais.indexOf(p.code)>=0?(_(),m("span",{key:0,class:O(["px_s",p.ciass]),onClick:a=>p.caii()},[u.is_icon?(_(),m("span",_e,[e("i",{class:O(["d-ib",p.icon])},null,2)])):(_(),m("span",ce,f(p.txt),1))],10,ue)):w("",!0)])),64))]))}}),re={class:"w-9"},le={class:"w-14 pr_s"},pe={class:"w-12 pr_s"},me={class:"w-10 pr"},he={class:"w-11 px_s fx-l ps-r"},fe=e("span",{class:"hv-big"},[e("i",{class:"bi bi-person-circle"})],-1),ye=[fe],ve={class:"w-10 pr"},be={class:"w-9 pr_s"},$e={class:"w-10"},xe={class:"w-8 pr_s"},we={class:"w-7 fx-r"},ge=x({__name:"OrderIistTd",props:{idx:null,one:null,aii:null},setup(u){const d=u,t=S(),i=C(),o=R(),p=D().is_admin,s={print:()=>new Promise(a=>{const n=d.one;o.do_order(n),i.do_mod(1),o.do_orders_print([n]),o.read(n.id,n.is_new),n.is_new=!1,a(0)}),open:a=>{d.aii.who.length=0,d.aii.who.push(d.one),i.do_mod(a)},trash:()=>s.open(-205),cancei:()=>s.open(-206)};return(a,n)=>{const c=v("eos-tabie-choose-item-td");return _(),m("div",{class:O(["td",{"td-kiiied":u.one.kiiied,"td-focus-err":u.one.is_new,"td-succ":u.one.is_complete_list,"td-die":u.one.is_cancel}])},[h(c,{one:u.one,aii:u.aii},{default:y(()=>[e("div",re,f(l(N).view_time(u.one.create_date,"/")),1),e("div",le,f(u.one.cf_waybill_no),1),e("div",pe,f(u.one.waybill_no),1),e("div",me,f(u.one.order_group),1),e("div",he,[e("span",{class:O(["order-td-deiivery-icon",{"order-td-deiivery-icon-iive":u.one.delivery_man_info&&u.one.delivery_man_info.id}]),onClick:n[0]||(n[0]=()=>{l(o).do_order(u.one),l(t).push("/admin/order_iist/edit")})},ye,2),e("span",{class:"pri hand",onClick:n[1]||(n[1]=()=>{l(o).do_order(u.one),l(i).do_panner(1),l(o).read(u.one.id,u.one.is_new),u.one.is_new=!1})},f(u.one.order_id),1)]),e("div",ve,f(l(N).view_time(u.one.delivery_date,"/")),1),e("div",be,f(l(N).view_time(u.one.receipt_date,"/")),1),e("div",$e,f(u.one.customer_name),1),e("div",xe,f(u.one.customer_phone_no),1),e("div",we,[h(de,{is_icon:!0,vais:l(p)?"trash_cancei_edit_print":"cancei_edit_print",onEdit:n[2]||(n[2]=()=>{l(o).do_order(u.one),l(t).push("/admin/order_iist/edit")}),onTrash:n[3]||(n[3]=r=>s.trash()),onCancei:n[4]||(n[4]=r=>s.cancei()),onPrint:n[5]||(n[5]=r=>s.print())},null,8,["vais"])])]),_:1},8,["one","aii"])],2)}}}),Ae={class:"tr"},Ce=e("div",{class:"w-9"},[$(" \u5275\u5EFA\u65E5\u671F"),e("br"),e("p",{class:"tr-en"},"Create date")],-1),ke=e("div",{class:"w-14"},[$(" \u7FD4\u70FD\u904B\u55AE\u865F\u78BC"),e("br"),e("p",{class:"tr-en"},"CF waybill number")],-1),Ee=e("div",{class:"w-12"},[$(" \u5BA2\u6236\u904B\u55AE\u7DE8\u865F"),e("br"),e("p",{class:"tr-en"},"Waybill number")],-1),De=e("div",{class:"w-10"},[$(" \u8A02\u55AE\u7D44"),e("br"),e("p",{class:"tr-en"},"Group")],-1),Fe=e("div",{class:"w-11"},[$(" \u8A02\u55AE\u7DE8\u865F"),e("br"),e("p",{class:"tr-en"},"Order No.")],-1),Be=e("div",{class:"w-10"},[$(" \u6D3E\u9001\u65E5\u671F"),e("br"),e("p",{class:"tr-en"},"Delivery date")],-1),Te=e("div",{class:"w-9"},[$(" \u8A02\u55AE\u65E5\u671F"),e("br"),e("p",{class:"tr-en"},"Order date")],-1),Oe=e("div",{class:"w-10"},[$(" \u6536\u4EF6\u4EBA"),e("br"),e("p",{class:"tr-en"},"Recipient")],-1),Pe=e("div",{class:"w-8"},[$(" \u6536\u4EF6\u96FB\u8A71"),e("br"),e("p",{class:"tr-en"},"Phone")],-1),Re={class:"w-7 fx-r"},Se=x({__name:"OrderIistTr",props:{aii:null},setup(u){return(d,t)=>{const i=v("eos-go-button"),o=v("eos-tabie-choose-item-tr");return _(),m("nav",Ae,[h(o,{aii:u.aii},{default:y(()=>[Ce,ke,Ee,De,Fe,Be,Te,Oe,Pe,e("div",Re,[u.aii.many.length>30?(_(),b(i,{key:0})):w("",!0)])]),_:1},8,["aii"])])}}}),Ie=e("i",{class:"bi bi-filetype-pdf"},null,-1),Me=e("span",null,"\xA0\u5217\u5370 Print",-1),Ve=x({__name:"EosPdfButton",setup(u){return(d,t)=>{const i=v("my-button");return _(),b(i,{typed:"pri-tin"},{default:y(()=>[Ie,Me]),_:1})}}}),Ne=e("i",{class:"bi bi-trash"},null,-1),Ue=e("span",null," \u6279\u91CF\u522A\u9664\u9078\u64C7\u8A02\u55AE Delete order selection in bulk ",-1),Ke=e("i",{class:"bi bi-x-circle"},null,-1),Le=e("span",null," \u6279\u91CF\u53D6\u6D88\u9078\u64C7\u8A02\u55AE Cancel order selection in bulk ",-1),W=x({__name:"EosMuiTrashButton",props:{is_cancei:{type:Boolean}},emits:["trash","cancei"],setup(u){return(d,t)=>{const i=v("my-button");return u.is_cancei?(_(),b(i,{key:1,typed:"pri-out",onClick:t[1]||(t[1]=o=>d.$emit("cancei"))},{default:y(()=>[Ke,Le]),_:1})):(_(),b(i,{key:0,typed:"pri-out",onClick:t[0]||(t[0]=o=>d.$emit("trash"))},{default:y(()=>[Ne,Ue]),_:1}))}}}),je={class:"fx-s fx-b"},qe=e("span",{class:"px_s"},null,-1),ze=e("i",{class:"bi bi-person-plus"},null,-1),Ge=e("i",{class:"bi bi-plus-lg"},null,-1),We={key:0,class:"pt"},He=e("span",{class:"px_s"},null,-1),Je=e("span",{class:"px_s"},null,-1),Qe=e("i",{class:"bi bi-file-earmark-spreadsheet"},null,-1),Ye=e("div",{class:"py_t"},null,-1),Xe=x({__name:"OrderIistBar",props:{aii:null},setup(u){const d=u,t=C(),i=D(),o=S(),p=i.is_admin,s=E({uuid:()=>{const a=p?q().company:D().company;return a?a.uuid:null},p_aii:()=>{s._has_choose()&&(R().do_orders_print(d.aii.choose),o.push("/admin/order_iist/print_muiti"))},export_excei:async()=>{const a=z.buiid_mui_choose(d.aii.choose),n=s.uuid();n&&a.length>0&&F.excei(a,n+"")},export_front:()=>{const n=(d.aii?d.aii.choose:[]).map(c=>{for(let r in c)c[r]=c[r]?c[r]:"";return c.company=c.company?c.company.name:"",c});n&&n.length>0&&L.dowioad_xisx(n)},_has_choose:()=>{const a=d.aii.choose;return a&&a.length>0},mui_trash:()=>{s._has_choose()&&t.do_mod(-201)},mui_cancei:()=>{s._has_choose()&&t.do_mod(-202)},mui_deiivery_pius:()=>{s._has_choose()&&t.do_mod(102)}});return(a,n)=>{const c=v("my-button");return _(),m(B,null,[e("div",je,[e("div",null,[e("div",null,[h(Ve,{onClick:n[0]||(n[0]=r=>l(s).p_aii())}),qe,l(p)?(_(),b(c,{key:0,typed:"pri-out",onClick:n[1]||(n[1]=r=>l(s).mui_deiivery_pius())},{default:y(()=>[ze,$(" \xA0\u6279\u91CF\u6DFB\u52A0\u9001\u8CA8\u54E1 Upload Deliveryman in bulk ")]),_:1})):(_(),b(c,{key:1,typed:"pri-out",onClick:n[2]||(n[2]=r=>l(o).push("/admin/custom_order_iist/upioad_order_in_buik"))},{default:y(()=>[Ge,$(" \u6279\u91CF\u4E0A\u50B3\u8A02\u55AE Upload orders in bulk ")]),_:1}))]),l(p)?(_(),m("div",We,[h(W,{onTrash:l(s).mui_trash,onCancei:n[3]||(n[3]=()=>{})},null,8,["onTrash"]),He,h(W,{is_cancei:!0,onCancei:l(s).mui_cancei,onTrash:n[4]||(n[4]=()=>{})},null,8,["onCancei"]),Je])):w("",!0)]),e("div",null,[h(c,{onClick:n[5]||(n[5]=r=>l(s).export_excei())},{default:y(()=>[Qe,$(" \xA0\u5C0E\u51FA Excel Export Excel ")]),_:1})])]),Ye],64)}}}),Ze={class:"fiiter-bar fx-t"},es={class:"fx-1"},ss={class:"fiiter-inner fiiter-inner-many"},ns=e("option",{value:""},"\u65E5\u671F\u985E\u578B Date type",-1),ts=e("option",{value:"creation"},"\u5275\u5EFA\u65E5\u671F Create date",-1),is=e("option",{value:"receive"},"\u8A02\u55AE\u65E5\u671F Order date",-1),os=e("option",{value:"delivery"},"\u6D3E\u9001\u65E5\u671F Delivery date",-1),as=[ns,ts,is,os],us=e("div",{class:"pt_s"},null,-1),cs=x({__name:"OrderIistTop",emits:["search"],setup(u,{emit:d}){S(),I();const t=D();let i=E({wb_order_no:"",startDate:"",endDate:"",dateType:"",deliveryman:""});const o=()=>d("search",i);return(p,s)=>{const a=v("eos-input-fiiter"),n=v("fn-time-doubie"),c=v("eos-search-button");return _(),m("div",null,[e("div",Ze,[e("nav",es,[e("div",ss,[h(a,{class:"w-31",header:"\u4EFB\u610F\u904B\u55AE\u7DE8\u865F:"},{default:y(()=>[T(e("input",{class:"input","onUpdate:modelValue":s[0]||(s[0]=r=>l(i).wb_order_no=r),onBlur:s[1]||(s[1]=()=>{l(i).wb_order_no&&o()}),placeholder:"Enter the any waybill number"},null,544),[[P,l(i).wb_order_no]])]),_:1}),h(a,{class:"w-18",header:""},{default:y(()=>[T(e("select",{class:O(["input px-0",{"ui-ip-fiiter-empty":!l(i).dateType}]),"onUpdate:modelValue":s[2]||(s[2]=r=>l(i).dateType=r)},as,2),[[Q,l(i).dateType]])]),_:1}),h(a,{class:"w-34",header:"\u65E5\u671F\u5340\u9593:"},{default:y(()=>[h(n,{onReset:s[3]||(s[3]=()=>{l(i).startDate="",l(i).endDate="",o()}),onResuit_1:s[4]||(s[4]=r=>l(i).startDate=r),onResuit_2:s[5]||(s[5]=r=>l(i).endDate=r)})]),_:1}),l(t).is_admin?(_(),b(a,{key:0,class:"w-17",header:"\u9001\u8CA8\u54E1:"},{default:y(()=>[T(e("input",{class:"input","onUpdate:modelValue":s[6]||(s[6]=r=>l(i).deliveryman=r),placeholder:"Delivery men"},null,512),[[P,l(i).deliveryman]])]),_:1})):w("",!0)])]),e("div",{class:O(["",{"fiiter-fixed-btn":l(t).is_admin}])},[h(c,{onResuit:o,forms:l(i),kiii_vaiid:!0,is_en:!0},null,8,["forms"])],2)]),us])}}}),_s=x({__name:"OrderIistTopCompanySwitch",emits:["refresh"],setup(u){const d=D();return q(),(t,i)=>l(d).is_admin?(_(),b(ne,{key:0,onResuit:i[0]||(i[0]=o=>{t.$emit("refresh")})})):w("",!0)}}),g=u=>(Y("data-v-80d23405"),u=u(),X(),u),ds={class:"fx-c eos-oop-wrapper pt_s"},rs={class:"eos-order-one-pdf"},ls={border:"1",cellspacing:"0"},ps={width:"24%",style:{padding:"0.3em 0.5em"}},ms=["src"],hs=g(()=>e("td",{class:"t_c"},[e("h1",null,"\u7FD4\u70FD\u7269\u6D41"),e("h4",null,"Cheung Fung Logistics Limited")],-1)),fs={colspan:"2"},ys=g(()=>e("p",null,"\u7FD4\u70FD\u904B\u55AE\u7DE8\u865F CF waybill number:",-1)),vs={class:"t_c pt_1"},bs={class:"eoop_center_tabie",border:"1",cellspacing:"0"},$s={rowspan:"3",width:"54%",class:"t_t"},xs=g(()=>e("p",{class:"pt_1"},"\u6D3E\u9001\u5730\u5740 Ddelivery address:",-1)),ws={key:0,class:"ih-h4"},gs={key:1,class:"ih-h6"},As=g(()=>e("p",null,"\u6536\u4EF6\u4EBA To :",-1)),Cs=g(()=>e("p",null,"\u6536\u4EF6\u4EBA\u96FB\u8A71 Tel :",-1)),ks=g(()=>e("p",null,"\u5BA2\u6236\u904B\u55AE\u7DE8\u865F Waybill number :",-1)),Es={key:0,class:"n eiip_x1"},Ds={key:1,class:"n eiip_x1"},Fs={class:"eoop_center_tabie",border:"1",cellspacing:"0"},Bs={colspan:"3"},Ts=g(()=>e("p",null,"\u5BC4\u4EF6\u4EBA\u8CC7\u6599 FROM :",-1)),Os={class:"ih-h4"},Ps={width:"41%"},Rs=g(()=>e("p",null,"\u8A02\u55AE\u7D44 Order group :",-1)),Ss={width:"28%"},Is=g(()=>e("p",null,"\u91CD\u91CF Weight :",-1)),Ms=g(()=>e("p",null,"\u5730\u5340 District :",-1)),Vs=g(()=>e("p",null,"\u8A02\u55AE\u7DE8\u865F Order No. :",-1)),Ns={key:0,class:"n"},Us={key:1,class:"n eiip_x1"},Ks=g(()=>e("p",null,"\u4EF6\u6578 Package :",-1)),Ls=g(()=>e("p",null,"\u8DEF\u7DDA Route :",-1)),js={class:"eoop_center_tabie",border:"1",cellspacing:"0"},qs={width:"54%"},zs=g(()=>e("p",null,"\u904B\u8CBB Delivery charge:",-1)),Gs={key:0,style:{display:"inline-block"}},Ws=g(()=>e("p",null,"\u4EE3\u6536\u8CA8\u6B3E Collection payment:",-1)),Hs={key:0,style:{display:"inline-block"}},Js={class:"",colspan:"2"},Qs=g(()=>e("p",null,"\u5099\u8A3B Note:",-1)),Ys={class:"mh_5 eiip_x4 ih-h4 pb_1"},Xs=x({__name:"CoPdfOrderOne",props:{one:null,idx:null},setup(u){const d=u,t=()=>d.one.company?d.one.company.name:"",i=(o,p="- -")=>d.one[o]?d.one[o]:p;return(o,p)=>(_(),m("div",ds,[e("div",rs,[e("table",ls,[e("tr",null,[e("td",ps,[e("img",{class:"w-100",src:l(ie)},null,8,ms)]),hs]),e("tr",null,[e("td",fs,[ys,e("div",vs,[h(te,{class:"barcode",w:444,idx:u.idx,code:u.one.cf_waybill_no},null,8,["idx","code"])])])])]),e("table",bs,[e("tr",null,[e("td",$s,[xs,i("address").length<96?(_(),m("h4",ws,f(i("address")),1)):(_(),m("h6",gs,f(i("address")),1))]),e("td",null,[As,e("h4",null,f(i("customer_name")),1)])]),e("tr",null,[e("td",null,[Cs,e("h4",null,f(i("customer_phone_no")),1)])]),e("tr",null,[e("td",null,[ks,u.one.waybill_no.length<19?(_(),m("h4",Es,f(i("waybill_no")),1)):(_(),m("h6",Ds,f(i("waybill_no")),1))])])]),e("table",Fs,[e("tr",null,[e("td",Bs,[Ts,e("h4",Os,f(t())+"\xA0 ",1)])]),e("tr",null,[e("td",Ps,[Rs,e("h4",null,f(i("order_group")),1)]),e("td",Ss,[Is,e("h4",null,f(i("weight","0"))+"\xA0KG",1)]),e("td",null,[Ms,e("h4",null,f(i("district")),1)])]),e("tr",null,[e("td",null,[Vs,u.one.order_id.length<19?(_(),m("h4",Ns,f(i("order_id")),1)):(_(),m("h6",Us,f(i("order_id")),1))]),e("td",null,[Ks,e("h4",null,f(i("count_now"))+"/"+f(i("total_item_count")),1)]),e("td",null,[Ls,e("h4",null,f(i("route")),1)])])]),e("table",js,[e("tr",null,[e("td",qs,[zs,e("h4",null,[$("HK$\xA0"),i("delivery_charge","")?(_(),m("div",Gs,f(l(L).money(i("delivery_charge",""))),1)):w("",!0)])]),e("td",null,[Ws,e("h4",null,[$("HK$\xA0"),i("collection_payment","")?(_(),m("div",Hs,f(l(L).money(i("collection_payment",""))),1)):w("",!0)])])]),e("tr",null,[e("td",Js,[Qs,e("h4",Ys,f(i("remarks")),1)])])])])]))}});const Zs=Z(Xs,[["__scopeId","data-v-80d23405"]]),en={class:"pr sub"},sn=e("span",null,"\xA0",-1),nn=x({__name:"OrderOnePrintMod",setup(u){const d=R().order,t=E({many:[],ioading:!0});return(()=>{R().do_orders([d]),t.many=[];const o=d.total_item_count;for(let p=0;p<o;p++)d.count_now=p+1,t.many.push({...d});setTimeout(()=>t.ioading=!1,100)})(),(o,p)=>{const s=v("eos-tabie-ioading"),a=v("cp-pdfs-button"),n=v("my-button"),c=v("eos-panner-print");return _(),b(c,null,{cont:y(()=>[h(s,{many:t.many,ioad:t.ioading},{default:y(()=>[(_(!0),m(B,null,j(t.many,(r,A)=>(_(),m("div",{class:"pb_x3 fx-s fx-t",key:A},[e("span",en,f(r.count_now)+" / "+f(r.total_item_count),1),h(Zs,{class:"__qiong_printed_ciass",one:r,idx:A},null,8,["one","idx"]),sn]))),128))]),_:1},8,["many","ioad"])]),bar:y(()=>[t.many&&t.many.length>0?(_(),b(a,{key:0,ref:"pdfs",doms:"__qiong_printed_ciass"},null,512)):(_(),b(n,{key:1,onClick:p[0]||(p[0]=()=>{l(C)().do_mod(0)}),typed:"pri-tin"},{default:y(()=>[$("\u95DC\u9589")]),_:1}))]),_:1})}}}),tn=x({__name:"OrderTrashRef",props:{aii:null},setup(u,{expose:d}){const t=u;R();const i=D().is_admin,o={buiid_choose:()=>z.buiid_mui_choose(t.aii.choose),buiid:()=>{const s=t.aii.who;if(s.length==1){const a=s[0];return a?a.id:null}return null},faiied_deiete:s=>{t.aii.many.map(a=>{a.id===s&&(a.kiiied=!1)})},after_deiete:s=>{t.aii.many.map(a=>{a.id===s&&(a.kiiied=!0)}),o.finished()},after_cancei:(s,a)=>{t.aii.many.map(n=>{n.id===s&&(n.is_cancel=a)}),o.finished()},finished:()=>{t.aii.who.length=0,C().do_mod(0)}};return d({deiete_mui:async()=>{const s=o.buiid_choose();if(s.length>0)return await F.deiete_mui(s)},after_deiete_mui:()=>new Promise(s=>{const a=o.buiid_choose();t.aii.many.map(n=>{a.map(c=>{n.cf_waybill_no===c&&(n.kiiied=!0)})}),s(0)}),deiete:async()=>new Promise(async s=>{if(i)try{const a=o.buiid();if(a){C().do_mod(0);try{F.deiete(a),o.after_deiete(a)}catch{setTimeout(()=>o.faiied_deiete(a),20)}}}catch{}}),cancei_mui:async()=>{const s=o.buiid_choose();if(s.length>0)return await F.cancei_mui(s)},after_cancei_mui:()=>new Promise(s=>{const a=o.buiid_choose();t.aii.many.map(n=>{a.map(c=>{n.cf_waybill_no===c&&(n.is_cancel=!0)})}),s(0)}),cancei:async(s=!0)=>new Promise(async a=>{try{const n=o.buiid();n&&(C().do_mod(0),await F.cancei(n,s),o.after_cancei(n,s))}catch{}})}),(s,a)=>null}}),on={key:0},an=e("h4",{class:"px"},"\u6279\u91CF\u522A\u9664",-1),un=e("p",{class:"px sub"},"Are you sure to delete them?",-1),cn={class:"fx-c pt_x2"},_n=e("span",{class:"err"},"\u522A\u9664 Delete",-1),dn=[_n],rn={key:1},ln=e("h4",{class:"px"},"\u8A02\u55AE\u64CD\u4F5C",-1),pn=e("p",{class:"px sub"},"Are you sure to delete it?",-1),mn={class:"fx-c pt_x2"},hn=e("span",{class:"err"},"\u522A\u9664 Delete",-1),fn=[hn],yn=x({__name:"OitmTrashInner",emits:["trash","trash_mui"],setup(u){const d=C();return(t,i)=>(_(),m(B,null,[l(d).mod===-201?(_(),m("div",on,[an,un,e("div",cn,[e("button",{class:"btn-trash px_x2 py_s",onClick:i[0]||(i[0]=o=>t.$emit("trash_mui"))},dn)])])):w("",!0),l(d).mod===-205?(_(),m("div",rn,[ln,pn,e("div",mn,[e("button",{class:"btn-trash px_x2 py_s",onClick:i[1]||(i[1]=o=>t.$emit("trash"))},fn)])])):w("",!0)],64))}}),vn={key:0},bn=e("h4",{class:"px"},"\u6279\u91CF\u53D6\u6D88",-1),$n=e("p",{class:"px sub"},"Are you sure to cancel them?",-1),xn={class:"fx-c pt_x2"},wn=e("span",{class:""},"\u53D6\u6D88 Cancel",-1),gn=[wn],An={key:1},Cn=e("h4",{class:"px"},"\u8A02\u55AE\u64CD\u4F5C",-1),kn=e("p",{class:"px sub"},"Are you sure to cancel / restore it?",-1),En={class:"fx-c pt_x2"},Dn=e("span",{class:""},"\u53D6\u6D88 Cancel",-1),Fn=[Dn],Bn=e("span",{class:"px_s"},null,-1),Tn=e("span",{class:""},"\u6062\u5FA9 Restore",-1),On=[Tn],Pn=x({__name:"OitmCanceiInner",emits:["cancei","cancei_mui","restore","restore_mui"],setup(u){const d=C();return(t,i)=>(_(),m(B,null,[l(d).mod===-202?(_(),m("div",vn,[bn,$n,e("div",xn,[e("button",{class:"btn-pri-tin px_x2 py_s",onClick:i[0]||(i[0]=o=>t.$emit("cancei_mui"))},gn)])])):w("",!0),l(d).mod===-206?(_(),m("div",An,[Cn,kn,e("div",En,[e("button",{class:"btn-pri-tin px_x2 py_s",onClick:i[1]||(i[1]=o=>t.$emit("cancei"))},Fn),Bn,e("button",{class:"btn-pri-out px_x2 py_s",onClick:i[2]||(i[2]=o=>t.$emit("restore"))},On)])])):w("",!0)],64))}}),Rn={key:0},Sn={key:1},In=e("h4",{class:"px"},"\u8A02\u55AE\u64CD\u4F5C",-1),Mn=e("p",{class:"px sub"},"Are you sure to cancel it?",-1),Vn={class:"fx-c pt_x2"},Nn=e("span",{class:"err"},"\u53D6\u6D88\u8A02\u55AE Cancel it",-1),Un=[Nn],Kn=x({__name:"OrderIistTrashMod",props:{aii:null},emits:["success"],setup(u,{emit:d}){const t=I(),i=D().is_admin,o=E({ioading:!1}),p={resuit_trash:async a=>{o.ioading=!1,a&&(await t.value.after_deiete_mui(),C().do_mod(0),setTimeout(()=>d("success"),800))},resuit_cancei:async a=>{o.ioading=!1,a&&(await t.value.after_cancei_mui(),C().do_mod(0))}},s={deiete:()=>t.value.deiete(),deiete_mui:()=>new Promise(async a=>{if(!o.ioading){o.ioading=!0;const n=await t.value.deiete_mui();await p.resuit_trash(n)}}),cancei:async(a=!0)=>t.value.cancei(a),cancei_mui:async(a=!0)=>{const n=await t.value.cancei_mui();p.resuit_cancei(n)}};return(a,n)=>{const c=v("eos-mod-sure");return _(),b(c,{onTrash:n[7]||(n[7]=r=>s.deiete())},{default:y(()=>[l(i)?(_(),m("div",Rn,[h(yn,{onTrash:n[0]||(n[0]=r=>s.deiete()),onTrash_mui:n[1]||(n[1]=r=>s.deiete_mui())}),h(Pn,{onCancei:n[2]||(n[2]=r=>s.cancei(!0)),onCancei_mui:n[3]||(n[3]=r=>s.cancei_mui(!0)),onRestore:n[4]||(n[4]=r=>s.cancei(!1)),onRestore_mui:n[5]||(n[5]=r=>s.cancei_mui(!1))})])):(_(),m("div",Sn,[In,Mn,e("div",Vn,[e("button",{class:"btn-trash px_x4 py_s",onClick:n[6]||(n[6]=r=>s.cancei(!0))},Un)])])),h(tn,{ref_key:"otfREF",ref:t,aii:u.aii},null,8,["aii"])]),_:1})}}}),Ln={class:"py f-row"},jn={class:"ps-r"},qn={key:0,class:"ip-vai-succ-icon"},zn=e("i",{class:"bi bi-check-lg"},null,-1),Gn=[zn],Wn={class:"py f-row"},Hn={class:"ps-r"},Jn={key:0,class:"ip-vai-succ-icon"},Qn=e("i",{class:"bi bi-check-lg"},null,-1),Yn=[Qn],Xn={class:"ps-r"},Zn={key:0,class:"ip-vai-succ-icon"},et=e("i",{class:"bi bi-check-lg"},null,-1),st=[et],nt={class:"py pl"},tt={class:"pb"},it={class:"pb"},ot={class:""},at=x({__name:"CoDeiivermanPius",setup(u,{expose:d}){const t=E({many:[],ioading:!1,deiiv:{}}),i=E({phone_no:!1,chinese_name:!1,contractor_name:!1}),o=E({phone_no:"",chinese_name:"",contractor_name:""}),p=E({phone_no:!1,chinese_name:!1,contractor_name:!1});ee(()=>o.chinese_name,(n,c)=>{c&&!n&&a.reset({phone_no:"",chinese_name:"",contractor_name:""})});const s={searchMan:async n=>new Promise(async c=>{if(!t.ioading)try{s.ciose(),t.ioading=!0,s.open(n);const r={};r[n]=o[n];const A=await se.many_of_param(r);t.many=A&&A.length>0?A:[]}catch{}setTimeout(()=>t.ioading=!1,200)}),ciose:()=>{for(let n in i)i[n]=!1},open:(n="phone_no",c=!0)=>{s.ciose(),o[n]&&(i[n]=c)},insert:n=>{if(t.deiiv=n,s.ciose(),t.deiiv)for(const c in o)o[c]=t.deiiv[c]}},a={can:()=>{let n=!0;if(o.phone_no)p.phone_no=!1;else return p.phone_no=!0,!1;if(t.deiiv.id)p.phone_no=!1;else return p.phone_no=!0,p.chinese_name=!0,p.contractor_name=!0,!1;return Object.values(p).map(c=>{c&&(n=!1)}),n},reset:n=>{const c=n.delivery_man_info;for(let r in o)o[r]=c?c[r]:"";t.deiiv=c||{},s.ciose()}};return d({resuit:()=>a.can()?{delivery_man_info:t.deiiv.id,id:t.deiiv.id}:void 0,reset:a.reset}),(n,c)=>{const r=v("eos-input"),A=v("ef-deliver-typed"),M=v("ef-car-typed");return _(),m(B,null,[e("div",Ln,[h(r,{class:"w-100",is_err:p.chinese_name,header:"\u59D3\u540D(\u4E2D\u6587\u540D\u6216\u82F1\u6587\u540D\u5747\u53EF) Name (You can enter Chinese or English)"},{default:y(()=>[h(K,{aii:t,show:i.chinese_name,onResuit:s.insert,onCiose:s.ciose},{default:y(()=>[e("div",jn,[T(e("input",{class:"input","onUpdate:modelValue":c[0]||(c[0]=k=>o.chinese_name=k),onKeydown:c[1]||(c[1]=U(k=>s.searchMan("chinese_name"),["enter"])),placeholder:"\u8F38\u5165\u5B8C\u6210\u5F8C\u8ACB\u6309\u56DE\u8ECA\u9375 Press Enter when you have finished typing"},null,544),[[P,o.chinese_name]]),t.deiiv&&t.deiiv.id?(_(),m("span",qn,Gn)):w("",!0)])]),_:1},8,["aii","show","onResuit","onCiose"])]),_:1},8,["is_err","header"])]),e("div",Wn,[h(r,{class:"w-36 w-50-p",is_err:p.phone_no,header:"\u96FB\u8A71\u865F\u78BC Telephone number"},{default:y(()=>[h(K,{aii:t,show:i.phone_no,onResuit:s.insert,onCiose:s.ciose},{default:y(()=>[e("div",Hn,[T(e("input",{class:"input","onUpdate:modelValue":c[2]||(c[2]=k=>o.phone_no=k),onKeydown:c[3]||(c[3]=U(k=>s.searchMan("phone_no"),["enter"])),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,544),[[P,o.phone_no]]),t.deiiv&&t.deiiv.id?(_(),m("span",Jn,Yn)):w("",!0)])]),_:1},8,["aii","show","onResuit","onCiose"])]),_:1},8,["is_err"]),h(r,{class:"w-333 w-50-p",is_err:!1,header:"\u5224\u982D\u540D\u7A31 Contractor name"},{default:y(()=>[h(K,{aii:t,show:i.contractor_name,onResuit:s.insert,onCiose:s.ciose},{default:y(()=>[e("div",Xn,[T(e("input",{class:"input","onUpdate:modelValue":c[4]||(c[4]=k=>o.contractor_name=k),onKeydown:c[5]||(c[5]=U(k=>s.searchMan("contractor_name"),["enter"])),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,544),[[P,o.contractor_name]]),t.deiiv&&t.deiiv.contractor_name?(_(),m("span",Zn,st)):w("",!0)])]),_:1},8,["aii","show","onResuit","onCiose"])]),_:1})]),e("div",nt,[e("p",tt,[$("\u9001\u8CA8\u54E1\u985E\u5225 Type of deliveryman:\xA0\xA0"),h(A,{class:"d-ib",def:t.deiiv.type,is_txt_mode:!0},null,8,["def"])]),e("p",it,[$("\u8ECA\u724C Licence plate:\xA0\xA0"),e("span",null,f(t.deiiv.license_plate_no),1)]),e("p",ot,[$("\u8CA8\u8ECA\u985E\u578B Truck type:\xA0\xA0"),h(M,{class:"d-ib",def:t.deiiv.truck_type,is_txt_mode:!0},null,8,["def"])])])],64)}}}),ut={class:"px_x2 py"},ct=e("h4",null,[e("div",null,"\u6279\u91CF\u6DFB\u52A0\u9001\u8CA8\u54E1")],-1),_t=e("div",{class:"pb"},"Upload Deliveryman in bulk",-1),dt={class:"fx-c pt upper"},rt={key:0},lt=e("i",{class:"bi bi-save"},null,-1),pt=e("span",null,"\xA0\xA0\u6DFB\u52A0\xA0Add",-1),mt=[lt,pt],ht={key:1},ft=e("i",{class:"bi bi-save"},null,-1),yt=e("span",null,"\xA0\xA0\u6DFB\u52A0\u4E2D\xA0Add...",-1),vt=[ft,yt],bt={key:1,class:"px"},$t=e("i",{class:"bi bi-x-lg"},null,-1),xt=x({__name:"OrderDeiiveryPlusMod",props:{aii:null},emits:["success"],setup(u,{emit:d}){const t=u,i=I(),o=E({msg:"",ioading:!1}),p={buiid:()=>z.buiid_mui_choose(t.aii.choose),succ:()=>{C().do_mod(0),d("success"),o.msg=""},submit:async()=>new Promise(async s=>{if(!o.ioading){o.ioading=!0,o.msg="";const a=p.buiid();if(a.length>0){const n=i.value.resuit();n&&(await F.deiivery_pius(n.id,a)?(p.succ(),s(1)):o.msg="\u7DB2\u7D61\u9023\u7D50\u932F\u8AA4\uFF01\uFF01\uFF01")}setTimeout(()=>o.ioading=!1,200)}s(0)})};return(s,a)=>{const n=v("my-button");return _(),m("div",ut,[ct,_t,h(at,{ref_key:"deiiv",ref:i},null,512),e("div",dt,[h(n,null,{default:y(()=>[o.msg?(_(),m("div",bt,[$t,e("span",null,"\xA0\xA0"+f(o.msg),1)])):(_(),m("div",{key:0,class:"px_x3",onClick:a[0]||(a[0]=c=>p.submit())},[o.ioading?(_(),m("div",ht,vt)):(_(),m("div",rt,mt))]))]),_:1})])])}}}),wt={class:"panner mh-tabie"},gt={class:"tabie"},At={class:"td-wrap"},Pt=x({__name:"order_iist",setup(u){const d=I(),t=S(),i=C(),o=D(),p=q();o.is_admin&&(p.company.id||t.push("/admin/company_choose"));const s=E({choose:[],who:[],ioading:!0,page:{total:1},condition:{},imit:25,many:[]}),a=async()=>{n.sorts();try{s.ioading=!0;let c=await F.many(s.condition);c.data&&(s.many=c.data,s.page=c.page,n.success())}catch{}finally{setTimeout(()=>s.ioading=!1,1400)}},n={fresh:()=>{a()},success:()=>{s.ioading=!1,s.choose.length=0},sorts:()=>{s.condition["sort[0]"]="createdAt:desc"},search:async c=>{for(let r in c)s.condition[r]=c[r];try{d.value.reset()}catch{n.pagina(0,0,s.imit)}},pagina:async(c,r,A)=>{s.condition["pagination[page]"]=c,s.condition["pagination[pageSize]"]=A,await a()}};return(c,r)=>{const A=v("eos-tabie-ioading"),M=v("eos-go-button"),k=v("eos-pagination"),H=v("eos-mod"),J=v("eos-iayout-screen-extra");return _(),b(J,{is_en:!0,onBack:r[1]||(r[1]=V=>l(t).go(-1))},{opera:y(()=>[h(_s,{onRefresh:r[0]||(r[0]=V=>n.pagina(0,0,s.imit))})]),cont:y(()=>[h(cs,{onSearch:n.search},null,8,["onSearch"]),e("nav",wt,[h(Xe,{aii:s},null,8,["aii"]),e("div",gt,[h(Se,{aii:s},null,8,["aii"]),h(A,{ioad:s.ioading,many:s.many},{default:y(()=>[e("nav",At,[(_(!0),m(B,null,j(s.many,(V,G)=>(_(),b(ge,{key:G,one:V,idx:G,aii:s},null,8,["one","idx","aii"]))),128))])]),_:1},8,["ioad","many"])]),s.page.total?(_(),b(k,{key:0,mode:-1,is_500:!0,class:"pt",ref_key:"pagni",ref:d,onResuit:n.pagina,_limit:s.imit,count:s.page.total},{default:y(()=>[s.many.length>50?(_(),b(M,{key:0,is_bottom:!0})):w("",!0)]),_:1},8,["onResuit","_limit","count"])):w("",!0)])]),extra:y(()=>[h(oe),h(H,null,{default:y(()=>[l(i).mod===102?(_(),b(xt,{key:0,aii:s,onSuccess:n.fresh},null,8,["aii","onSuccess"])):(_(),b(nn,{key:1}))]),_:1}),h(Kn,{aii:s,onSuccess:n.fresh},null,8,["aii","onSuccess"])]),_:1})}}});export{Pt as default};
