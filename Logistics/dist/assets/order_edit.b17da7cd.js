import{o as P}from"./order.44114844.js";import{d as h,A as y,v as w,k as f,o as v,c as B,a as s,g as a,w as o,b,t as g,y as _,B as p,F as A,h as V,f as D,l as E,e as U,u as $,H as x,D as R,I as O}from"./index.6d8351f4.js";const N={class:"py f-row"},T={class:"py f-row"},j={class:"py f-row"},S={class:"py f-row"},W=s("span",{class:"ip-unit"},"kg",-1),G={class:"py f-row"},H={class:"py f-row"},I=h({__name:"OrderEditBase",setup(F,{expose:m}){const r=y(),e=w({create_date:"",cf_waybill_no:"",waybill_no:"",order_id:"",order_group:"",receipt_date:"",product_content:"",remark:"",weight:"",total_item_count:""}),c=w({create_date:!1,waybill_no:!1,order_id:!1,order_group:!1,product_content:!1}),i=function(){let t=!0;if(e.waybill_no)c.waybill_no=!1;else return c.waybill_no=!0,!1;if(e.order_id)c.order_id=!1;else return c.order_id=!0,!1;if(e.order_group)c.order_group=!1;else return c.order_group=!0,!1;return Object.values(c).map(l=>{l&&(t=!1)}),t};return m({resuit:()=>i()?e:void 0,reset:t=>{for(let l in e)e[l]=t[l];r.value.ioc(t.receipt_date)}}),(t,l)=>{const u=f("eos-input"),d=f("fn-time");return v(),B(A,null,[s("div",N,[a(u,{class:"w-50 w-50-p",is_err:!1,header:"\u5275\u5EFA\u65E5\u671F Order date",is_txt_mode:!0},{default:o(()=>[b(g(e.create_date),1)]),_:1}),a(u,{class:"w-50 w-50-p",is_err:!1,header:"\u7FD4\u70FD\u904B\u55AE\u7DE8\u865F CF waybill number",is_txt_mode:!0},{default:o(()=>[b(g(e.cf_waybill_no),1)]),_:1})]),s("div",T,[a(u,{class:"w-50 w-50-p",is_err:c.waybill_no,header:"\u5BA2\u6236\u904B\u55AE\u7DE8\u865F Waybill number"},{default:o(()=>[_(s("input",{class:"input","onUpdate:modelValue":l[0]||(l[0]=n=>e.waybill_no=n),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[p,e.waybill_no]])]),_:1},8,["is_err"]),a(u,{class:"w-50 w-50-p",is_err:c.order_id,header:"\u8A02\u55AE\u7DE8\u865F Order No."},{default:o(()=>[_(s("input",{class:"input","onUpdate:modelValue":l[1]||(l[1]=n=>e.order_id=n),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[p,e.order_id]])]),_:1},8,["is_err","header"])]),s("div",j,[a(u,{class:"w-50 w-50-p",is_err:c.order_group,header:"\u8A02\u55AE\u7D44 Group"},{default:o(()=>[_(s("input",{class:"input","onUpdate:modelValue":l[2]||(l[2]=n=>e.order_group=n),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[p,e.order_group]])]),_:1},8,["is_err"]),a(u,{class:"w-50 w-50-p",is_err:!1,header:"\u6536\u4EF6\u65E5\u671F Receipt date"},{default:o(()=>[a(d,{timed:e.receipt_date,ref_key:"dateRef",ref:r,onResuit:l[3]||(l[3]=n=>e.receipt_date=n)},null,8,["timed"])]),_:1})]),s("div",S,[a(u,{class:"w-50 w-50-p",is_err:!1,header:"\u4EF6\u6578 Package"},{default:o(()=>[_(s("input",{class:"input",type:"number","onUpdate:modelValue":l[4]||(l[4]=n=>e.total_item_count=n),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[p,e.total_item_count]])]),_:1}),a(u,{class:"w-50 w-50-p ip-weight",is_err:!1,header:"\u91CD\u91CF Weight"},{default:o(()=>[_(s("input",{class:"input",type:"number","onUpdate:modelValue":l[5]||(l[5]=n=>e.weight=n),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[p,e.weight]]),W]),_:1})]),s("div",G,[a(u,{class:"w-100 w-100-p",is_err:c.product_content,header:"\u8CA8\u54C1\u5167\u5BB9 Product detail"},{default:o(()=>[_(s("input",{class:"input","onUpdate:modelValue":l[6]||(l[6]=n=>e.product_content=n),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[p,e.product_content]])]),_:1},8,["is_err"])]),s("div",H,[a(u,{class:"w-100",is_err:!1,header:"\u5099\u8A3B Remark"},{default:o(()=>[_(s("input",{class:"input","onUpdate:modelValue":l[7]||(l[7]=n=>e.remark=n),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[p,e.remark]])]),_:1})])],64)}}}),M={class:"py f-row"},q={class:"py f-row"},z={class:"py f-row"},J={class:"py f-row"},K=h({__name:"OrderEditDetaii",setup(F,{expose:m}){const r=w({weight:"",total_item_count:"",car_park:"",tunnel_fee:"",misc_fee:"",floor_count:"",collection_payment:"",delivery_date:"",delivery_charge:"",delivery_men:""}),e=w({weight:!1,total_item_count:!1,car_park:!1,tunnel_fee:!1,misc_fee:!1,floor_count:!1,collection_payment:!1,delivery_charge:!1}),c=function(){let i=!0;if(r.weight)e.weight=!1;else return e.weight=!0,!1;if(r.total_item_count)e.total_item_count=!1;else return e.total_item_count=!0,!1;return Object.values(e).map(t=>{t&&(i=!1)}),i};return m({resuit:()=>c()?r:void 0,reset:i=>{for(let t in r)r[t]=i[t]}}),(i,t)=>{const l=f("fn-time"),u=f("eos-input");return v(),B(A,null,[s("div",M,[a(u,{class:"w-50 w-50-p",is_err:!1,header:"\u9001\u8CA8\u65E5\u671F Delivery date"},{default:o(()=>[a(l,{timed:r.delivery_date,ref:"dateRef",onResuit:t[0]||(t[0]=d=>r.delivery_date=d)},null,8,["timed"])]),_:1}),V(D)().is_admin?(v(),E(u,{key:0,class:"w-50 w-50-p",is_err:!1,header:"\u9001\u8CA8\u5458 Delivery men"},{default:o(()=>[_(s("input",{class:"input","onUpdate:modelValue":t[1]||(t[1]=d=>r.delivery_men=d),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[p,r.delivery_men]])]),_:1})):U("",!0)]),s("div",q,[a(u,{class:"w-50 w-50-p",is_err:e.car_park,header:"\u505C\u8ECA\u5834 Parking"},{default:o(()=>[_(s("input",{class:"input",type:"number","onUpdate:modelValue":t[2]||(t[2]=d=>r.car_park=d),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[p,r.car_park]])]),_:1},8,["is_err"]),a(u,{class:"w-50 w-50-p",is_err:e.tunnel_fee,header:"\u96A7\u9053\u8CBB Tunnel fee"},{default:o(()=>[_(s("input",{class:"input",type:"number","onUpdate:modelValue":t[3]||(t[3]=d=>r.tunnel_fee=d),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[p,r.tunnel_fee]])]),_:1},8,["is_err"])]),s("div",z,[a(u,{class:"w-50 w-50-p",is_err:e.misc_fee,header:"\u96DC\u8CBB Other charges"},{default:o(()=>[_(s("input",{class:"input",type:"number","onUpdate:modelValue":t[4]||(t[4]=d=>r.misc_fee=d),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[p,r.misc_fee]])]),_:1},8,["is_err"]),a(u,{class:"w-50 w-50-p",is_err:e.floor_count,header:"\u6A13\u68AF\u5C64\u6578 Stairs floor"},{default:o(()=>[_(s("input",{class:"input",type:"number","onUpdate:modelValue":t[5]||(t[5]=d=>r.floor_count=d),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[p,r.floor_count]])]),_:1},8,["is_err"])]),s("div",J,[a(u,{class:"w-50 w-50-p",is_err:e.delivery_charge,header:"\u904B\u8CBB Delivery charges"},{default:o(()=>[_(s("input",{class:"input",type:"number","onUpdate:modelValue":t[6]||(t[6]=d=>r.delivery_charge=d),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[p,r.delivery_charge]])]),_:1},8,["is_err"]),a(u,{class:"w-50 w-50-p",is_err:e.collection_payment,header:"\u4EE3\u6536\u8D27\u6B3E Collection Payment"},{default:o(()=>[_(s("input",{class:"input",type:"number","onUpdate:modelValue":t[7]||(t[7]=d=>r.collection_payment=d),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[p,r.collection_payment]])]),_:1},8,["is_err"])])],64)}}}),L={class:"py f-row"},Q={class:"py f-row"},X={class:"py f-row"},Y={class:"py f-row"},Z=h({__name:"OrderEditReciver",setup(F,{expose:m}){const r=w({customer_name:"",customer_phone_no:"",district:"",area:"",address:"",route:""}),e=w({customer_name:!1,customer_phone_no:!1,district:!1,area:!1,address:!1,route:!1}),c=function(){let i=!0;if(r.customer_name)e.customer_name=!1;else return e.customer_name=!0,!1;if(r.address)e.address=!1;else return e.address=!0,!1;return Object.values(e).map(t=>{t&&(i=!1)}),i};return m({resuit:()=>c()?r:void 0,reset:i=>{for(let t in r)r[t]=i[t]}}),(i,t)=>{const l=f("eos-input");return v(),B(A,null,[s("div",L,[a(l,{class:"w-50 w-50-p",is_err:e.customer_name,header:"\u6536\u4EF6\u4EBA\u540D\u79F0 Recipient name"},{default:o(()=>[_(s("input",{class:"input","onUpdate:modelValue":t[0]||(t[0]=u=>r.customer_name=u),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[p,r.customer_name]])]),_:1},8,["is_err"]),a(l,{class:"w-50 w-50-p",is_err:e.customer_phone_no,header:"\u6536\u4EF6\u4EBA\u96FB\u8A71\u865F\u78BC Tel."},{default:o(()=>[_(s("input",{class:"input","onUpdate:modelValue":t[1]||(t[1]=u=>r.customer_phone_no=u),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[p,r.customer_phone_no]])]),_:1},8,["is_err","header"])]),s("div",Q,[a(l,{class:"w-50 w-50-p",is_err:e.district,header:"\u5730\u5340 District"},{default:o(()=>[_(s("input",{class:"input","onUpdate:modelValue":t[2]||(t[2]=u=>r.district=u),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[p,r.district]])]),_:1},8,["is_err"]),a(l,{class:"w-50 w-50-p",is_err:e.area,header:"\u5340\u57DF Area"},{default:o(()=>[_(s("input",{class:"input","onUpdate:modelValue":t[3]||(t[3]=u=>r.area=u),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[p,r.area]])]),_:1},8,["is_err"])]),s("div",X,[a(l,{class:"w-100 w-100-p",is_err:e.address,header:"\u5730\u5740\u8A73\u60C5 Address"},{default:o(()=>[_(s("textarea",{class:"input","onUpdate:modelValue":t[4]||(t[4]=u=>r.address=u),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[p,r.address]])]),_:1},8,["is_err"])]),s("div",Y,[a(l,{class:"w-50 w-50-p",is_err:e.route,header:"\u8DEF\u7EBF Route"},{default:o(()=>[_(s("input",{class:"input","onUpdate:modelValue":t[5]||(t[5]=u=>r.route=u),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[p,r.route]])]),_:1},8,["is_err"])])],64)}}}),ee=s("div",{class:"py_row"},null,-1),te=s("div",{class:"py_row"},null,-1),ue=h({__name:"order_edit",setup(F){const m=$(),r=y(),e=y(),c=y();y();const i=x().order;R(()=>{i.receipt_date=i.receipt_date?i.receipt_date:O.now(),i.id||l(),r.value.reset(i),e.value.reset(i),c.value.reset(i)});const t=async function(){const u=r.value.resuit(),d=e.value.resuit(),n=c.value.resuit();console.log(u,d,n),u&&d&&n&&await P.edit({...u,...d,...n},i.id)&&l()},l=()=>m.push("/admin/order_iist");return(u,d)=>{const n=f("eos-form-paner"),C=f("eos-iayout-form"),k=f("eos-iayout-screen");return v(),E(k,{is_en:!0,onBack:l},{default:o(()=>[a(C,{is_en:!0,onSubmit:t,onBack:l},{default:o(()=>[a(n,{tit:"\u57FA\u672C\u4FE1\u606F Basic information"},{default:o(()=>[a(I,{ref_key:"base",ref:r},null,512)]),_:1}),ee,a(n,{tit:"\u8A02\u55AE\u8A73\u60C5 Order details"},{default:o(()=>[a(K,{ref_key:"detaii",ref:c},null,512)]),_:1}),te,a(n,{tit:"\u6536\u4EF6\u4EBA\u4FE1\u606F Recipient information"},{default:o(()=>[a(Z,{ref_key:"reciv",ref:e},null,512)]),_:1})]),_:1})]),_:1})}}});export{ue as default};
