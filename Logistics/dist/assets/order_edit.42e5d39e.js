import{d as C,s as A,g as y,p as w,o as v,c as B,a as u,h as a,w as n,b as x,t as V,q as d,J as _,F as P,i as $,f as U,m as O,e as R,T as j,u as S,N as M,x as W,O as D,y as q}from"./index.cfdd819b.js";const G={class:"py f-row"},J={class:"py f-row"},L={class:"py f-row"},z={class:"py f-row"},H=u("span",{class:"ip-unit"},"kg",-1),I={class:"py f-row"},K={class:"py f-row"},Q=C({__name:"OrderEditBase",setup(b,{expose:m}){const r=A(),e=y({create_date:"",cf_waybill_no:"",waybill_no:"",order_id:"",order_group:"",receipt_date:"",product_content:"",remarks:"",weight:"",total_item_count:""}),i=y({create_date:!1,waybill_no:!1,order_id:!1,order_group:!1,product_content:!1,total_item_count:!1}),c=function(){let t=!0;if(e.waybill_no)i.waybill_no=!1;else return i.waybill_no=!0,!1;if(e.total_item_count)i.total_item_count=!1;else return i.total_item_count=!0,!1;return Object.values(i).map(s=>{s&&(t=!1)}),t};return m({resuit:()=>c()?e:void 0,reset:t=>{for(let s in e)e[s]=t[s];r.value.ioc(t.receipt_date)}}),(t,s)=>{const l=w("eos-input"),o=w("fn-time");return v(),B(P,null,[u("div",G,[a(l,{class:"w-50 w-50-p",is_err:!1,header:"\u5275\u5EFA\u65E5\u671F Order date",is_txt_mode:!0},{default:n(()=>[x(V(e.create_date),1)]),_:1}),a(l,{class:"w-50 w-50-p",is_err:!1,header:"\u7FD4\u70FD\u904B\u55AE\u7DE8\u865F CF waybill number",is_txt_mode:!0},{default:n(()=>[x(V(e.cf_waybill_no),1)]),_:1})]),u("div",J,[a(l,{class:"w-50 w-50-p",is_err:i.waybill_no,header:"\u5BA2\u6236\u904B\u55AE\u7DE8\u865F Waybill number"},{default:n(()=>[d(u("input",{class:"input","onUpdate:modelValue":s[0]||(s[0]=p=>e.waybill_no=p),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[_,e.waybill_no]])]),_:1},8,["is_err"]),a(l,{class:"w-50 w-50-p",is_err:i.order_id,header:"\u8A02\u55AE\u7DE8\u865F Order No."},{default:n(()=>[d(u("input",{class:"input","onUpdate:modelValue":s[1]||(s[1]=p=>e.order_id=p),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[_,e.order_id]])]),_:1},8,["is_err","header"])]),u("div",L,[a(l,{class:"w-50 w-50-p",is_err:i.order_group,header:"\u8A02\u55AE\u7D44 Group"},{default:n(()=>[d(u("input",{class:"input","onUpdate:modelValue":s[2]||(s[2]=p=>e.order_group=p),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[_,e.order_group]])]),_:1},8,["is_err"]),a(l,{class:"w-50 w-50-p",is_err:!1,header:"\u8A02\u55AE\u65E5\u671F Order date"},{default:n(()=>[a(o,{timed:e.receipt_date,ref_key:"dateRef",ref:r,onResuit:s[3]||(s[3]=p=>e.receipt_date=p)},null,8,["timed"])]),_:1})]),u("div",z,[a(l,{class:"w-50 w-50-p",is_err:i.total_item_count,header:"\u4EF6\u6578 Package"},{default:n(()=>[d(u("input",{class:"input",type:"number","onUpdate:modelValue":s[4]||(s[4]=p=>e.total_item_count=p),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[_,e.total_item_count]])]),_:1},8,["is_err"]),a(l,{class:"w-50 w-50-p ip-weight",is_err:!1,header:"\u91CD\u91CF Weight"},{default:n(()=>[d(u("input",{class:"input",type:"number","onUpdate:modelValue":s[5]||(s[5]=p=>e.weight=p),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[_,e.weight]]),H]),_:1})]),u("div",I,[a(l,{class:"w-100 w-100-p",is_err:i.product_content,header:"\u8CA8\u54C1\u5167\u5BB9 Product detail"},{default:n(()=>[d(u("input",{class:"input","onUpdate:modelValue":s[6]||(s[6]=p=>e.product_content=p),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[_,e.product_content]])]),_:1},8,["is_err"])]),u("div",K,[a(l,{class:"w-100",is_err:!1,header:"\u5099\u8A3B Remark"},{default:n(()=>[d(u("input",{class:"input","onUpdate:modelValue":s[7]||(s[7]=p=>e.remarks=p),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[_,e.remarks]])]),_:1})])],64)}}}),X={class:"py f-row"},Y={class:"py f-row"},Z={class:"py f-row"},ee={class:"py f-row"},te=C({__name:"OrderEditDetaii",setup(b,{expose:m}){const r=y({weight:"",total_item_count:"",car_park:"",tunnel_fee:"",misc_fee:"",floor_count:"",collection_payment:"",delivery_date:"",delivery_charge:"",delivery_men:""}),e=y({weight:!1,total_item_count:!1,car_park:!1,tunnel_fee:!1,misc_fee:!1,floor_count:!1,collection_payment:!1,delivery_charge:!1}),i=function(){let c=!0;if(r.weight)e.weight=!1;else return e.weight=!0,!1;if(r.total_item_count)e.total_item_count=!1;else return e.total_item_count=!0,!1;return Object.values(e).map(t=>{t&&(c=!1)}),c};return m({resuit:()=>i()?r:void 0,reset:c=>{for(let t in r)r[t]=c[t]}}),(c,t)=>{const s=w("fn-time"),l=w("eos-input");return v(),B(P,null,[u("div",X,[a(l,{class:"w-50 w-50-p",is_err:!1,header:"\u9001\u8CA8\u65E5\u671F Delivery date"},{default:n(()=>[a(s,{timed:r.delivery_date,ref:"dateRef",onResuit:t[0]||(t[0]=o=>r.delivery_date=o)},null,8,["timed"])]),_:1}),$(U)().is_admin?(v(),O(l,{key:0,class:"w-50 w-50-p",is_err:!1,header:"\u9001\u8CA8\u5458 Delivery men"},{default:n(()=>[d(u("input",{class:"input","onUpdate:modelValue":t[1]||(t[1]=o=>r.delivery_men=o),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[_,r.delivery_men]])]),_:1})):R("",!0)]),u("div",Y,[a(l,{class:"w-50 w-50-p",is_err:e.car_park,header:"\u505C\u8ECA\u5834 Parking"},{default:n(()=>[d(u("input",{class:"input",type:"number","onUpdate:modelValue":t[2]||(t[2]=o=>r.car_park=o),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[_,r.car_park]])]),_:1},8,["is_err"]),a(l,{class:"w-50 w-50-p",is_err:e.tunnel_fee,header:"\u96A7\u9053\u8CBB Tunnel fee"},{default:n(()=>[d(u("input",{class:"input",type:"number","onUpdate:modelValue":t[3]||(t[3]=o=>r.tunnel_fee=o),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[_,r.tunnel_fee]])]),_:1},8,["is_err"])]),u("div",Z,[a(l,{class:"w-50 w-50-p",is_err:e.misc_fee,header:"\u96DC\u8CBB Other charges"},{default:n(()=>[d(u("input",{class:"input",type:"number","onUpdate:modelValue":t[4]||(t[4]=o=>r.misc_fee=o),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[_,r.misc_fee]])]),_:1},8,["is_err"]),a(l,{class:"w-50 w-50-p",is_err:e.floor_count,header:"\u6A13\u68AF\u5C64\u6578 Stairs floor"},{default:n(()=>[d(u("input",{class:"input",type:"number","onUpdate:modelValue":t[5]||(t[5]=o=>r.floor_count=o),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[_,r.floor_count]])]),_:1},8,["is_err"])]),u("div",ee,[a(l,{class:"w-50 w-50-p",is_err:e.delivery_charge,header:"\u904B\u8CBB Delivery charges"},{default:n(()=>[d(u("input",{class:"input",type:"number","onUpdate:modelValue":t[6]||(t[6]=o=>r.delivery_charge=o),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[_,r.delivery_charge]])]),_:1},8,["is_err"]),a(l,{class:"w-50 w-50-p",is_err:e.collection_payment,header:"\u4EE3\u6536\u8D27\u6B3E Collection Payment"},{default:n(()=>[d(u("input",{class:"input",type:"number","onUpdate:modelValue":t[7]||(t[7]=o=>r.collection_payment=o),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[_,r.collection_payment]])]),_:1},8,["is_err"])])],64)}}}),se={class:"py f-row"},re={class:"py f-row"},ue={class:"py f-row"},le={class:"py f-row"},ae=C({__name:"OrderEditReciver",setup(b,{expose:m}){const r=y({customer_name:"",customer_phone_no:"",district:"",area:"",address:"",route:""}),e=y({customer_name:!1,customer_phone_no:!1,district:!1,area:!1,address:!1,route:!1}),i=function(){let c=!0;if(r.customer_name)e.customer_name=!1;else return e.customer_name=!0,!1;if(r.address)e.address=!1;else return e.address=!0,!1;return Object.values(e).map(t=>{t&&(c=!1)}),c};return m({resuit:()=>i()?r:void 0,reset:c=>{for(let t in r)r[t]=c[t]}}),(c,t)=>{const s=w("eos-input");return v(),B(P,null,[u("div",se,[a(s,{class:"w-50 w-50-p",is_err:e.customer_name,header:"\u6536\u4EF6\u4EBA\u540D\u79F0 Recipient name"},{default:n(()=>[d(u("input",{class:"input","onUpdate:modelValue":t[0]||(t[0]=l=>r.customer_name=l),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[_,r.customer_name]])]),_:1},8,["is_err"]),a(s,{class:"w-50 w-50-p",is_err:e.customer_phone_no,header:"\u6536\u4EF6\u4EBA\u96FB\u8A71\u865F\u78BC Tel."},{default:n(()=>[d(u("input",{class:"input","onUpdate:modelValue":t[1]||(t[1]=l=>r.customer_phone_no=l),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[_,r.customer_phone_no]])]),_:1},8,["is_err","header"])]),u("div",re,[a(s,{class:"w-50 w-50-p",is_err:e.district,header:"\u5730\u5340 District"},{default:n(()=>[d(u("input",{class:"input","onUpdate:modelValue":t[2]||(t[2]=l=>r.district=l),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[_,r.district]])]),_:1},8,["is_err"]),a(s,{class:"w-50 w-50-p",is_err:e.area,header:"\u5340\u57DF Area"},{default:n(()=>[d(u("input",{class:"input","onUpdate:modelValue":t[3]||(t[3]=l=>r.area=l),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[_,r.area]])]),_:1},8,["is_err"])]),u("div",ue,[a(s,{class:"w-100 w-100-p",is_err:e.address,header:"\u5730\u5740\u8A73\u60C5 Address"},{default:n(()=>[d(u("textarea",{class:"input","onUpdate:modelValue":t[4]||(t[4]=l=>r.address=l),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[_,r.address]])]),_:1},8,["is_err"])]),u("div",le,[a(s,{class:"w-50 w-50-p",is_err:e.route,header:"\u8DEF\u7EBF Route"},{default:n(()=>[d(u("input",{class:"input","onUpdate:modelValue":t[5]||(t[5]=l=>r.route=l),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[_,r.route]])]),_:1},8,["is_err"])])],64)}}}),ne={class:"py fx-s"},oe=u("h4",null,"\u8A02\u55AE\u5DF2\u5B8C\u6210\u9001\u8CA8\xA0\xA0The order has been delivered",-1),ie={class:"fx-r"},de=C({__name:"OrderEditFinished",setup(b,{expose:m}){const r=A(),e=y({phone_no:"",chinese:"",english:""}),i=y({create_date:!1,waybill_no:!1,order_id:!1}),c=function(){let t=!0;if(e.waybill_no)i.waybill_no=!1;else return i.waybill_no=!0,!1;return Object.values(i).map(s=>{s&&(t=!1)}),t};return m({resuit:()=>c()?e:void 0,reset:t=>{for(let s in e)e[s]=t[s];r.value.ioc(t.receipt_date)}}),(t,s)=>{const l=w("eos-switch");return v(),B("div",ne,[oe,u("div",ie,[x(" \u5426\xA0\xA0\xA0"),a(l),x("\xA0\xA0\u662F ")])])}}}),_e={class:"py f-row"},ce={class:"py f-row"},pe=j('<div class="py pl"><p class="pb">\u9001\u8CA8\u54E1\u985E\u5225 Type of deliveryman:\xA0\xA0\u8CA8\u8ECA\u53F8\u6A5F</p><p class="pb">\u5224\u982D\u540D\u7A31 Company name:\xA0\xA0\u5F35\u4E09</p><p class="pb">\u8ECA\u724C Licence plate:\xA0\xA0Ak 67876</p><p class="">\u8CA8\u8ECA\u985E\u578B Truck type:\xA0\xA0\u8CA8VAN</p></div>',1),fe=C({__name:"OrderEditDeiiverMan",setup(b,{expose:m}){const r=A(),e=y({phone_no:"",chinese:"",english:""}),i=y({create_date:!1,waybill_no:!1,order_id:!1}),c=function(){let t=!0;if(e.waybill_no)i.waybill_no=!1;else return i.waybill_no=!0,!1;return Object.values(i).map(s=>{s&&(t=!1)}),t};return m({resuit:()=>c()?e:void 0,reset:t=>{for(let s in e)e[s]=t[s];r.value.ioc(t.receipt_date)}}),(t,s)=>{const l=w("eos-input");return v(),B(P,null,[u("div",_e,[a(l,{class:"w-50 w-50-p",is_err:!1,header:"\u4E2D\u6587\u540D Chinese name"},{default:n(()=>[d(u("input",{class:"input","onUpdate:modelValue":s[0]||(s[0]=o=>e.chinese=o),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[_,e.chinese]])]),_:1}),a(l,{class:"w-50 w-50-p",is_err:!1,header:"\u82F1\u6587\u540D English name"},{default:n(()=>[d(u("input",{class:"input","onUpdate:modelValue":s[1]||(s[1]=o=>e.english=o),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[_,e.english]])]),_:1})]),u("div",ce,[a(l,{class:"w-100",is_err:!1,header:"\u96FB\u8A71\u865F\u78BC Telephone number"},{default:n(()=>[d(u("input",{class:"input","onUpdate:modelValue":s[2]||(s[2]=o=>e.phone_no=o),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[_,e.phone_no]])]),_:1})]),pe],64)}}}),me=u("div",{class:"py_row"},null,-1),we=u("div",{class:"py_row"},null,-1),ye={key:0},he=u("div",{class:"py_row"},null,-1),Ae=u("div",{class:"py_row"},null,-1),ve={class:"panner"},Ce=C({__name:"order_edit",setup(b){const m=S(),r=A(),e=A(),i=A(),c=A(),t=A(),s=U(),l=s.is_admin,o=M().order,p=async()=>{o.id||g();const f=await D.one(o.id);f.receipt_date=f.receipt_date?f.receipt_date:q.now(),r.value.reset(f),e.value.reset(f),i.value.reset(f),l&&c.value.reset(f),console.log("\u4E00\u4E2A\u8BA2\u5355 =",f)},T=()=>{const f=r.value.resuit(),F=e.value.resuit(),h=i.value.resuit(),E=l?c.value.resuit():{},k=l?t.value.resuit():{};return console.log(f,F,h,E,k),f&&F&&h&&E?l?{...f,...F,...h,...E,...k}:{...f,...F,...h}:null},N=async function(){const f=T();f&&await D.edit(f,o.id)&&g()};W(async()=>{await p()});const g=()=>m.push("/admin/order_iist");return(f,F)=>{const h=w("eos-form-paner"),E=w("eos-iayout-form"),k=w("eos-iayout-screen");return v(),O(k,{is_en:!0,onBack:g},{default:n(()=>[a(E,{is_en:!0,onSubmit:N,onBack:g},{default:n(()=>[a(h,{tit:"\u57FA\u672C\u4FE1\u606F Basic information"},{default:n(()=>[a(Q,{ref_key:"base",ref:r},null,512)]),_:1}),me,a(h,{tit:"\u8A02\u55AE\u8A73\u60C5 Order details"},{default:n(()=>[a(te,{ref_key:"detaii",ref:i},null,512)]),_:1}),we,a(h,{tit:"\u6536\u4EF6\u4EBA\u4FE1\u606F Recipient information"},{default:n(()=>[a(ae,{ref_key:"reciv",ref:e},null,512)]),_:1}),$(s).is_admin?(v(),B("div",ye,[he,a(h,{tit:"\u9001\u8CA8\u54E1\u4FE1\u606F Deliveryman information"},{default:n(()=>[a(fe,{ref_key:"deiiver",ref:c},null,512)]),_:1}),Ae,u("nav",ve,[a(de,{ref_key:"finished",ref:t},null,512)])])):R("",!0)]),_:1})]),_:1})}}});export{Ce as default};
