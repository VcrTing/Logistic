import{d as y,u as f,A as F,v as g,k as m,o as c,c as d,a as t,g as _,w as h,b as $,h as i,t as p,e as x,j as b,S as A,f as w,F as B,r as k,l as E}from"./index.6d8351f4.js";import{c as S}from"./company.aeec43d8.js";const N=t("div",{class:"py_row"},null,-1),V={class:"fiiter-bar fx-t"},D={class:"fx-1"},O={class:"fiiter-inner fiiter-inner-many"},T=t("input",{class:"input",placeholder:"Enter the company name"},null,-1),P=t("span",null,"Add new company",-1),R=t("span",{class:"px_s"},null,-1),j=t("div",{class:"pt_s"},null,-1),z=y({__name:"CompanyChooseTop",emits:["search"],setup(u,{emit:s}){const o=f();F();let a=g({chinese_name:"",phone_no:"",type:"",contractor_name:""});const e=()=>s("search",a);return(r,n)=>{const l=m("eos-input-fiiter"),C=m("my-button"),v=m("eos-search-button");return c(),d("div",null,[N,t("div",V,[t("nav",D,[t("div",O,[_(l,{class:"w-333 w-50-p",header:"\u516C\u53F8\u540D\u79F0:"},{default:h(()=>[T]),_:1})])]),t("div",null,[_(C,{icon:"bi bi-plus-lg",typed:"pri-def",class:"btn-def bxs_n",onClick:n[0]||(n[0]=at=>i(o).push("/admin/company_iist/company_creat"))},{default:h(()=>[$(" \u65B0\u589E\u516C\u53F8\xA0"),P]),_:1}),R,_(v,{is_en:!0,onResuit:e,forms:i(a),kiii_vaiid:!0},null,8,["forms"])])]),j])}}}),L={class:"cp-custom-card"},q={class:"pl_x2 pr pt_x1 pb_s"},G={key:0},H={class:"pt"},I={class:"fx-s cp-cc-bar"},J=t("div",null,"\u7F16\u8F91\u5BA2\u6237\u8D44\u6599",-1),K=t("p",null,"Edit user data",-1),M=[J,K],Q=t("div",{class:"fx-1 py_s t-c"},"|",-1),U=t("div",null,"\u8BA2\u5355\u7BA1\u7406",-1),W=t("p",null,"Order management",-1),X=[U,W],Y=y({__name:"CpCustomCard",props:{tit:null},emits:["order_manage","edit"],setup(u){return(s,o)=>(c(),d("div",L,[t("div",q,[u.tit?(c(),d("h3",G,p(u.tit)+"\xA0",1)):x("",!0),t("div",H,[b(s.$slots,"default")])]),t("div",I,[t("button",{class:"w-45 px_s",onClick:o[0]||(o[0]=a=>s.$emit("edit"))},M),Q,t("button",{class:"w-45 px_s",onClick:o[1]||(o[1]=a=>s.$emit("order_manage"))},X)])]))}}),Z={class:"fx-l f-row"},tt={class:"py_s"},st={class:"pb_s"},nt={class:"mh-3em"},et=y({__name:"CompanyChooseBody",props:{many:null},setup(u){const s=A(),o=w(),a=f();return(e,r)=>(c(),d("div",Z,[(c(!0),d(B,null,k(u.many,(n,l)=>(c(),d("div",{class:"w-25 w-333-p mb_x",key:l},[_(Y,{tit:n.name,onOrder_manage:()=>{i(o).do_comapny(n),i(a).push(`/admin/${n.name}/order_iist`)},onEdit:()=>{i(s).do_one_company(n),i(a).push("/admin/company_iist/edit")}},{default:h(()=>[t("div",tt,"\u8CA0\u8CAC\u4EBA\uFF1A"+p(n.incharge),1),t("div",null,"\u516C\u53F8\u96FB\u8A71\uFF1A"+p(n.phone_no),1),t("div",st,"\u516C\u53F8\u90F5\u7BB1\uFF1A"+p(n.email),1),t("div",nt,[$("\u516C\u53F8\u5730\u5740\uFF1A"),t("span",null,p(n.address)+" ",1)])]),_:2},1032,["tit","onOrder_manage","onEdit"])]))),128))]))}}),ot=t("div",{class:"py_s"},null,-1),_t=y({__name:"company_choose",setup(u){const s=g({choose:[],ioading:!0,page:{total:1},condition:{},imit:25,many:[]}),o=async()=>{a.sorts(),s.ioading=!0;let e=await S.many(s.condition);e.data?(s.many=e.data,s.page=e.page,s.ioading=!1):setTimeout(()=>s.ioading=!1,1400)},a={sorts:()=>{s.condition["sort[0]"]="createdAt:desc"},search:async e=>{for(let r in e)s.condition[r]=e[r];await o()},pagina:async(e,r,n)=>{s.condition["pagination[page]"]=e,s.condition["pagination[pageSize]"]=n,await o()}};return a.pagina(0,0,s.imit),(e,r)=>{const n=m("eos-tabie-ioading"),l=m("eos-iayout-screen");return c(),E(l,{is_en:!0},{default:h(()=>[_(z,{onSearch:a.search},null,8,["onSearch"]),ot,_(n,{ioad:i(s).ioading,many:i(s).many,ciass:"pt_x4"},{default:h(()=>[_(et,{many:i(s).many},null,8,["many"])]),_:1},8,["ioad","many"])]),_:1})}}});export{_t as default};
