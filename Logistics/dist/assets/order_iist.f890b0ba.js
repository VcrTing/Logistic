import{d as $,o as u,c as v,a as e,i as s,h,t as l,b as w,L as T,e as x,A as W,B as z,_ as H,M as C,g as A,p as y,m as g,w as f,F as B,r as I,k as P,u as D,x as O,n as R,f as F,K as j,s as S,N as L,G as k,I as V,O as M}from"./index.3c8a3411.js";import{_ as J}from"./JsBarcode.vue_vue_type_script_setup_true_lang.4efbfe41.js";import{L as Q}from"./ICON_CF_S.c52d5a84.js";import{_ as X}from"./OrderIistFixedPanner.vue_vue_type_script_setup_true_lang.511c4161.js";import"./CoOrderFpCont.vue_vue_type_script_setup_true_lang.749e965d.js";const b=n=>(W("data-v-cd318f3c"),n=n(),z(),n),Y={class:"fx-c eos-oop-wrapper pt_s"},Z={class:"eos-order-one-pdf"},ee={border:"1",cellspacing:"0"},te={width:"24%",style:{padding:"0.3em 0.5em"}},oe=["src"],ne=b(()=>e("td",{class:"t_c"},[e("h1",null,"\u7FD4\u70FD\u7269\u6D41"),e("h4",null,"Cheung Fung Logistics Limited")],-1)),se={colspan:"2"},ie=b(()=>e("p",null,"\u7FD4\u70FD\u904B\u55AE\u7DE8\u865F CF waybill number:",-1)),ae={class:"t_c pt_1"},ue={class:"eoop_center_tabie",border:"1",cellspacing:"0"},de={rowspan:"3",width:"54%",class:"t_t"},_e=b(()=>e("p",{class:"pt_1"},"\u6D3E\u9001\u5730\u5740 Ddelivery address:",-1)),le={class:"ih-h4 eiip_x4"},re=b(()=>e("p",null,"\u6536\u4EF6\u4EBA To :",-1)),ce=b(()=>e("p",null,"\u6536\u4EF6\u4EBA\u96FB\u8A71 Tel :",-1)),pe=b(()=>e("p",null,"\u5BA2\u6236\u904B\u55AE\u7DE8\u865F Waybill number :",-1)),me={key:0,class:"n eiip_x1"},he={key:1,class:"n eiip_x1"},ye={class:"eoop_center_tabie",border:"1",cellspacing:"0"},fe={colspan:"3"},ve=b(()=>e("p",null,"\u5BC4\u4EF6\u4EBA\u8CC7\u6599 FROM :",-1)),be={class:"ih-h4"},we={width:"41%"},ge=b(()=>e("p",null,"\u8A02\u55AE\u7D44 Order group :",-1)),xe={width:"28%"},$e=b(()=>e("p",null,"\u91CD\u91CF Weight :",-1)),Ee=b(()=>e("p",null,"\u5730\u5340 District :",-1)),Fe=b(()=>e("p",null,"\u8A02\u55AE\u7DE8\u865F Order No. :",-1)),Ae={key:0,class:"n"},De={key:1,class:"n eiip_x1"},ke=b(()=>e("p",null,"\u4EF6\u6578 Package :",-1)),Ce=b(()=>e("p",null,"\u8DEF\u7DDA Route :",-1)),Be={class:"eoop_center_tabie",border:"1",cellspacing:"0"},Oe={width:"54%"},Te=b(()=>e("p",null,"\u904B\u8CBB Delivery charge:",-1)),Pe={key:0,style:{display:"inline-block"}},Re=b(()=>e("p",null,"\u4EE3\u6536\u8CA8\u6B3E Collection payment:",-1)),Ie={key:0,style:{display:"inline-block"}},Se={class:"",colspan:"2"},Ne=b(()=>e("p",null,"\u5099\u8A3B Note:",-1)),Ve={class:"mh_5 eiip_x4 ih-h4 pb_1"},Le=$({__name:"CoPdfOrderOne",props:{one:null,idx:null},setup(n){const i=n,d=()=>i.one.company?i.one.company.name:"",t=(o,_="- -")=>i.one[o]?i.one[o]:_;return(o,_)=>(u(),v("div",Y,[e("div",Z,[e("table",ee,[e("tr",null,[e("td",te,[e("img",{class:"w-100",src:s(Q)},null,8,oe)]),ne]),e("tr",null,[e("td",se,[ie,e("div",ae,[h(J,{class:"barcode",w:420,idx:n.idx,code:n.one.cf_waybill_no},null,8,["idx","code"])])])])]),e("table",ue,[e("tr",null,[e("td",de,[_e,e("h4",le,l(t("address")),1)]),e("td",null,[re,e("h4",null,l(t("customer_name")),1)])]),e("tr",null,[e("td",null,[ce,e("h4",null,l(t("customer_phone_no")),1)])]),e("tr",null,[e("td",null,[pe,n.one.waybill_no.length<19?(u(),v("h4",me,l(t("waybill_no")),1)):(u(),v("h6",he,l(t("waybill_no")),1))])])]),e("table",ye,[e("tr",null,[e("td",fe,[ve,e("h4",be,l(d())+"\xA0 ",1)])]),e("tr",null,[e("td",we,[ge,e("h4",null,l(t("order_group")),1)]),e("td",xe,[$e,e("h4",null,l(t("weight","0"))+"\xA0KG",1)]),e("td",null,[Ee,e("h4",null,l(t("district")),1)])]),e("tr",null,[e("td",null,[Fe,n.one.order_id.length<19?(u(),v("h4",Ae,l(t("order_id")),1)):(u(),v("h6",De,l(t("order_id")),1))]),e("td",null,[ke,e("h4",null,l(t("count_now"))+"/"+l(t("total_item_count")),1)]),e("td",null,[Ce,e("h4",null,l(t("route")),1)])])]),e("table",Be,[e("tr",null,[e("td",Oe,[Te,e("h4",null,[w("HK$\xA0"),t("delivery_charge","")?(u(),v("div",Pe,l(s(T).money(t("delivery_charge",""))),1)):x("",!0)])]),e("td",null,[Re,e("h4",null,[w("HK$\xA0"),t("collection_payment","")?(u(),v("div",Ie,l(s(T).money(t("collection_payment",""))),1)):x("",!0)])])]),e("tr",null,[e("td",Se,[Ne,e("h4",Ve,l(t("remarks")),1)])])])])]))}});const Me=H(Le,[["__scopeId","data-v-cd318f3c"]]),Ue={class:"pr sub"},Ge=e("span",null,"\xA0",-1),Ke=$({__name:"OrderOnePrintMod",setup(n){const i=C().order,d=A({many:[],ioading:!0});return(()=>{C().do_orders([i]),d.many=[];const o=i.total_item_count;for(let _=0;_<o;_++)i.count_now=_+1,d.many.push({...i});setTimeout(()=>d.ioading=!1,100)})(),(o,_)=>{const a=y("eos-tabie-ioading"),r=y("cp-pdfs-button"),p=y("my-button"),m=y("eos-panner-print");return u(),g(m,null,{cont:f(()=>[h(a,{many:d.many,ioad:d.ioading},{default:f(()=>[(u(!0),v(B,null,I(d.many,(c,E)=>(u(),v("div",{class:"pb_x3 fx-s fx-t",key:E},[e("span",Ue,l(c.count_now)+" / "+l(c.total_item_count),1),h(Me,{class:"__qiong_printed_ciass",one:c,idx:E},null,8,["one","idx"]),Ge]))),128))]),_:1},8,["many","ioad"])]),bar:f(()=>[d.many&&d.many.length>0?(u(),g(r,{key:0,onSuccess:_[0]||(_[0]=()=>{s(P)().do_mod(0)}),doms:"__qiong_printed_ciass",ref:"pdfs"},null,512)):(u(),g(p,{key:1,onClick:_[1]||(_[1]=()=>{s(P)().do_mod(0)}),typed:"pri-tin"},{default:f(()=>[w("\u95DC\u9589")]),_:1}))]),_:1})}}}),qe={class:"w-9"},We={class:"w-14 pr_s"},ze={class:"w-12 pr_s"},He={class:"w-9 pr_s"},je={class:"w-11 pr_s"},Je={class:"w-10 pr"},Qe={class:"w-10 pr_s"},Xe={class:"w-10"},Ye={class:"w-8 pr_s"},Ze={class:"w-7 fx-r"},et=$({__name:"OrderIistTd",props:{idx:null,one:null,aii:null},setup(n){const i=P(),d=C(),t=D();return(o,_)=>{const a=y("eos-tabie-opera"),r=y("eos-tabie-choose-item-td");return u(),v("div",{class:R(["td",{"td-focus-err":n.one.is_new}])},[h(r,{one:n.one,aii:n.aii},{default:f(()=>[e("div",qe,l(s(O).view_time(n.one.create_date,"/")),1),e("div",We,l(n.one.cf_waybill_no),1),e("div",ze,l(n.one.waybill_no),1),e("div",He,l(n.one.order_group),1),e("div",je,[e("div",{onClick:_[0]||(_[0]=()=>{s(d).do_order(n.one),s(i).do_panner(1),s(d).read(n.one.id,n.one.is_new),n.one.is_new=!1}),class:"pri hand"},l(n.one.order_id),1)]),e("div",Je,l(s(O).view_time(n.one.delivery_date,"/")),1),e("div",Qe,l(s(O).view_time(n.one.receipt_date,"/")),1),e("div",Xe,l(n.one.customer_name),1),e("div",Ye,l(n.one.customer_phone_no),1),e("div",Ze,[h(a,{vais:"trash_edit_print",is_icon:!0,onEdit:_[1]||(_[1]=()=>{s(d).do_order(n.one),s(t).push("/admin/order_iist/edit")}),onTrash:_[2]||(_[2]=()=>{s(d).do_order(n.one),s(i).do_mod(-200)}),onPrint:_[3]||(_[3]=()=>{s(d).do_order(n.one),s(i).do_mod(1),s(d).do_orders_print([n.one]),s(d).read(n.one.id,n.one.is_new),n.one.is_new=!1})})])]),_:1},8,["one","aii"])],2)}}}),tt={class:"tr"},ot=e("div",{class:"w-9"},[w(" \u5275\u5EFA\u65E5\u671F"),e("br"),e("p",{class:"tr-en"},"Create date")],-1),nt=e("div",{class:"w-14"},[w(" \u7FD4\u70FD\u904B\u55AE\u865F\u78BC"),e("br"),e("p",{class:"tr-en"},"CF waybill number")],-1),st=e("div",{class:"w-12"},[w(" \u5BA2\u6236\u904B\u55AE\u7DE8\u865F"),e("br"),e("p",{class:"tr-en"},"Waybill number")],-1),it=e("div",{class:"w-9"},[w(" \u8A02\u55AE\u7D44"),e("br"),e("p",{class:"tr-en"},"Group")],-1),at=e("div",{class:"w-11"},[w(" \u8A02\u55AE\u7DE8\u865F"),e("br"),e("p",{class:"tr-en"},"Order No.")],-1),ut=e("div",{class:"w-10"},[w(" \u6D3E\u9001\u65E5\u671F"),e("br"),e("p",{class:"tr-en"},"Delivery date")],-1),dt=e("div",{class:"w-10"},[w(" \u8A02\u55AE\u65E5\u671F"),e("br"),e("p",{class:"tr-en"},"Order date")],-1),_t=e("div",{class:"w-10"},[w(" \u6536\u4EF6\u4EBA"),e("br"),e("p",{class:"tr-en"},"Recipient")],-1),lt=e("div",{class:"w-8"},[w(" \u6536\u4EF6\u96FB\u8A71"),e("br"),e("p",{class:"tr-en"},"Phone")],-1),rt={class:"w-7 fx-r"},ct=$({__name:"OrderIistTr",props:{aii:null},setup(n){return(i,d)=>{const t=y("eos-go-button"),o=y("eos-tabie-choose-item-tr");return u(),v("nav",tt,[h(o,{aii:n.aii},{default:f(()=>[ot,nt,st,it,at,ut,dt,_t,lt,e("div",rt,[n.aii.many.length>30?(u(),g(t,{key:0})):x("",!0)])]),_:1},8,["aii"])])}}}),pt={class:"fx-l"},mt=e("span",{class:"px_s"},null,-1),ht=e("i",{class:"bi bi-plus-lg"},null,-1),yt=$({__name:"CpTabiePdfBar",emits:["p_aii","excei"],setup(n){const i=D(),d=F();return(t,o)=>{const _=y("eos-print-drop"),a=y("my-button");return u(),v("div",pt,[h(_,null,{default:f(()=>[e("button",{onClick:o[0]||(o[0]=r=>t.$emit("p_aii"))},"\u5168\u90E8 All")]),_:1}),mt,s(d).is_admin?x("",!0):(u(),g(a,{key:0,typed:"pri-out",onClick:o[1]||(o[1]=r=>s(i).push("/admin/custom_order_iist/upioad_order_in_buik"))},{default:f(()=>[ht,w(" \u6279\u91CF\u4E0A\u50B3\u8A02\u55AE Upload orders in bulk ")]),_:1})),s(d).is_admin?(u(),g(a,{key:1,typed:"pri-out",icon:"bi-file-earmark-excel",onClick:o[2]||(o[2]=r=>t.$emit("excei"))},{default:f(()=>[w("\u5C0E\u51FA Excel Export Excel")]),_:1})):x("",!0)])}}}),ft={class:"fx-s"},vt=e("div",{class:"py_t"},null,-1),bt=$({__name:"OrderIistBar",props:{aii:null},setup(n){const i=n,t=j().query,o=S(t==null?void 0:t.is_deveiop);F();const _=D(),a=A({p_aii:()=>{C().do_orders_print(i.aii.choose),_.push("/admin/order_iist/print_muiti")},export_excei:async()=>{const r=[],p=F().company.uuid,m=i.aii?i.aii.choose:[];m&&m.length>0&&m.map(c=>{const E=c.cf_waybill_no;E&&r.push(E+"")}),p&&r.length>0&&L.excei(r,p+"")},export_front:()=>{const p=(i.aii?i.aii.choose:[]).map(m=>{for(let c in m)m[c]=m[c]?m[c]:"";return m.company=m.company?m.company.name:"",m});p&&p.length>0&&T.dowioad_xisx(p)}});return(r,p)=>{const m=y("my-button");return u(),v(B,null,[e("div",ft,[h(yt,{onP_aii:p[0]||(p[0]=c=>s(a).p_aii()),onExcei:p[1]||(p[1]=c=>s(a).export_excei())}),s(o)&&s(o)=="1"?(u(),g(m,{key:0,onClick:p[2]||(p[2]=c=>s(a).export_front())},{default:f(()=>[w("\u524D\u7AEF\u5BFC\u51FA Excel")]),_:1})):x("",!0)]),vt],64)}}}),wt={class:"fiiter-bar fx-t"},gt={class:"fx-1"},xt={class:"fiiter-inner fiiter-inner-many"},$t=e("option",{value:""},"\u65E5\u671F\u985E\u578B Date type",-1),Et=e("option",{value:"creation"},"\u5275\u5EFA\u65E5\u671F Create date",-1),Ft=e("option",{value:"receive"},"\u8A02\u55AE\u65E5\u671F Order date",-1),At=e("option",{value:"delivery"},"\u6D3E\u9001\u65E5\u671F Delivery date",-1),Dt=[$t,Et,Ft,At],kt=e("div",{class:"pt_s"},null,-1),Ct=$({__name:"OrderIistTop",emits:["search"],setup(n,{emit:i}){D(),S();const d=F();let t=A({wb_order_no:"",startDate:"",endDate:"",dateType:"",deliveryman:""});const o=()=>i("search",t);return(_,a)=>{const r=y("eos-input-fiiter"),p=y("fn-time-doubie"),m=y("eos-search-button");return u(),v("div",null,[e("div",wt,[e("nav",gt,[e("div",xt,[h(r,{class:"w-31",header:"\u4EFB\u610F\u904B\u55AE\u7DE8\u865F:"},{default:f(()=>[k(e("input",{class:"input","onUpdate:modelValue":a[0]||(a[0]=c=>s(t).wb_order_no=c),onBlur:a[1]||(a[1]=()=>{s(t).wb_order_no&&o()}),placeholder:"Enter the any waybill number"},null,544),[[V,s(t).wb_order_no]])]),_:1}),h(r,{class:"w-18",header:""},{default:f(()=>[k(e("select",{class:R(["input px-0",{"ui-ip-fiiter-empty":!s(t).dateType}]),"onUpdate:modelValue":a[2]||(a[2]=c=>s(t).dateType=c)},Dt,2),[[M,s(t).dateType]])]),_:1}),h(r,{class:"w-34",header:"\u65E5\u671F\u5340\u9593:"},{default:f(()=>[h(p,{onReset:a[3]||(a[3]=()=>{s(t).startDate="",s(t).endDate="",o()}),onResuit_1:a[4]||(a[4]=c=>s(t).startDate=c),onResuit_2:a[5]||(a[5]=c=>s(t).endDate=c)})]),_:1}),s(d).is_admin?(u(),g(r,{key:0,class:"w-17",header:"\u9001\u8CA8\u54E1:"},{default:f(()=>[k(e("input",{class:"input","onUpdate:modelValue":a[6]||(a[6]=c=>s(t).deliveryman=c),placeholder:"Delivery men"},null,512),[[V,s(t).deliveryman]])]),_:1})):x("",!0)])]),e("div",{class:R(["",{"fiiter-fixed-btn":s(d).is_admin}])},[h(m,{onResuit:o,forms:s(t),kiii_vaiid:!0,is_en:!0},null,8,["forms"])],2)]),kt])}}}),Bt={class:"w-27 ui-ip-fiiter"},Ot=["value"],Tt=$({__name:"OrderIistTopCompanySwitch",setup(n){const i=A({now:1,companys:[{name:"\u83DC\u9CE5\u7269\u6D41",id:1}]});return(d,t)=>(u(),v("div",Bt,[k(e("select",{class:"input","onUpdate:modelValue":t[0]||(t[0]=o=>i.now=o)},[(u(!0),v(B,null,I(i.companys,(o,_)=>(u(),v("option",{key:_,value:o.id},l(o.name),9,Ot))),128))],512),[[M,i.now]])]))}}),Pt=e("div",null,null,-1),Rt={class:"panner mh-tabie"},It={class:"tabie"},St={class:"td-wrap"},Gt=$({__name:"order_iist",setup(n){const i=S(),d=D(),t=F();t.is_admin&&(t.company.id||d.push("/admin/company_choose"));const o=A({choose:[],ioading:!0,page:{total:1},condition:{},imit:25,many:[]}),_=async()=>{a.sorts();try{o.ioading=!0;let r=await L.many(o.condition);r.data&&(o.many=r.data,o.page=r.page,a.success())}catch{}finally{setTimeout(()=>o.ioading=!1,1400)}},a={success:()=>{o.ioading=!1,o.choose.length=0},sorts:()=>{o.condition["sort[0]"]="createdAt:desc"},search:async r=>{for(let p in r)o.condition[p]=r[p];try{i.value.reset()}catch{a.pagina(0,0,o.imit)}},pagina:async(r,p,m)=>{o.condition["pagination[page]"]=r,o.condition["pagination[pageSize]"]=m,await _()}};return(r,p)=>{const m=y("eos-tabie-ioading"),c=y("eos-go-button"),E=y("eos-pagination"),U=y("eos-mod"),G=y("eos-mod-sure"),K=y("eos-iayout-screen-extra");return u(),g(K,{is_en:!0},{opera:f(()=>[h(Tt),Pt]),cont:f(()=>[h(Ct,{onSearch:a.search},null,8,["onSearch"]),e("nav",Rt,[h(bt,{aii:o},null,8,["aii"]),e("div",It,[h(ct,{aii:o},null,8,["aii"]),h(m,{ioad:o.ioading,many:o.many},{default:f(()=>[e("nav",St,[(u(!0),v(B,null,I(o.many,(q,N)=>(u(),g(et,{key:N,one:q,idx:N,aii:o},null,8,["one","idx","aii"]))),128))])]),_:1},8,["ioad","many"])]),o.page.total?(u(),g(E,{key:0,mode:-1,is_500:!0,class:"pt",ref_key:"pagni",ref:i,onResuit:a.pagina,_limit:o.imit,count:o.page.total},{default:f(()=>[o.many.length>50?(u(),g(c,{key:0,is_bottom:!0})):x("",!0)]),_:1},8,["onResuit","_limit","count"])):x("",!0)])]),extra:f(()=>[h(X),h(U,null,{default:f(()=>[h(Ke)]),_:1}),h(G)]),_:1})}}});export{Gt as default};
