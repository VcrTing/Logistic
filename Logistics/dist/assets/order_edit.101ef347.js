import{d as A,A as v,g as y,l as f,o as h,c as F,a as s,h as l,w as n,b as g,t as b,y as d,B as _,F as C,i as U,f as D,m as P,e as $,u as x,J as R,E as O,L as k,K as N}from"./index.2bd7e1a2.js";const T={class:"py f-row"},j={class:"py f-row"},S={class:"py f-row"},W={class:"py f-row"},G=s("span",{class:"ip-unit"},"kg",-1),J={class:"py f-row"},K={class:"py f-row"},L=A({__name:"OrderEditBase",setup(B,{expose:m}){const r=v(),e=y({create_date:"",cf_waybill_no:"",waybill_no:"",order_id:"",order_group:"",receipt_date:"",product_content:"",remarks:"",weight:"",total_item_count:""}),p=y({create_date:!1,waybill_no:!1,order_id:!1,order_group:!1,product_content:!1}),c=function(){let t=!0;if(e.waybill_no)p.waybill_no=!1;else return p.waybill_no=!0,!1;if(e.order_id)p.order_id=!1;else return p.order_id=!0,!1;if(e.order_group)p.order_group=!1;else return p.order_group=!0,!1;return Object.values(p).map(a=>{a&&(t=!1)}),t};return m({resuit:()=>c()?e:void 0,reset:t=>{for(let a in e)e[a]=t[a];r.value.ioc(t.receipt_date)}}),(t,a)=>{const u=f("eos-input"),o=f("fn-time");return h(),F(C,null,[s("div",T,[l(u,{class:"w-50 w-50-p",is_err:!1,header:"\u5275\u5EFA\u65E5\u671F Order date",is_txt_mode:!0},{default:n(()=>[g(b(e.create_date),1)]),_:1}),l(u,{class:"w-50 w-50-p",is_err:!1,header:"\u7FD4\u70FD\u904B\u55AE\u7DE8\u865F CF waybill number",is_txt_mode:!0},{default:n(()=>[g(b(e.cf_waybill_no),1)]),_:1})]),s("div",j,[l(u,{class:"w-50 w-50-p",is_err:p.waybill_no,header:"\u5BA2\u6236\u904B\u55AE\u7DE8\u865F Waybill number"},{default:n(()=>[d(s("input",{class:"input","onUpdate:modelValue":a[0]||(a[0]=i=>e.waybill_no=i),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[_,e.waybill_no]])]),_:1},8,["is_err"]),l(u,{class:"w-50 w-50-p",is_err:p.order_id,header:"\u8A02\u55AE\u7DE8\u865F Order No."},{default:n(()=>[d(s("input",{class:"input","onUpdate:modelValue":a[1]||(a[1]=i=>e.order_id=i),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[_,e.order_id]])]),_:1},8,["is_err","header"])]),s("div",S,[l(u,{class:"w-50 w-50-p",is_err:p.order_group,header:"\u8A02\u55AE\u7D44 Group"},{default:n(()=>[d(s("input",{class:"input","onUpdate:modelValue":a[2]||(a[2]=i=>e.order_group=i),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[_,e.order_group]])]),_:1},8,["is_err"]),l(u,{class:"w-50 w-50-p",is_err:!1,header:"\u6536\u4EF6\u65E5\u671F Receipt date"},{default:n(()=>[l(o,{timed:e.receipt_date,ref_key:"dateRef",ref:r,onResuit:a[3]||(a[3]=i=>e.receipt_date=i)},null,8,["timed"])]),_:1})]),s("div",W,[l(u,{class:"w-50 w-50-p",is_err:!1,header:"\u4EF6\u6578 Package"},{default:n(()=>[d(s("input",{class:"input",type:"number","onUpdate:modelValue":a[4]||(a[4]=i=>e.total_item_count=i),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[_,e.total_item_count]])]),_:1}),l(u,{class:"w-50 w-50-p ip-weight",is_err:!1,header:"\u91CD\u91CF Weight"},{default:n(()=>[d(s("input",{class:"input",type:"number","onUpdate:modelValue":a[5]||(a[5]=i=>e.weight=i),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[_,e.weight]]),G]),_:1})]),s("div",J,[l(u,{class:"w-100 w-100-p",is_err:p.product_content,header:"\u8CA8\u54C1\u5167\u5BB9 Product detail"},{default:n(()=>[d(s("input",{class:"input","onUpdate:modelValue":a[6]||(a[6]=i=>e.product_content=i),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[_,e.product_content]])]),_:1},8,["is_err"])]),s("div",K,[l(u,{class:"w-100",is_err:!1,header:"\u5099\u8A3B Remark"},{default:n(()=>[d(s("input",{class:"input","onUpdate:modelValue":a[7]||(a[7]=i=>e.remarks=i),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[_,e.remarks]])]),_:1})])],64)}}}),M={class:"py f-row"},q={class:"py f-row"},z={class:"py f-row"},H={class:"py f-row"},I=A({__name:"OrderEditDetaii",setup(B,{expose:m}){const r=y({weight:"",total_item_count:"",car_park:"",tunnel_fee:"",misc_fee:"",floor_count:"",collection_payment:"",delivery_date:"",delivery_charge:"",delivery_men:""}),e=y({weight:!1,total_item_count:!1,car_park:!1,tunnel_fee:!1,misc_fee:!1,floor_count:!1,collection_payment:!1,delivery_charge:!1}),p=function(){let c=!0;if(r.weight)e.weight=!1;else return e.weight=!0,!1;if(r.total_item_count)e.total_item_count=!1;else return e.total_item_count=!0,!1;return Object.values(e).map(t=>{t&&(c=!1)}),c};return m({resuit:()=>p()?r:void 0,reset:c=>{for(let t in r)r[t]=c[t]}}),(c,t)=>{const a=f("fn-time"),u=f("eos-input");return h(),F(C,null,[s("div",M,[l(u,{class:"w-50 w-50-p",is_err:!1,header:"\u9001\u8CA8\u65E5\u671F Delivery date"},{default:n(()=>[l(a,{timed:r.delivery_date,ref:"dateRef",onResuit:t[0]||(t[0]=o=>r.delivery_date=o)},null,8,["timed"])]),_:1}),U(D)().is_admin?(h(),P(u,{key:0,class:"w-50 w-50-p",is_err:!1,header:"\u9001\u8CA8\u5458 Delivery men"},{default:n(()=>[d(s("input",{class:"input","onUpdate:modelValue":t[1]||(t[1]=o=>r.delivery_men=o),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[_,r.delivery_men]])]),_:1})):$("",!0)]),s("div",q,[l(u,{class:"w-50 w-50-p",is_err:e.car_park,header:"\u505C\u8ECA\u5834 Parking"},{default:n(()=>[d(s("input",{class:"input",type:"number","onUpdate:modelValue":t[2]||(t[2]=o=>r.car_park=o),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[_,r.car_park]])]),_:1},8,["is_err"]),l(u,{class:"w-50 w-50-p",is_err:e.tunnel_fee,header:"\u96A7\u9053\u8CBB Tunnel fee"},{default:n(()=>[d(s("input",{class:"input",type:"number","onUpdate:modelValue":t[3]||(t[3]=o=>r.tunnel_fee=o),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[_,r.tunnel_fee]])]),_:1},8,["is_err"])]),s("div",z,[l(u,{class:"w-50 w-50-p",is_err:e.misc_fee,header:"\u96DC\u8CBB Other charges"},{default:n(()=>[d(s("input",{class:"input",type:"number","onUpdate:modelValue":t[4]||(t[4]=o=>r.misc_fee=o),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[_,r.misc_fee]])]),_:1},8,["is_err"]),l(u,{class:"w-50 w-50-p",is_err:e.floor_count,header:"\u6A13\u68AF\u5C64\u6578 Stairs floor"},{default:n(()=>[d(s("input",{class:"input",type:"number","onUpdate:modelValue":t[5]||(t[5]=o=>r.floor_count=o),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[_,r.floor_count]])]),_:1},8,["is_err"])]),s("div",H,[l(u,{class:"w-50 w-50-p",is_err:e.delivery_charge,header:"\u904B\u8CBB Delivery charges"},{default:n(()=>[d(s("input",{class:"input",type:"number","onUpdate:modelValue":t[6]||(t[6]=o=>r.delivery_charge=o),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[_,r.delivery_charge]])]),_:1},8,["is_err"]),l(u,{class:"w-50 w-50-p",is_err:e.collection_payment,header:"\u4EE3\u6536\u8D27\u6B3E Collection Payment"},{default:n(()=>[d(s("input",{class:"input",type:"number","onUpdate:modelValue":t[7]||(t[7]=o=>r.collection_payment=o),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[_,r.collection_payment]])]),_:1},8,["is_err"])])],64)}}}),Q={class:"py f-row"},X={class:"py f-row"},Y={class:"py f-row"},Z={class:"py f-row"},ee=A({__name:"OrderEditReciver",setup(B,{expose:m}){const r=y({customer_name:"",customer_phone_no:"",district:"",area:"",address:"",route:""}),e=y({customer_name:!1,customer_phone_no:!1,district:!1,area:!1,address:!1,route:!1}),p=function(){let c=!0;if(r.customer_name)e.customer_name=!1;else return e.customer_name=!0,!1;if(r.address)e.address=!1;else return e.address=!0,!1;return Object.values(e).map(t=>{t&&(c=!1)}),c};return m({resuit:()=>p()?r:void 0,reset:c=>{for(let t in r)r[t]=c[t]}}),(c,t)=>{const a=f("eos-input");return h(),F(C,null,[s("div",Q,[l(a,{class:"w-50 w-50-p",is_err:e.customer_name,header:"\u6536\u4EF6\u4EBA\u540D\u79F0 Recipient name"},{default:n(()=>[d(s("input",{class:"input","onUpdate:modelValue":t[0]||(t[0]=u=>r.customer_name=u),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[_,r.customer_name]])]),_:1},8,["is_err"]),l(a,{class:"w-50 w-50-p",is_err:e.customer_phone_no,header:"\u6536\u4EF6\u4EBA\u96FB\u8A71\u865F\u78BC Tel."},{default:n(()=>[d(s("input",{class:"input","onUpdate:modelValue":t[1]||(t[1]=u=>r.customer_phone_no=u),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[_,r.customer_phone_no]])]),_:1},8,["is_err","header"])]),s("div",X,[l(a,{class:"w-50 w-50-p",is_err:e.district,header:"\u5730\u5340 District"},{default:n(()=>[d(s("input",{class:"input","onUpdate:modelValue":t[2]||(t[2]=u=>r.district=u),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[_,r.district]])]),_:1},8,["is_err"]),l(a,{class:"w-50 w-50-p",is_err:e.area,header:"\u5340\u57DF Area"},{default:n(()=>[d(s("input",{class:"input","onUpdate:modelValue":t[3]||(t[3]=u=>r.area=u),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[_,r.area]])]),_:1},8,["is_err"])]),s("div",Y,[l(a,{class:"w-100 w-100-p",is_err:e.address,header:"\u5730\u5740\u8A73\u60C5 Address"},{default:n(()=>[d(s("textarea",{class:"input","onUpdate:modelValue":t[4]||(t[4]=u=>r.address=u),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[_,r.address]])]),_:1},8,["is_err"])]),s("div",Z,[l(a,{class:"w-50 w-50-p",is_err:e.route,header:"\u8DEF\u7EBF Route"},{default:n(()=>[d(s("input",{class:"input","onUpdate:modelValue":t[5]||(t[5]=u=>r.route=u),placeholder:"\u8ACB\u8F38\u5165 Please enter"},null,512),[[_,r.route]])]),_:1},8,["is_err"])])],64)}}}),te=s("div",{class:"py_row"},null,-1),re=s("div",{class:"py_row"},null,-1),ue=A({__name:"order_edit",setup(B){const m=x(),r=v(),e=v(),p=v(),c=R().order,t=async()=>{c.id||u();const o=await k.one(c.id);o.receipt_date=o.receipt_date?o.receipt_date:N.now(),r.value.reset(o),e.value.reset(o),p.value.reset(o),console.log("\u4E00\u4E2A\u8BA2\u5355 =",o)},a=async function(){const o=r.value.resuit(),i=e.value.resuit(),w=p.value.resuit();console.log(o,i,w),o&&i&&w&&await k.edit({...o,...i,...w},c.id)&&u()};O(async()=>{await t()});const u=()=>m.push("/admin/order_iist");return(o,i)=>{const w=f("eos-form-paner"),E=f("eos-iayout-form"),V=f("eos-iayout-screen");return h(),P(V,{is_en:!0,onBack:u},{default:n(()=>[l(E,{is_en:!0,onSubmit:a,onBack:u},{default:n(()=>[l(w,{tit:"\u57FA\u672C\u4FE1\u606F Basic information"},{default:n(()=>[l(L,{ref_key:"base",ref:r},null,512)]),_:1}),te,l(w,{tit:"\u8A02\u55AE\u8A73\u60C5 Order details"},{default:n(()=>[l(I,{ref_key:"detaii",ref:p},null,512)]),_:1}),re,l(w,{tit:"\u6536\u4EF6\u4EBA\u4FE1\u606F Recipient information"},{default:n(()=>[l(ee,{ref_key:"reciv",ref:e},null,512)]),_:1})]),_:1})]),_:1})}}});export{ue as default};
