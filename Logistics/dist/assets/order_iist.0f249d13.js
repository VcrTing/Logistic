import{d as $,o as u,c as b,a as e,i as n,h,t as d,b as w,M as O,e as x,A as z,B as H,_ as J,N as D,g as k,p as y,m as g,w as f,F as P,r as V,k as L,f as F,u as A,y as C,n as T,L as j,s as R,O as M,q as B,J as N,v as Q,P as q}from"./index.cfdd819b.js";import{_ as X}from"./JsBarcode.vue_vue_type_script_setup_true_lang.f0c78381.js";import{L as Y}from"./ICON_CF_S.c52d5a84.js";import{_ as Z}from"./OrderIistFixedPanner.vue_vue_type_script_setup_true_lang.654786c6.js";import{_ as ee}from"./EosCompanySwitchDrop.vue_vue_type_script_setup_true_lang.dece6ba4.js";import"./CoOrderFpCont.vue_vue_type_script_setup_true_lang.eebbd827.js";import"./company.1202c262.js";const v=o=>(z("data-v-cd318f3c"),o=o(),H(),o),te={class:"fx-c eos-oop-wrapper pt_s"},oe={class:"eos-order-one-pdf"},ne={border:"1",cellspacing:"0"},se={width:"24%",style:{padding:"0.3em 0.5em"}},ie=["src"],ae=v(()=>e("td",{class:"t_c"},[e("h1",null,"\u7FD4\u70FD\u7269\u6D41"),e("h4",null,"Cheung Fung Logistics Limited")],-1)),_e={colspan:"2"},de=v(()=>e("p",null,"\u7FD4\u70FD\u904B\u55AE\u7DE8\u865F CF waybill number:",-1)),ue={class:"t_c pt_1"},le={class:"eoop_center_tabie",border:"1",cellspacing:"0"},re={rowspan:"3",width:"54%",class:"t_t"},ce=v(()=>e("p",{class:"pt_1"},"\u6D3E\u9001\u5730\u5740 Ddelivery address:",-1)),pe={class:"ih-h4 eiip_x4"},me=v(()=>e("p",null,"\u6536\u4EF6\u4EBA To :",-1)),he=v(()=>e("p",null,"\u6536\u4EF6\u4EBA\u96FB\u8A71 Tel :",-1)),ye=v(()=>e("p",null,"\u5BA2\u6236\u904B\u55AE\u7DE8\u865F Waybill number :",-1)),fe={key:0,class:"n eiip_x1"},ve={key:1,class:"n eiip_x1"},be={class:"eoop_center_tabie",border:"1",cellspacing:"0"},we={colspan:"3"},ge=v(()=>e("p",null,"\u5BC4\u4EF6\u4EBA\u8CC7\u6599 FROM :",-1)),xe={class:"ih-h4"},$e={width:"41%"},Ee=v(()=>e("p",null,"\u8A02\u55AE\u7D44 Order group :",-1)),Fe={width:"28%"},Ae=v(()=>e("p",null,"\u91CD\u91CF Weight :",-1)),De=v(()=>e("p",null,"\u5730\u5340 District :",-1)),ke=v(()=>e("p",null,"\u8A02\u55AE\u7DE8\u865F Order No. :",-1)),Ce={key:0,class:"n"},Be={key:1,class:"n eiip_x1"},Oe=v(()=>e("p",null,"\u4EF6\u6578 Package :",-1)),Te=v(()=>e("p",null,"\u8DEF\u7DDA Route :",-1)),Pe={class:"eoop_center_tabie",border:"1",cellspacing:"0"},Re={width:"54%"},Ie=v(()=>e("p",null,"\u904B\u8CBB Delivery charge:",-1)),Se={key:0,style:{display:"inline-block"}},Ne=v(()=>e("p",null,"\u4EE3\u6536\u8CA8\u6B3E Collection payment:",-1)),Ve={key:0,style:{display:"inline-block"}},Le={class:"",colspan:"2"},Me=v(()=>e("p",null,"\u5099\u8A3B Note:",-1)),qe={class:"mh_5 eiip_x4 ih-h4 pb_1"},Ue=$({__name:"CoPdfOrderOne",props:{one:null,idx:null},setup(o){const a=o,m=()=>a.one.company?a.one.company.name:"",t=(l,s="- -")=>a.one[l]?a.one[l]:s;return(l,s)=>(u(),b("div",te,[e("div",oe,[e("table",ne,[e("tr",null,[e("td",se,[e("img",{class:"w-100",src:n(Y)},null,8,ie)]),ae]),e("tr",null,[e("td",_e,[de,e("div",ue,[h(X,{class:"barcode",w:420,idx:o.idx,code:o.one.cf_waybill_no},null,8,["idx","code"])])])])]),e("table",le,[e("tr",null,[e("td",re,[ce,e("h4",pe,d(t("address")),1)]),e("td",null,[me,e("h4",null,d(t("customer_name")),1)])]),e("tr",null,[e("td",null,[he,e("h4",null,d(t("customer_phone_no")),1)])]),e("tr",null,[e("td",null,[ye,o.one.waybill_no.length<19?(u(),b("h4",fe,d(t("waybill_no")),1)):(u(),b("h6",ve,d(t("waybill_no")),1))])])]),e("table",be,[e("tr",null,[e("td",we,[ge,e("h4",xe,d(m())+"\xA0 ",1)])]),e("tr",null,[e("td",$e,[Ee,e("h4",null,d(t("order_group")),1)]),e("td",Fe,[Ae,e("h4",null,d(t("weight","0"))+"\xA0KG",1)]),e("td",null,[De,e("h4",null,d(t("district")),1)])]),e("tr",null,[e("td",null,[ke,o.one.order_id.length<19?(u(),b("h4",Ce,d(t("order_id")),1)):(u(),b("h6",Be,d(t("order_id")),1))]),e("td",null,[Oe,e("h4",null,d(t("count_now"))+"/"+d(t("total_item_count")),1)]),e("td",null,[Te,e("h4",null,d(t("route")),1)])])]),e("table",Pe,[e("tr",null,[e("td",Re,[Ie,e("h4",null,[w("HK$\xA0"),t("delivery_charge","")?(u(),b("div",Se,d(n(O).money(t("delivery_charge",""))),1)):x("",!0)])]),e("td",null,[Ne,e("h4",null,[w("HK$\xA0"),t("collection_payment","")?(u(),b("div",Ve,d(n(O).money(t("collection_payment",""))),1)):x("",!0)])])]),e("tr",null,[e("td",Le,[Me,e("h4",qe,d(t("remarks")),1)])])])])]))}});const Ge=J(Ue,[["__scopeId","data-v-cd318f3c"]]),Ke={class:"pr sub"},We=e("span",null,"\xA0",-1),ze=$({__name:"OrderOnePrintMod",setup(o){const a=D().order,m=k({many:[],ioading:!0});return(()=>{D().do_orders([a]),m.many=[];const l=a.total_item_count;for(let s=0;s<l;s++)a.count_now=s+1,m.many.push({...a});setTimeout(()=>m.ioading=!1,100)})(),(l,s)=>{const i=y("eos-tabie-ioading"),p=y("cp-pdfs-button"),_=y("my-button"),r=y("eos-panner-print");return u(),g(r,null,{cont:f(()=>[h(i,{many:m.many,ioad:m.ioading},{default:f(()=>[(u(!0),b(P,null,V(m.many,(c,E)=>(u(),b("div",{class:"pb_x3 fx-s fx-t",key:E},[e("span",Ke,d(c.count_now)+" / "+d(c.total_item_count),1),h(Ge,{class:"__qiong_printed_ciass",one:c,idx:E},null,8,["one","idx"]),We]))),128))]),_:1},8,["many","ioad"])]),bar:f(()=>[m.many&&m.many.length>0?(u(),g(p,{key:0,ref:"pdfs",doms:"__qiong_printed_ciass"},null,512)):(u(),g(_,{key:1,onClick:s[0]||(s[0]=()=>{n(L)().do_mod(0)}),typed:"pri-tin"},{default:f(()=>[w("\u95DC\u9589")]),_:1}))]),_:1})}}}),He={class:"w-9"},Je={class:"w-14 pr_s"},je={class:"w-12 pr_s"},Qe={class:"w-9 pr_s"},Xe={class:"w-11 pr_s"},Ye={class:"w-10 pr"},Ze={class:"w-10 pr_s"},et={class:"w-10"},tt={class:"w-8 pr_s"},ot={class:"w-7 fx-r"},nt=$({__name:"OrderIistTd",props:{idx:null,one:null,aii:null},setup(o){const a=L(),m=F().is_admin,t=D(),l=A();return(s,i)=>{const p=y("eos-tabie-opera"),_=y("eos-tabie-choose-item-td");return u(),b("div",{class:T(["td",{"td-focus-err":o.one.is_new}])},[h(_,{one:o.one,aii:o.aii},{default:f(()=>[e("div",He,d(n(C).view_time(o.one.create_date,"/")),1),e("div",Je,d(o.one.cf_waybill_no),1),e("div",je,d(o.one.waybill_no),1),e("div",Qe,d(o.one.order_group),1),e("div",Xe,[e("div",{onClick:i[0]||(i[0]=()=>{n(t).do_order(o.one),n(a).do_panner(1),n(t).read(o.one.id,o.one.is_new),o.one.is_new=!1}),class:"pri hand"},d(o.one.order_id),1)]),e("div",Ye,d(n(C).view_time(o.one.delivery_date,"/")),1),e("div",Ze,d(n(C).view_time(o.one.receipt_date,"/")),1),e("div",et,d(o.one.customer_name),1),e("div",tt,d(o.one.customer_phone_no),1),e("div",ot,[h(p,{vais:n(m)?"trash_edit_print":"edit_print",is_icon:!0,onEdit:i[1]||(i[1]=()=>{n(t).do_order(o.one),n(l).push("/admin/order_iist/edit")}),onTrash:i[2]||(i[2]=()=>{n(t).do_order(o.one),n(a).do_mod(-200)}),onPrint:i[3]||(i[3]=()=>{n(t).do_order(o.one),n(a).do_mod(1),n(t).do_orders_print([o.one]),n(t).read(o.one.id,o.one.is_new),o.one.is_new=!1})},null,8,["vais"])])]),_:1},8,["one","aii"])],2)}}}),st={class:"tr"},it=e("div",{class:"w-9"},[w(" \u5275\u5EFA\u65E5\u671F"),e("br"),e("p",{class:"tr-en"},"Create date")],-1),at=e("div",{class:"w-14"},[w(" \u7FD4\u70FD\u904B\u55AE\u865F\u78BC"),e("br"),e("p",{class:"tr-en"},"CF waybill number")],-1),_t=e("div",{class:"w-12"},[w(" \u5BA2\u6236\u904B\u55AE\u7DE8\u865F"),e("br"),e("p",{class:"tr-en"},"Waybill number")],-1),dt=e("div",{class:"w-9"},[w(" \u8A02\u55AE\u7D44"),e("br"),e("p",{class:"tr-en"},"Group")],-1),ut=e("div",{class:"w-11"},[w(" \u8A02\u55AE\u7DE8\u865F"),e("br"),e("p",{class:"tr-en"},"Order No.")],-1),lt=e("div",{class:"w-10"},[w(" \u6D3E\u9001\u65E5\u671F"),e("br"),e("p",{class:"tr-en"},"Delivery date")],-1),rt=e("div",{class:"w-10"},[w(" \u8A02\u55AE\u65E5\u671F"),e("br"),e("p",{class:"tr-en"},"Order date")],-1),ct=e("div",{class:"w-10"},[w(" \u6536\u4EF6\u4EBA"),e("br"),e("p",{class:"tr-en"},"Recipient")],-1),pt=e("div",{class:"w-8"},[w(" \u6536\u4EF6\u96FB\u8A71"),e("br"),e("p",{class:"tr-en"},"Phone")],-1),mt={class:"w-7 fx-r"},ht=$({__name:"OrderIistTr",props:{aii:null},setup(o){return(a,m)=>{const t=y("eos-go-button"),l=y("eos-tabie-choose-item-tr");return u(),b("nav",st,[h(l,{aii:o.aii},{default:f(()=>[it,at,_t,dt,ut,lt,rt,ct,pt,e("div",mt,[o.aii.many.length>30?(u(),g(t,{key:0})):x("",!0)])]),_:1},8,["aii"])])}}}),yt={class:"fx-l"},ft=e("span",{class:"px_s"},null,-1),vt=e("i",{class:"bi bi-plus-lg"},null,-1),bt=$({__name:"CpTabiePdfBar",emits:["p_aii","excei"],setup(o){const a=A(),m=F();return(t,l)=>{const s=y("eos-print-drop"),i=y("my-button");return u(),b("div",yt,[h(s,null,{default:f(()=>[e("button",{onClick:l[0]||(l[0]=p=>t.$emit("p_aii"))},"\u5168\u90E8 All")]),_:1}),ft,n(m).is_admin?x("",!0):(u(),g(i,{key:0,typed:"pri-out",onClick:l[1]||(l[1]=p=>n(a).push("/admin/custom_order_iist/upioad_order_in_buik"))},{default:f(()=>[vt,w(" \u6279\u91CF\u4E0A\u50B3\u8A02\u55AE Upload orders in bulk ")]),_:1})),n(m).is_admin?(u(),g(i,{key:1,typed:"pri-out",icon:"bi-file-earmark-excel",onClick:l[2]||(l[2]=p=>t.$emit("excei"))},{default:f(()=>[w("\u5C0E\u51FA Excel Export Excel")]),_:1})):x("",!0)])}}}),wt={class:"fx-s"},gt=e("div",{class:"py_t"},null,-1),xt=$({__name:"OrderIistBar",props:{aii:null},setup(o){const a=o,t=j().query,l=R(t==null?void 0:t.is_deveiop);F();const s=A(),i=k({p_aii:()=>{D().do_orders_print(a.aii.choose),s.push("/admin/order_iist/print_muiti")},export_excei:async()=>{const p=[],_=F().company.uuid,r=a.aii?a.aii.choose:[];r&&r.length>0&&r.map(c=>{const E=c.cf_waybill_no;E&&p.push(E+"")}),_&&p.length>0&&M.excei(p,_+"")},export_front:()=>{const _=(a.aii?a.aii.choose:[]).map(r=>{for(let c in r)r[c]=r[c]?r[c]:"";return r.company=r.company?r.company.name:"",r});_&&_.length>0&&O.dowioad_xisx(_)}});return(p,_)=>{const r=y("my-button");return u(),b(P,null,[e("div",wt,[h(bt,{onP_aii:_[0]||(_[0]=c=>n(i).p_aii()),onExcei:_[1]||(_[1]=c=>n(i).export_excei())}),n(l)&&n(l)=="1"?(u(),g(r,{key:0,onClick:_[2]||(_[2]=c=>n(i).export_front())},{default:f(()=>[w("\u524D\u7AEF\u5BFC\u51FA Excel")]),_:1})):x("",!0)]),gt],64)}}}),$t={class:"fiiter-bar fx-t"},Et={class:"fx-1"},Ft={class:"fiiter-inner fiiter-inner-many"},At=e("option",{value:""},"\u65E5\u671F\u985E\u578B Date type",-1),Dt=e("option",{value:"creation"},"\u5275\u5EFA\u65E5\u671F Create date",-1),kt=e("option",{value:"receive"},"\u8A02\u55AE\u65E5\u671F Order date",-1),Ct=e("option",{value:"delivery"},"\u6D3E\u9001\u65E5\u671F Delivery date",-1),Bt=[At,Dt,kt,Ct],Ot=e("div",{class:"pt_s"},null,-1),Tt=$({__name:"OrderIistTop",emits:["search"],setup(o,{emit:a}){A(),R();const m=F();let t=k({wb_order_no:"",startDate:"",endDate:"",dateType:"",deliveryman:""});const l=()=>a("search",t);return(s,i)=>{const p=y("eos-input-fiiter"),_=y("fn-time-doubie"),r=y("eos-search-button");return u(),b("div",null,[e("div",$t,[e("nav",Et,[e("div",Ft,[h(p,{class:"w-31",header:"\u4EFB\u610F\u904B\u55AE\u7DE8\u865F:"},{default:f(()=>[B(e("input",{class:"input","onUpdate:modelValue":i[0]||(i[0]=c=>n(t).wb_order_no=c),onBlur:i[1]||(i[1]=()=>{n(t).wb_order_no&&l()}),placeholder:"Enter the any waybill number"},null,544),[[N,n(t).wb_order_no]])]),_:1}),h(p,{class:"w-18",header:""},{default:f(()=>[B(e("select",{class:T(["input px-0",{"ui-ip-fiiter-empty":!n(t).dateType}]),"onUpdate:modelValue":i[2]||(i[2]=c=>n(t).dateType=c)},Bt,2),[[Q,n(t).dateType]])]),_:1}),h(p,{class:"w-34",header:"\u65E5\u671F\u5340\u9593:"},{default:f(()=>[h(_,{onReset:i[3]||(i[3]=()=>{n(t).startDate="",n(t).endDate="",l()}),onResuit_1:i[4]||(i[4]=c=>n(t).startDate=c),onResuit_2:i[5]||(i[5]=c=>n(t).endDate=c)})]),_:1}),n(m).is_admin?(u(),g(p,{key:0,class:"w-17",header:"\u9001\u8CA8\u54E1:"},{default:f(()=>[B(e("input",{class:"input","onUpdate:modelValue":i[6]||(i[6]=c=>n(t).deliveryman=c),placeholder:"Delivery men"},null,512),[[N,n(t).deliveryman]])]),_:1})):x("",!0)])]),e("div",{class:T(["",{"fiiter-fixed-btn":n(m).is_admin}])},[h(r,{onResuit:l,forms:n(t),kiii_vaiid:!0,is_en:!0},null,8,["forms"])],2)]),Ot])}}}),Pt=$({__name:"OrderIistTopCompanySwitch",emits:["refresh"],setup(o){const a=F();return q(),(m,t)=>n(a).is_admin?(u(),g(ee,{key:0,onResuit:t[0]||(t[0]=l=>{m.$emit("refresh")})})):x("",!0)}}),Rt=e("div",null,null,-1),It={class:"panner mh-tabie"},St={class:"tabie"},Nt={class:"td-wrap"},Wt=$({__name:"order_iist",setup(o){const a=R(),m=A(),t=F(),l=q();t.is_admin&&(l.company.id||m.push("/admin/company_choose"));const s=k({choose:[],who:0,ioading:!0,page:{total:1},condition:{},imit:25,many:[]}),i=async()=>{p.sorts();try{s.ioading=!0;let _=await M.many(s.condition);_.data&&(s.many=_.data,s.page=_.page,p.success())}catch{}finally{setTimeout(()=>s.ioading=!1,1400)}},p={success:()=>{s.ioading=!1,s.choose.length=0},sorts:()=>{s.condition["sort[0]"]="createdAt:desc"},search:async _=>{for(let r in _)s.condition[r]=_[r];try{a.value.reset()}catch{p.pagina(0,0,s.imit)}},pagina:async(_,r,c)=>{s.condition["pagination[page]"]=_,s.condition["pagination[pageSize]"]=c,await i()},trash:async()=>{console.log("who =",s.who)}};return(_,r)=>{const c=y("eos-tabie-ioading"),E=y("eos-go-button"),U=y("eos-pagination"),G=y("eos-mod"),K=y("eos-mod-sure"),W=y("eos-iayout-screen-extra");return u(),g(W,{is_en:!0},{opera:f(()=>[h(Pt,{onRefresh:r[0]||(r[0]=I=>p.pagina(0,0,s.imit))}),Rt]),cont:f(()=>[h(Tt,{onSearch:p.search},null,8,["onSearch"]),e("nav",It,[h(xt,{aii:s},null,8,["aii"]),e("div",St,[h(ht,{aii:s},null,8,["aii"]),h(c,{ioad:s.ioading,many:s.many},{default:f(()=>[e("nav",Nt,[(u(!0),b(P,null,V(s.many,(I,S)=>(u(),g(nt,{key:S,one:I,idx:S,aii:s},null,8,["one","idx","aii"]))),128))])]),_:1},8,["ioad","many"])]),s.page.total?(u(),g(U,{key:0,mode:-1,is_500:!0,class:"pt",ref_key:"pagni",ref:a,onResuit:p.pagina,_limit:s.imit,count:s.page.total},{default:f(()=>[s.many.length>50?(u(),g(E,{key:0,is_bottom:!0})):x("",!0)]),_:1},8,["onResuit","_limit","count"])):x("",!0)])]),extra:f(()=>[h(Z),h(G,null,{default:f(()=>[h(ze)]),_:1}),h(K,{onTrash:p.trash},null,8,["onTrash"])]),_:1})}}});export{Wt as default};
